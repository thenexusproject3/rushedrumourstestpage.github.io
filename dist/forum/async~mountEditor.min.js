(window.webpackJsonpvanillaforum=window.webpackJsonpvanillaforum||[]).push([[5],Array(569).concat([function(e,t,o){"use strict";o.r(t);var n=o(24),i=o(43);
/**
 * Permissions utility functions ported over from the server.
 *
 * @see {\Vanilla\Permsissions} for the server-side implementation.
 * @see {Gdn_Controller->renderMaster()} for the injection of permissions into the client.
 *
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e&&(e=[e]),a(e))return!1;if(i.a.permissions.isAdmin)return!0;var o=!0,n=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){if(!1===s(l.value,t))return!1}}catch(e){n=!0,r=e}finally{try{o||null==c.return||c.return()}finally{if(n)throw r}}return!0}function a(){return null!==function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e.map(function(e){return e.toLowerCase()});for(var t=i.a.permissions.bans||{},o=Object.keys(t),n=0;n<o.length;n++){var r=o[n],a=t[r];if(!(r in e)){if(a.except){var l="string"==typeof a.except?[a.except]:a.except,c=!1,u=!0,h=!1,d=void 0;try{for(var p,f=l[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var m=p.value;if(s(m)){c=!0;break}}}catch(e){h=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(h)throw d}}if(c)continue}return a.type=r,a}}return null}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=i.a.permissions.permissions||{};return"admin"===e?!!i.a.permissions.isAdmin:"!"===e.substr(0,1)?null:!0===o[e]||!(null===t||!o[e].indexOf||-1===o[e].indexOf(t))}var l=o(54),c=o(3),u=o(49),h=o(0),d=o.n(h),p=d.a.createContext({});function f(){return Object(h.useContext)(p)}var m=o(38),g=o(8),b=o(9),v=o(11),j=o(10),y=o(14),O=o(12),_=o(6),C=o(650),w=o.n(C),S=o(7),x=o(2),E=o(47);var k,L=o(27);
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */!function(e){e.XS="xs",e.MOBILE="mobile",e.TABLET="tablet",e.NO_BLEED="no_bleed",e.DESKTOP="desktop"}(k||(k={}));var I=d.a.createContext(k.DESKTOP);function T(){return Object(h.useContext)(I)}var R=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"state",{device:k.DESKTOP}),Object(_.a)(Object(y.a)(o),"deviceChecker",d.a.createRef()),Object(_.a)(Object(y.a)(o),"throttledUpdateOnResize",w()(function(){o.setState({device:o.device})},100)),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e,t,o=(e=Object(S.b)("deviceChecker"),t=Object(E.a)().mediaQueries(),{root:e({visibility:Object(x.f)("hidden"),height:Object(x.f)(0),margin:Object(x.f)(0),padding:Object(x.f)(0),width:Object(x.h)(4)},t.noBleed({width:Object(x.h)(3)}),t.twoColumns({width:Object(x.h)(2)}),t.oneColumn({width:Object(x.h)(1)}),t.xs({width:Object(x.h)(0)}))});Object(L.b)();var n=d.a.createElement(I.Provider,{value:this.state.device},this.props.children);return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{ref:this.deviceChecker,className:o.root}),this.deviceChecker.current&&n)}},{key:"componentDidMount",value:function(){this.setState({device:this.device}),window.addEventListener("resize",this.throttledUpdateOnResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.throttledUpdateOnResize)}},{key:"device",get:function(){if(this.deviceChecker.current){var e=k.DESKTOP;switch("".concat(this.deviceChecker.current.offsetWidth)){case"0":e=k.XS;break;case"1":e=k.MOBILE;break;case"2":e=k.TABLET;break;case"3":e=k.NO_BLEED;break;default:e=k.DESKTOP}return e}throw new Error("deviceChecker does not exist")}}]),t}(d.a.Component);function N(e){var t=e.displayName||e.name||"Component",o=function(t){return d.a.createElement(I.Consumer,null,function(o){return d.a.createElement(e,Object(m.a)({device:o},t))})};return o.displayName="withDevice(".concat(t,")"),o}var M=o(26),A=o(580),z={index:0,length:0},P={currentSelection:z,lastGoodSelection:z,mentionSelection:null,activeFormats:{}};var B=d.a.createContext(null);function D(){return Object(h.useContext)(B)}function q(e){var t,o,n,i,r,a,s,l=(t=e.quill,o=Object(h.useCallback)(function(e,o){if(!t)return e;var n=o.selection,i=null!==n?n:e.lastGoodSelection;return{currentSelection:n,lastGoodSelection:i,mentionSelection:Object(A.e)(t,n),activeFormats:i?t.getFormat(i):{}}},[t]),n=Object(h.useReducer)(o,P),i=Object(u.a)(n,2),r=i[0],a=i[1],s=Object(h.useCallback)(function(e){a({selection:e})},[a]),Object(c.a)({},r,{updateSelection:s}));return d.a.createElement(B.Provider,{value:l},e.children)}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var H=function(e){var t=Object(h.useState)(null),o=Object(u.a)(t,2),n=o[0],i=o[1],r=T(),a=r===k.MOBILE||r===k.XS,s=Object(M.c)("editor"),l=s+"-description";return d.a.createElement(p.Provider,{value:Object(c.a)({},e,{quill:n,setQuillInstance:i,isMobile:a,editorID:s,descriptionID:l})},d.a.createElement(q,{quill:n},e.children))},F=o(51),U=o(13),W=o(1),G=o(83),V=o(100),K=Object(S.c)(function(){var e=Object(S.d)("userContent"),t=Object(U.b)(),o=t.mainColors,n=e("fonts",{size:t.fonts.size.large,headings:{h1:"2em",h2:"1.5em",h3:"1.25em",h4:"1em",h5:".875em",h6:".85em"}}),i=e("blocks",{margin:n.size,bg:o.fg.mix(o.bg,.05),fg:o.bg.lightness()>.5?o.fg.darken(.2):o.fg.lighten(.2)}),r=e("embeds",{bg:o.bg,fg:o.fg,borderRadius:Object(x.h)(2)}),a=e("code",{fontSize:Object(x.e)(.85),borderRadius:2,bg:i.bg,fg:i.fg}),s=e("codeInline",{borderRadius:a.borderRadius,paddingVertical:Object(x.e)(.2),paddingHorizontal:Object(x.e)(.4),bg:o.fg.mix(o.bg,.08)}),l=e("codeBlock",{borderRadius:t.border.radius,paddingVertical:n.size,paddingHorizontal:n.size,lineHeight:1.45});return{fonts:n,list:e("list",{spacing:{top:Object(x.e)(.5),left:Object(x.e)(2)},listDecoration:{minWidth:Object(x.e)(2)}}),blocks:i,code:a,codeInline:s,codeBlock:l,embeds:r}}),Y=Object(S.c)(function(){var e,t=Object(S.b)("userContent"),o=K(),n=Object(U.b)(),i=Object(c.a)({position:"relative"},Object(W.o)({top:o.list.spacing.top,left:o.list.spacing.left}),{$nest:{"&:first-child":{marginTop:0},"&:last-child":{marginBottom:0}}}),r=function(e,t){return{marginTop:n.spacer.size,fontSize:t,$nest:Object(V.a)()}},a={"& h1":r(0,o.fonts.headings.h1),"& h2":r(0,o.fonts.headings.h2),"& h3":r(0,o.fonts.headings.h3),"& h4":r(0,o.fonts.headings.h4),"& h5":r(0,o.fonts.headings.h5),"& h6":r(0,o.fonts.headings.h6)},s={"& ol":{listStylePosition:"inside"},"& ol li":Object(c.a)({},i,{listStyle:"decimal"}),"& ul li":Object(c.a)({},i,{listStyle:"initial"})},l={"& p":{marginTop:0,marginBottom:0,$nest:{"&:not(:first-child)":{marginTop:.5*o.blocks.margin},"&:first-child":{$nest:Object(V.a)()}}},"&& > *:not(:last-child)":{marginBottom:o.blocks.margin},"&& > *:first-child":{marginTop:0}},u=Object(W.u)(),h={color:u.color,$nest:Object(c.a)({},u.nested,{"&:hover, &:focus":{textDecoration:"underline"}})},d={a:h,"p a":h,"li a":h},p={"& .code":{position:"relative",fontSize:o.code.fontSize,fontFamily:'Menlo, Monaco, Consolas, "Courier New", monospace',maxWidth:Object(x.g)(100),overflowX:"auto",margin:0,color:Object(W.g)(o.code.fg),backgroundColor:Object(W.g)(o.code.bg),border:"none"},"&& .codeInline":Object(c.a)({whiteSpace:"normal"},Object(W.r)({top:o.codeInline.paddingVertical,bottom:o.codeInline.paddingVertical,left:o.codeInline.paddingHorizontal,right:o.codeInline.paddingHorizontal}),{background:Object(W.g)(o.codeInline.bg),borderRadius:o.codeInline.borderRadius,display:"inline",position:"static"}),"&& .codeBlock":Object(c.a)({display:"block",wordWrap:"normal",lineHeight:o.codeBlock.lineHeight,borderRadius:o.codeBlock.borderRadius,flexShrink:0,whiteSpace:"pre"},Object(W.r)({top:o.codeBlock.paddingVertical,bottom:o.codeBlock.paddingVertical,left:o.codeBlock.paddingHorizontal,right:o.codeBlock.paddingHorizontal}))},f=(e={},Object(_.a)(e,"& .spoiler,\n          & .button-spoiler,\n          & .spoiler-icon",{background:Object(W.g)(o.blocks.bg),color:Object(W.g)(o.blocks.fg)}),Object(_.a)(e,"& .spoiler-icon",{margin:0}),Object(_.a)(e,"& .embedExternal-content",{borderRadius:o.embeds.borderRadius,$nest:{"&::after":{borderRadius:o.embeds.borderRadius}}}),Object(_.a)(e,"& .embedText-content",Object(c.a)({background:Object(W.g)(o.embeds.bg),color:Object(W.g)(o.embeds.fg),overflow:"hidden"},Object(G.b)(n.body.backgroundImage.color,Object(W.e)({color:o.embeds.fg.fade(.3)}),Object(G.a)().embed()))),Object(_.a)(e,"& .embedText-title,\n          & .embedLink-source,\n          & .embedLink-excerpt",{color:Object(W.g)(o.blocks.fg)}),Object(_.a)(e,"& .metaStyle",{opacity:.8}),Object(_.a)(e,"& .embedLoader-box",Object(c.a)({background:Object(W.g)(o.embeds.bg)},Object(W.e)({color:o.embeds.fg.fade(.3)}))),e);return{root:t({display:Object(x.f)("block"),position:"relative",width:Object(x.g)(100),wordBreak:"break-word",lineHeight:n.lineHeights.base,fontSize:o.fonts.size,$nest:Object(c.a)({"&::before":{marginTop:Object(V.a)()["&::before"].marginTop}},a,s,l,d,p,f)})}});o(693);function Z(e){var t=Object(h.useRef)(),o=t.current;return t.current=e,o}var $=o(16),X=o(29),Q=Object(S.c)(function(){var e=Object(U.b)(),t=Object(X.a)(),o=Object(S.d)("richEditor"),n={fadeIn:Object(L.c)({$debugName:"animation-fadeIn","0%":{opacity:0},"100%":{opacity:1}})},i=o("colors",{bg:e.mainColors.bg,outline:e.mainColors.primary.fade(.6)}),r=o("spacing",{paddingLeft:36,paddingRight:36,paddingTop:12,paddingBottom:12,embedMenu:0}),a=o("sizing",{minHeight:200,emojiSize:40}),s=o("menuButton",{size:42}),l=o("paragraphMenuHandle",{size:28,offset:1-t.border.width}),c=o("insertLink",{width:287}),u=o("flyout",{padding:{vertical:12,horizontal:12},maxHeight:Object(x.m)(100),height:s.size}),h=o("nub",{width:12}),d=o("menu",{borderWidth:1,offset:2*h.width}),p=o("pilcrow",{offset:9,fontSize:14,animation:{duration:".3s",name:n.fadeIn,timing:"ease-out",iterationCount:1}}),f=o("emojiGroup",{paddingLeft:3,offset:-(t.border.width+2*d.borderWidth)}),m=o("embedMenu",{padding:0,mobile:{border:{color:e.mainColors.primary},transition:{duration:".15s",timing:"ease-out"}}}),g=o("embedButton",{offset:-t.border.width}),b=o("text",{offset:0,placeholder:{color:e.mixBgAndFg(.5)}}),v=o("titleInput",{height:e.fonts.size.title+e.gutter.half,fontSize:e.fonts.size.title,placeholder:{color:e.mixBgAndFg(.5)}}),j=o("scrollContainer",{overshoot:48}),y=o("emojiBody",{height:252,padding:{horizontal:3,top:3,bottom:0}}),O=o("emojiHeader",{padding:{horizontal:12,vertical:4}}),_=o("emojiFooter",{height:s.size});return{colors:i,spacing:r,sizing:a,menuButton:s,paragraphMenuHandle:l,insertLink:c,flyout:u,nub:h,menu:d,pilcrow:p,emojiGroup:f,embedButton:g,text:b,title:v,embedMenu:m,scrollContainer:j,emojiBody:y,buttonContents:o("buttonContents",{state:{bg:e.mainColors.primary.fade(.1)}}),emojiHeader:O,emojiFooter:_,iconWrap:o("iconWrap",{width:32,height:32}),richEditorWidth:8*a.emojiSize}}),J=Object(S.c)(function(e,t){var o,n=Object(U.b)(),i=Object(S.b)("richEditor"),r=Q(),a=Object(X.a)(),s=i({position:"relative",display:"block",$nest:{"&.isDisabled":{$nest:{"&, &.richEditor-button":{cursor:Object(x.f)("progress")}}},"& .richEditor-text, & .richEditor-textWrap, & .richEditor-frame":{display:"flex",flexDirection:"column",flexGrow:1,position:"relative"},"& .ql-clipboard":Object(c.a)({},Object(W.y)(),{position:"fixed"}),"& .richEditor-nextInput, .iconButton, .richEditor-button":Object(c.a)({},Object(W.w)(),Object(W.d)(),{position:"relative",border:0,padding:0,background:"none",textAlign:"left"}),"& .Close-x":{display:"block",cursor:"pointer"},"& .content-wrapper":{height:Object(x.g)(100)},"& .embedDialogue":{position:"relative"}}}),l=i("iconWrap",Object(c.a)({},Object(W.t)(),{content:Object(x.i)("")},W.a.middleOfParent(),{width:Object(W.B)(r.iconWrap.width),height:Object(W.B)(r.iconWrap.height)},Object(W.e)({radius:3,color:"transparent"}))),u=i("paragraphMenu",{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",top:Object(W.B)(r.pilcrow.offset),left:0,marginLeft:Object(W.B)(-n.gutter.quarter+(e?0:-(n.gutter.size+6))),transform:"translateX(-100%)",height:Object(W.B)(r.paragraphMenuHandle.size),width:Object(W.B)(n.icon.sizes.default),animationName:r.pilcrow.animation.name,animationDuration:r.pilcrow.animation.duration,animationTimingFunction:r.pilcrow.animation.timing,animationIterationCount:r.pilcrow.animation.iterationCount,zIndex:1,$nest:{".richEditor-button&.isActive:hover":{cursor:"default"},"&.isMenuInset":{transform:"none"}}}),h=i("paragraphMenu-mobile",{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",top:Object(x.f)(0)}),d=i("menuBar",{position:"relative",width:Object(W.B)(4*r.menuButton.size),overflow:"hidden"}),p=i("menuBarToggles",{position:"relative",display:"flex",justifyContent:"space-between",flexWrap:"nowrap",width:Object(W.B)(4*r.menuButton.size)}),f=i("paragraphMenuHandle",Object(c.a)({},Object(W.d)(),Object(W.C)(),{background:"transparent",border:0,display:"block",cursor:"pointer",width:Object(W.B)(a.sizing.height),height:Object(W.B)(a.sizing.height),padding:0,maxWidth:Object(W.B)(a.sizing.height),minWidth:Object(W.B)(a.sizing.height),outline:0,$nest:Object(_.a)({"&:focus, &:hover":{color:Object(W.g)(n.mainColors.primary)}},"&.isOpen .".concat(l),{backgroundColor:Object(W.g)(r.buttonContents.state.bg)})})),m=i("paragraphMenuHandleMobile",{width:Object(W.B)(r.menuButton.size),height:Object(W.B)(r.menuButton.size),maxWidth:Object(W.B)(r.menuButton.size),minWidth:Object(W.B)(r.menuButton.size)}),g=i("text",{position:"relative",whiteSpace:Object(x.f)("pre-wrap"),outline:0,$nest:{"&.ql-blank::before":{content:"attr(placeholder)",display:"block",color:Object(W.g)(r.text.placeholder.color),position:"absolute",top:r.text.offset,left:0,cursor:"text"}}}),b=i("menuItems",{"-ms-overflow-style":"-ms-autohiding-scrollbar",display:"flex",alignItems:"center",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",padding:0,margin:0,zIndex:1,overflow:"visible",$nest:{".richEditor-menuItem":{display:"block",padding:0,margin:0,$nest:{".richEditor-button, &.richEditor-button":{width:Object(W.B)(r.menuButton.size),fontSize:Object(W.B)(24*r.menuButton.size/39),lineHeight:Object(W.B)(r.menuButton.size),$nest:{"&.emojiChar-🇺🇳":{fontSize:Object(W.B)(10)}}},"&:first-child .richEditor-embedButton":{borderBottomLeftRadius:Object(W.B)(n.border.radius)},"&.isRightAligned":{marginLeft:"auto"}}}}}),v=i("button",Object(c.a)({display:"block"},Object(W.C)(),Object(W.d)(),{cursor:"pointer",width:Object(W.B)(r.menuButton.size),height:Object(W.B)(r.menuButton.size),border:0,padding:0,overflow:"hidden",position:"relative",color:Object(W.g)(n.mainColors.fg),outline:0,$nest:(o={"&:hover":{color:Object(W.g)(n.mainColors.primary)},"&:focus":{color:Object(W.g)(n.mainColors.secondary)},"&:active":{color:Object(W.g)(n.mainColors.secondary)}},Object(_.a)(o,"&.isOpen .".concat(l),{backgroundColor:Object(W.g)(r.buttonContents.state.bg)}),Object(_.a)(o,"&.focus-visible .".concat(l),{backgroundColor:Object(W.g)(r.buttonContents.state.bg)}),Object(_.a)(o,"&.richEditor-formatButton, &.richEditor-embedButton",{height:Object(W.B)(r.menuButton.size)}),Object(_.a)(o,"&.emojiGroup",{display:"block",width:Object(W.B)(r.menuButton.size),height:Object(W.B)(r.menuButton.size),textAlign:"center"}),Object(_.a)(o,"&:not(:disabled)",{cursor:"pointer"}),Object(_.a)(o,"&.isActive .".concat(l),{backgroundColor:Object(W.g)(r.buttonContents.state.bg)}),o)})),j=i("topLevelButtonActive",{color:Object(W.g)(n.mainColors.primary),$nest:Object(_.a)({},"& .".concat(l),{backgroundColor:Object(W.g)(r.buttonContents.state.bg)})}),y=i("menuItem",{display:"block",padding:0,margin:0,overflow:"visible",$nest:{"& .richEditor-button, &.richEditor-button":{width:Object(W.B)(r.menuButton.size),height:Object(W.B)(r.menuButton.size),maxWidth:Object(W.B)(r.menuButton.size),fontSize:Object(W.B)(24*r.menuButton.size/39),lineHeight:Object(W.B)(r.menuButton.size),$nest:{"&.emojiChar-🇺🇳":{fontSize:Object(W.B)(14)}}},"&.isRightAligned":{marginLeft:"auto"}}}),O=i("upload",{display:Object(x.f)("none")}),C=i("embedBar",{display:"block",width:Object(x.g)(100),padding:Object(W.B)(r.embedMenu.padding),background:e?void 0:Object(W.g)(r.colors.bg)}),w=i("icon",{display:"block",margin:"auto",height:Object(W.B)(n.icon.sizes.default),width:Object(W.B)(n.icon.sizes.default)}),E=i("legacyFrame",{margin:"auto",height:"initial",minHeight:Object(W.B)(r.sizing.minHeight+r.menuButton.size),position:"relative",backgroundColor:Object(W.g)(r.colors.bg),padding:0,$nest:{"&.isMenuInset":{overflow:"initial",position:"relative"}}}),k=i("close",Object(c.a)({},W.a.middleRightOfParent(6),Object(W.C)(),{width:Object(W.B)(r.menuButton.size),height:Object(W.B)(r.menuButton.size),lineHeight:Object(W.B)(r.menuButton.size),verticalAlign:"bottom",textAlign:"center",background:"transparent",cursor:"pointer"})),L=i("flyoutDescription",{marginBottom:".5em"}),I=i("separator",{borderTop:Object(W.v)(),marginBottom:Object(W.B)(8)}),T=i("position",{position:"absolute",left:Object(x.b)("50% - ".concat(Object(W.B)(r.spacing.paddingLeft/2))),$nest:{"&.isUp":{bottom:Object(x.b)("50% + ".concat(Object(W.B)(r.spacing.paddingRight/2-a.border.width)))},"&.isDown":{top:Object(x.b)("50% + ".concat(Object(W.B)(r.spacing.paddingRight/2-a.border.width)))}}}),R=i("paragraphMenuPanel",{}),N=i("emojiGroup",{$nest:Object(_.a)({},"&.isSelected .".concat(l),{backgroundColor:Object(W.g)(r.buttonContents.state.bg)})});return{root:s,menuBar:d,menuBarToggles:p,paragraphMenuHandle:f,paragraphMenuHandleMobile:m,text:g,menuItems:b,upload:O,embedBar:C,menuItem:y,button:v,topLevelButtonActive:j,icon:w,close:k,flyoutDescription:L,paragraphMenu:u,paragraphMenuMobile:h,separator:I,position:T,legacyFrame:E,paragraphMenuPanel:R,iconWrap:l,flyoutOffset:i("flyoutOffset",{marginTop:Object(W.B)((r.menuButton.size-r.iconWrap.width)/-2+1)}),emojiGroup:N}}),ee=o(37),te=o(572),oe=o(587),ne=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(oe.c);ne.blotName="header",ne.tagName=["H1","H2","H3","H4","H5","H6"];var ie=ne,re=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"setGeneratedID",value:function(){var e=t.calcUniqueID(this.domNode.textContent||""),o=null;t.headerCounts[e]?(o=t.headerCounts[e],t.headerCounts[e]++):t.headerCounts[e]=1,null!==o&&(e+="-"+o),this.domNode.setAttribute("data-id",e)}}],[{key:"create",value:function(e){var o;o="number"==typeof e?e:e.level;var n=Object(te.a)(Object(j.a)(t),"create",this).call(this,o);return"object"===Object(ee.a)(e)&&n.setAttribute("data-id",e.ref),n}},{key:"calcUniqueID",value:function(e){return encodeURIComponent(Object($.l)(e))}},{key:"formats",value:function(e){return{level:Object(te.a)(Object(j.a)(t),"formats",this).call(this,e),ref:e.getAttribute("data-id")||""}}},{key:"resetCounters",value:function(){this.headerCounts={}}}]),t}(ie);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(_.a)(re,"headerCounts",{});var ae=o(576),se=o(589),le=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"optimize",value:function(e){Object(te.a)(Object(j.a)(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return Object(te.a)(Object(j.a)(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(se.a);le.blotName="bold",le.tagName=["STRONG","B"];var ce=le,ue=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(ce);ue.blotName="italic",ue.tagName=["EM","I"];var he=ue,de=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o)return Object(te.a)(Object(j.a)(t.prototype),"format",this).call(this,e,o);o=this.constructor.sanitize(o),this.domNode.setAttribute("href",o)}}],[{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return e=this.sanitize(e),o.setAttribute("href",e),o.setAttribute("target","_blank"),o}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return function(e,t){var o=document.createElement("a");o.href=e;var n=o.href.slice(0,o.href.indexOf(":"));return t.indexOf(n)>-1}(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(se.a);de.blotName="link",de.tagName="A",de.SANITIZED_URL="about:blank",de.PROTOCOL_WHITELIST=["http","https","mailto","tel"];var pe=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(se.a);pe.blotName="strike",pe.tagName="S";var fe=pe,me=o(571),ge=o.n(me),be=new(function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"add",value:function(e,o){if("+1"===o||"-1"===o){var n=this.value(e)||0;o="+1"===o?n+1:n-1}return 0===o?(this.remove(e),!0):Object(te.a)(Object(j.a)(t.prototype),"add",this).call(this,e,o)}},{key:"canAdd",value:function(e,o){return Object(te.a)(Object(j.a)(t.prototype),"canAdd",this).call(this,e,o)||Object(te.a)(Object(j.a)(t.prototype),"canAdd",this).call(this,e,parseInt(o))}},{key:"value",value:function(e){return parseInt(Object(te.a)(Object(j.a)(t.prototype),"value",this).call(this,e))||void 0}}]),t}(ge.a.Attributor.Class))("indent","ql-indent",{scope:ge.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),ve=o(610),je=o(609),ye=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,null,[{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return Object(n.j)()?(o.innerHTML=e.emojiChar,o.classList.add("nativeEmoji")):o.innerHTML=Object(n.a)(e.emojiChar),Object(n.m)(o,"data",e),o}},{key:"value",value:function(e){return Object(n.f)(e,"data")}}]),t}(je.a);Object(_.a)(ye,"className","safeEmoji"),Object(_.a)(ye,"blotName","emoji"),Object(_.a)(ye,"tagName","span");var Oe=o(631),_e=o(682),Ce=o(4),we=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,null,[{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return o.textContent="@"+e.name,o.dataset.userid=e.userID.toString(),o.dataset.username=e.name,o.href=Object(Ce.j)(e.name),o}},{key:"value",value:function(e){return{name:e.dataset.username,userID:parseInt(e.dataset.userid||"",10)}}}]),t}(je.a);Object(_.a)(we,"blotName","mention"),Object(_.a)(we,"className","atMention"),Object(_.a)(we,"tagName","a");var Se=o(608),xe=o(595),Ee=function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),e.setAttribute("aria-label",Object(Ce.m)("@mention a user")),e.setAttribute("aria-autocomplete","list"),o}return Object(O.a)(t,e),Object(b.a)(t,null,[{key:"formats",value:function(){return!0}}]),Object(b.a)(t,[{key:"attach",value:function(){Object(te.a)(Object(j.a)(t.prototype),"attach",this).call(this),this.statics.requiredContainer&&this.parent.statics.blotName!==this.statics.requiredContainer&&this.wrap(this.statics.requiredContainer)}},{key:"replaceWith",value:function(e,t){return this.moveChildren(this.parent,this.next),this.remove(),this.parent.replaceWith(e,t)}},{key:"finalize",value:function(e){this.replaceWith("mention",e),this.quill&&this.quill.update(ae.a.sources.API)}},{key:"cancel",value:function(){this.replaceWith("inline",this.domNode.innerHTML),this.quill&&this.quill.update(ae.a.sources.SILENT)}},{key:"injectAccessibilityAttributes",value:function(e){var t=this.domNode,o=this.parent.domNode;o.setAttribute("id",e.ID),o.setAttribute("aria-expanded",!!e.activeItemID),o.setAttribute("aria-owns",e.suggestionListID),t.setAttribute("aria-controls",e.suggestionListID),e.activeItemIsLoader?(t.setAttribute("aria-label",Object(Ce.m)("Loading new @mention suggestions")),t.removeAttribute("aria-activedescendant")):(t.setAttribute("aria-activedescendant",e.activeItemID),t.removeAttribute("aria-describeby"))}},{key:"username",get:function(){return(this.domNode.textContent||"").replace("@","").replace('"',"")}},{key:"quill",get:function(){return this.scroll&&this.scroll.domNode.parentNode?ae.a.find(this.scroll.domNode.parentNode):null}}]),t}(se.a);Object(_.a)(Ee,"blotName","mention-autocomplete"),Object(_.a)(Ee,"className","atMentionAutoComplete"),Object(_.a)(Ee,"tagName","span"),Object(_.a)(Ee,"requiredContainer","mention-combobox");
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var ke=function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),e.setAttribute("role","combobox"),e.setAttribute("aria-haspopup","listbox"),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"optimize",value:function(e){Object(te.a)(Object(j.a)(t.prototype),"optimize",this).call(this,e),0===this.children.length&&this.remove()}},{key:"replaceWith",value:function(e,o){var n="string"==typeof e?ge.a.create(e,o):e;return Object(te.a)(Object(j.a)(t.prototype),"replaceWith",this).call(this,n)}}]),t}(Se.a);Object(_.a)(ke,"blotName","mention-combobox"),Object(_.a)(ke,"className","atMentionComboBox"),Object(_.a)(ke,"tagName","span"),Object(_.a)(ke,"scope",ge.a.Scope.BLOCK),Object(_.a)(ke,"allowedChildren",[].concat(Object(F.a)(Se.a.allowedChildren),[Ee,se.a,je.a,xe.a]));var Le=o(34),Ie=o.n(Le),Te=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"optimize",value:function(e){Object(te.a)(Object(j.a)(t.prototype),"optimize",this).call(this,e);var o=this.next;o instanceof t&&o.prev===this&&o.statics.blotName===this.constructor.blotName&&o.domNode.tagName===this.domNode.tagName&&(o.moveChildren(this),o.remove())}}],[{key:"formats",value:function(){}},{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return this.className&&o.classList.add(this.className),o}}]),t}(Se.a);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Re(e){return function(e){function t(e){var o;if(Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"parent",void 0),Object(_.a)(Object(y.a)(o),"useWrapperReplacement",!0),!o.statics.parentName)throw new Error("You must initialize with parentName");return o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"createWrapper",value:function(){var e=ge.a.create(this.statics.parentName);if(!(e instanceof Te))throw new Error("The provided static parentName did not instantiate an instance of a WrapperBlot.");return e}},{key:"attach",value:function(){if(Object(te.a)(Object(j.a)(t.prototype),"attach",this).call(this),!(Array.isArray(this.statics.parentName)?this.statics.parentName:[this.statics.parentName]).includes(this.parent.statics.blotName)){var e=this.createWrapper();this.wrap(e)}}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():Object(te.a)(Object(j.a)(t.prototype),"remove",this).call(this)}},{key:"optimize",value:function(e){Object(te.a)(Object(j.a)(t.prototype),"optimize",this).call(this,e),0===this.children.length&&this.remove()}},{key:"getWrapper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.parent;return e&&t.getWrapper?t.getWrapper(!0):t}},{key:"replaceWith",value:function(e,o){var n=this;if(this.useWrapperReplacement)if(e===this.statics.blotName)Object(te.a)(Object(j.a)(t.prototype),"replaceWith",this).call(this,e,o);else{var i=this.getWrapper(!0);this.parent.children.forEach(function(t){t===n?t.replaceWithIntoScroll(e,o,i):t.insertInto(n.scroll,i)}),i.remove()}else Object(te.a)(Object(j.a)(t.prototype),"replaceWith",this).call(this,e,o)}},{key:"replaceWithIntoScroll",value:function(e,t,o){var n=ge.a.create(e,t);this.moveChildren(n),n.insertInto(this.scroll,o)}}]),t}(e)}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(_.a)(Te,"scope",ge.a.Scope.BLOCK_BLOT),Object(_.a)(Te,"tagName","div"),Object(_.a)(Te,"allowedChildren",[Te]),Object(_.a)(Te,"className",void 0);var Ne=Re(function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(function(e){function t(e){var o;if(Object(g.a)(this,t),!(o=Object(v.a)(this,Object(j.a)(t).call(this,e))).statics.className)throw new Error("Attempted to initialize a ClassFormatBlot without setting the static className");return o}return Object(O.a)(t,e),Object(b.a)(t,null,[{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return this.className&&o.classList.add(this.className),o}},{key:"formats",value:function(e){var t=this.className&&e.classList.contains(this.className),o=e.tagName.toLowerCase()===this.tagName.toLowerCase();return this.className?t&&o:o}}]),Object(b.a)(t,[{key:"formats",value:function(){return Object(_.a)({},this.statics.blotName,this.statics.formats(this.domNode))}}]),t}(oe.c))),Me=Re(Te);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Me.allowedChildren=[Ne];var Ae=Me,ze=o(17),Pe=o.n(ze),Be={fill:"currentColor"};function De(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Italic")),d.a.createElement("path",{d:"M11.472,15.4a4.381,4.381,0,0,0-.186,1.085.744.744,0,0,0,.333.713,2.323,2.323,0,0,0,1.077.186L12.51,18H7.566l.17-.62a3.8,3.8,0,0,0,.791-.07,1.282,1.282,0,0,0,.566-.271,1.62,1.62,0,0,0,.41-.558,5.534,5.534,0,0,0,.326-.93L11.642,8.7a5.332,5.332,0,0,0,.233-1.271.577.577,0,0,0-.349-.612,3.714,3.714,0,0,0-1.186-.132l.171-.62h5.038l-.171.62a3.058,3.058,0,0,0-.852.1,1.246,1.246,0,0,0-.59.38,2.578,2.578,0,0,0-.441.774,11.525,11.525,0,0,0-.4,1.287Z",style:Be}))}function qe(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Strikethrough")),d.a.createElement("path",{d:"M12.258,13H6V12h4.2l-.05-.03a4.621,4.621,0,0,1-1.038-.805,2.531,2.531,0,0,1-.55-.892A3.285,3.285,0,0,1,8.4,9.2a3.345,3.345,0,0,1,.256-1.318,3.066,3.066,0,0,1,.721-1.046,3.242,3.242,0,0,1,1.1-.682,3.921,3.921,0,0,1,1.4-.24,3.641,3.641,0,0,1,1.271.217,4.371,4.371,0,0,1,1.194.7l.4-.7h.357l.171,3.085h-.574A3.921,3.921,0,0,0,13.611,7.32a2.484,2.484,0,0,0-1.7-.619,2.269,2.269,0,0,0-1.5.465,1.548,1.548,0,0,0-.558,1.255,1.752,1.752,0,0,0,.124.674,1.716,1.716,0,0,0,.4.574,4.034,4.034,0,0,0,.729.542,9.854,9.854,0,0,0,1.116.566,20.49,20.49,0,0,1,1.906.953q.232.135.435.27h4.6v1H15.675a2.263,2.263,0,0,1,.3.544,3.023,3.023,0,0,1,.186,1.093,3.236,3.236,0,0,1-1.177,2.541,4.014,4.014,0,0,1-1.334.721,5.393,5.393,0,0,1-1.7.256,4.773,4.773,0,0,1-1.588-.248,4.885,4.885,0,0,1-1.434-.837l-.434.76H8.132L7.9,14.358h.573a3.886,3.886,0,0,0,.411,1.255A3.215,3.215,0,0,0,10.7,17.155a3.872,3.872,0,0,0,1.294.21,2.786,2.786,0,0,0,1.813-.543,1.8,1.8,0,0,0,.667-1.473,1.752,1.752,0,0,0-.573-1.34,4.04,4.04,0,0,0-.83-.6Q12.723,13.217,12.258,13Z",style:Be}))}function He(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Paragraph Code Block")),d.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.818,14.032q0-1.27-1.818-1.271V11.455a2.429,2.429,0,0,0,1.371-.311,1.075,1.075,0,0,0,.447-.947V8.071A1.763,1.763,0,0,1,5.56,6.5,4,4,0,0,1,7.785,6V7.244a1.949,1.949,0,0,0-1.131.318,1.019,1.019,0,0,0-.352.844v2.031q0,1.359-1.566,1.626v.083q1.566.246,1.566,1.62V15.81a1.034,1.034,0,0,0,.348.847,1.836,1.836,0,0,0,1.135.3v1.251a3.89,3.89,0,0,1-2.273-.537,1.982,1.982,0,0,1-.694-1.692ZM9.009,15.14a1.05,1.05,0,0,1,.26-.766,1,1,0,0,1,.752-.267.992.992,0,0,1,.758.277,1.063,1.063,0,0,1,.26.756,1.089,1.089,0,0,1-.263.769.98.98,0,0,1-.755.283.973.973,0,0,1-.752-.28A1.088,1.088,0,0,1,9.009,15.14Zm3.848,0a1.054,1.054,0,0,1,.26-.766,1.185,1.185,0,0,1,1.511.01,1.063,1.063,0,0,1,.26.756,1.089,1.089,0,0,1-.263.769,1.151,1.151,0,0,1-1.508,0A1.093,1.093,0,0,1,12.857,15.14Zm6.105.991a1.811,1.811,0,0,1-.68,1.565,3.788,3.788,0,0,1-2.178.513V16.958a1.765,1.765,0,0,0,1.012-.263,1.009,1.009,0,0,0,.363-.885V14.019a1.994,1.994,0,0,1,.362-1.279,1.879,1.879,0,0,1,1.2-.594v-.083q-1.566-.266-1.565-1.626V8.406a1.084,1.084,0,0,0-.312-.844A1.69,1.69,0,0,0,16.1,7.244V6a3.583,3.583,0,0,1,2.191.523,2.044,2.044,0,0,1,.667,1.712V10.2a1.077,1.077,0,0,0,.434.971,2.356,2.356,0,0,0,1.289.287v1.306a2.342,2.342,0,0,0-1.282.29,1.087,1.087,0,0,0-.441.981Z"}))}function Fe(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Link")),d.a.createElement("path",{d:"M13.575,10.4a3.824,3.824,0,0,1,.266,5.107c-.17.211-.076.106-2.318,2.348a3.821,3.821,0,0,1-5.4-5.4l1.731-1.731a.327.327,0,0,1,.559.223,4.735,4.735,0,0,0,.129,1.033.325.325,0,0,1-.087.3L7.2,13.53a2.293,2.293,0,0,0,3.243,3.242L12.5,14.72a2.293,2.293,0,0,0-.623-3.685.329.329,0,0,1-.179-.337,1.412,1.412,0,0,1,.4-.829l.12-.12a.324.324,0,0,1,.375-.062A3.792,3.792,0,0,1,13.575,10.4ZM17.853,6.12a3.819,3.819,0,0,0-5.4,0C10.207,8.362,10.3,8.257,10.131,8.468a3.82,3.82,0,0,0,1.25,5.818.325.325,0,0,0,.375-.063l.12-.119a1.412,1.412,0,0,0,.4-.83.329.329,0,0,0-.179-.337,2.291,2.291,0,0,1-.623-3.684L13.53,7.2a2.293,2.293,0,1,1,3.242,3.243l-1.251,1.251a.322.322,0,0,0-.087.3,4.726,4.726,0,0,1,.129,1.032.328.328,0,0,0,.559.224c.316-.315.836-.837,1.731-1.732A3.819,3.819,0,0,0,17.853,6.12Z",style:Be}))}function Ue(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Emoji")),d.a.createElement("path",{fill:"currentColor",d:"M12,4a8,8,0,1,0,8,8A8,8,0,0,0,12,4Zm0,14.644A6.644,6.644,0,1,1,18.644,12,6.651,6.651,0,0,1,12,18.644ZM10.706,10.2a1.25,1.25,0,1,0-1.249,1.25A1.249,1.249,0,0,0,10.706,10.2Zm3.837-1.249a1.25,1.25,0,1,0,1.25,1.249A1.249,1.249,0,0,0,14.543,8.953Zm.2,5.237a.357.357,0,0,0-.493.1,2.825,2.825,0,0,1-4.494,0,.355.355,0,1,0-.593.392,3.532,3.532,0,0,0,5.68,0A.354.354,0,0,0,14.74,14.19Z"}))}function We(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Paragraph")),d.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15,6 L17,6 L17,18 L15,18 L15,6 Z M11,6 L13.0338983,6 L13.0338983,18 L11,18 L11,6 Z M11,13.8666667 C8.790861,13.8666667 7,12.1056533 7,9.93333333 C7,7.76101332 8.790861,6 11,6 C11,7.68571429 11,11.6190476 11,13.8666667 Z"}))}function Ge(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("H2")),d.a.createElement("path",{d:"M12.3,17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607V7.006H12.3Zm8,0H13.526V15.783L16.1,13.192a22.007,22.007,0,0,0,1.514-1.657,3.978,3.978,0,0,0,.543-.92,2.475,2.475,0,0,0,.171-.923,1.4,1.4,0,0,0-.407-1.066,1.557,1.557,0,0,0-1.124-.39,3,3,0,0,0-1.111.212,5.239,5.239,0,0,0-1.241.766l-.868-1.06a5.612,5.612,0,0,1,1.62-1,4.744,4.744,0,0,1,1.675-.294,3.294,3.294,0,0,1,2.235.728,2.46,2.46,0,0,1,.841,1.959,3.453,3.453,0,0,1-.242,1.285,5.212,5.212,0,0,1-.746,1.254,17.041,17.041,0,0,1-1.671,1.747l-1.736,1.682v.068H20.3Z",style:Be}))}function Ve(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("H3")),d.a.createElement("path",{d:"M10.658,7.006H12.3V17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607Zm8.93,5.533a3.016,3.016,0,0,0-1.806-.748v-.055a2.789,2.789,0,0,0,1.56-.851A2.315,2.315,0,0,0,19.9,9.3a2.131,2.131,0,0,0-.848-1.791,3.8,3.8,0,0,0-2.36-.65,5.251,5.251,0,0,0-3.2,1.012l.786,1.121a5.226,5.226,0,0,1,1.245-.625,3.76,3.76,0,0,1,1.1-.161,1.881,1.881,0,0,1,1.232.349,1.22,1.22,0,0,1,.417.991q0,1.654-2.4,1.654H14.99v1.306h.869a4.066,4.066,0,0,1,2,.376,1.267,1.267,0,0,1,.636,1.176,1.559,1.559,0,0,1-.574,1.333,2.89,2.89,0,0,1-1.738.43,5.794,5.794,0,0,1-1.369-.171,6.372,6.372,0,0,1-1.347-.485V16.6a6.532,6.532,0,0,0,2.8.54,4.676,4.676,0,0,0,2.9-.783,2.637,2.637,0,0,0,1.019-2.225A2.143,2.143,0,0,0,19.588,12.539Z",style:Be}))}function Ke(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("H4")),d.a.createElement("path",{style:Be,d:"M12.3,17h-1.6v-4.5H6.1V17H4.4V7h1.6v4.1h4.6V7h1.6V17z"}),d.a.createElement("path",{style:Be,d:"M20.8,14.9h-1.3v2.2h-1.6v-2.2h-4.6v-1.2l4.6-6.6h1.6v6.5h1.3V14.9z M17.9,13.6v-2.5c0-0.9,0-1.6,0.1-2.2h-0.1 c-0.1,0.3-0.3,0.7-0.6,1.1l-2.5,3.6H17.9z"}))}function Ye(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("H5")),d.a.createElement("path",{style:Be,d:"M12.3,17H10.7V12.5H6.1V17H4.4V7H6v4.1h4.6V7h1.6V17Z"}),d.a.createElement("path",{style:Be,d:"M17,10.7a3.649,3.649,0,0,1,2.4.8,2.792,2.792,0,0,1,.9,2.2,3.04,3.04,0,0,1-1,2.5,4.1,4.1,0,0,1-2.8.9,5.991,5.991,0,0,1-2.6-.5V15.2a5.023,5.023,0,0,0,1.3.5,6.882,6.882,0,0,0,1.3.2,2.348,2.348,0,0,0,1.6-.5,1.678,1.678,0,0,0,.6-1.4c0-1.2-.8-1.8-2.3-1.8a2.485,2.485,0,0,0-.8.1c-.3,0-.6.1-.8.1l-.8-.5L14.4,7h5.2V8.4H15.8l-.2,2.5c.2,0,.4-.1.6-.1S16.6,10.7,17,10.7Z"}))}function Ze(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Quote")),d.a.createElement("path",{d:"M10.531,17.286V12.755H8.122a9.954,9.954,0,0,1,.1-1.408,4.22,4.22,0,0,1,.388-1.286,2.62,2.62,0,0,1,.735-.918A1.815,1.815,0,0,1,10.49,8.8V6.755a3.955,3.955,0,0,0-2,.49A4.164,4.164,0,0,0,7.082,8.551a5.84,5.84,0,0,0-.817,1.9A9.65,9.65,0,0,0,6,12.755v4.531Zm7.469,0V12.755H15.592a9.954,9.954,0,0,1,.1-1.408,4.166,4.166,0,0,1,.388-1.286,2.606,2.606,0,0,1,.734-.918A1.819,1.819,0,0,1,17.959,8.8V6.755a3.958,3.958,0,0,0-2,.49,4.174,4.174,0,0,0-1.408,1.306,5.86,5.86,0,0,0-.816,1.9,9.649,9.649,0,0,0-.266,2.306v4.531Z",style:Be}))}function $e(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Paragraph Code Block")),d.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.11588626,16.5074223 L3.14440918,12.7070466 L3.14440918,11.6376386 L9.11588626,7.32465415 L9.11588626,9.04808032 L4.63575044,12.0883808 L9.11588626,14.7663199 L9.11588626,16.5074223 Z M14.48227,5.53936141 L11.1573124,18.4606386 L9.80043634,18.4606386 L13.131506,5.53936141 L14.48227,5.53936141 Z M15.1729321,14.7663199 L19.6530679,12.0883808 L15.1729321,9.04808032 L15.1729321,7.32465415 L21.1444092,11.6376386 L21.1444092,12.7070466 L15.1729321,16.5074223 L15.1729321,14.7663199 Z"}))}function Xe(e){var t=J(!1),o=Pe()(e);return d.a.createElement("svg",{className:Pe()(o,t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Spoiler")),d.a.createElement("path",{d:"M8.138,16.569l.606-.606a6.677,6.677,0,0,0,1.108.562,5.952,5.952,0,0,0,2.674.393,7.935,7.935,0,0,0,1.008-.2,11.556,11.556,0,0,0,5.7-4.641.286.286,0,0,0-.02-.345c-.039-.05-.077-.123-.116-.173a14.572,14.572,0,0,0-2.917-3.035l.6-.6a15.062,15.062,0,0,1,2.857,3.028,1.62,1.62,0,0,0,.154.245,1.518,1.518,0,0,1,.02,1.5,12.245,12.245,0,0,1-6.065,4.911,6.307,6.307,0,0,1-1.106.22,4.518,4.518,0,0,1-.581.025,6.655,6.655,0,0,1-2.383-.466A8.023,8.023,0,0,1,8.138,16.569Zm-.824-.59a14.661,14.661,0,0,1-2.965-3.112,1.424,1.424,0,0,1,0-1.867A13.69,13.69,0,0,1,8.863,6.851a6.31,6.31,0,0,1,6.532.123c.191.112.381.231.568.356l-.621.621c-.092-.058-.184-.114-.277-.168a5.945,5.945,0,0,0-3.081-.909,6.007,6.007,0,0,0-2.868.786,13.127,13.127,0,0,0-4.263,3.929c-.214.271-.214.343,0,.639a13.845,13.845,0,0,0,3.059,3.153ZM13.9,9.4l-.618.618a2.542,2.542,0,0,0-3.475,3.475l-.61.61A3.381,3.381,0,0,1,12,8.822,3.4,3.4,0,0,1,13.9,9.4Zm.74.674a3.3,3.3,0,0,1,.748,2.138,3.382,3.382,0,0,1-5.515,2.629l.6-.6a2.542,2.542,0,0,0,3.559-3.559Zm-3.146,3.146L13.008,11.7a1.129,1.129,0,0,1-1.516,1.516Zm-.6-.811a1.061,1.061,0,0,1-.018-.2A1.129,1.129,0,0,1,12,11.079a1.164,1.164,0,0,1,.2.017Z",style:Be}),d.a.createElement("polygon",{points:"19.146 4.146 19.854 4.854 4.854 19.854 4.146 19.146 19.146 4.146",style:Be}))}function Qe(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Embed")),d.a.createElement("path",{fill:"currentColor",d:"M4.5,5.5a1,1,0,0,0-1,1v11a1,1,0,0,0,1,1h15a1,1,0,0,0,1-1V6.5a1,1,0,0,0-1-1ZM4.5,4h15A2.5,2.5,0,0,1,22,6.5v11A2.5,2.5,0,0,1,19.5,20H4.5A2.5,2.5,0,0,1,2,17.5V6.5A2.5,2.5,0,0,1,4.5,4Zm5.592,12.04-1.184.92-3.5-4.5v-.92l3.5-4.5,1.184.92L6.95,12Zm3.816,0L17.05,12,13.908,7.96l1.184-.92,3.5,4.5v.92l-3.5,4.5Z",style:Be}))}function Je(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("List Unordered")),d.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M10.5 7a1 1 0 1 1 0-2h8a1 1 0 0 1 0 2h-8zm0 6a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm0 6a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zM4.7 7c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7zm0 6c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7zm0 6c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7z"}))}function et(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("List Ordered")),d.a.createElement("path",{fill:"currentColor",d:"M10.5 7a1 1 0 1 1 0-2h8a1 1 0 0 1 0 2h-8zM6.479 8h-.906V5.521l.009-.407.015-.445c-.15.15-.255.249-.314.296l-.492.395-.437-.545 1.38-1.098h.745V8zm4.021 5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm-3.266 1H4.24v-.63l1.075-1.087a9.93 9.93 0 0 0 .624-.678c.098-.126.168-.243.211-.35a.891.891 0 0 0 .065-.334c0-.172-.048-.3-.142-.384a.551.551 0 0 0-.38-.126c-.166 0-.327.038-.483.114-.156.077-.32.185-.49.326l-.491-.583c.21-.18.385-.307.524-.381.139-.075.29-.132.454-.172.164-.04.348-.06.55-.06.268 0 .505.05.71.147.205.097.364.234.477.41.114.176.17.377.17.603 0 .198-.034.383-.104.556-.07.172-.177.35-.322.531-.146.182-.402.44-.77.777l-.55.518v.041h1.866V14zm3.266 5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm-3.433-2.325c0 .267-.08.495-.243.682-.162.188-.39.317-.682.387v.018c.345.043.607.148.785.315.177.167.266.392.266.675 0 .412-.15.733-.448.962-.299.23-.725.345-1.28.345-.465 0-.877-.078-1.236-.232v-.77c.166.084.348.152.547.205.2.052.397.079.592.079.299 0 .52-.051.662-.153.143-.101.214-.264.214-.489 0-.201-.082-.344-.246-.428-.164-.084-.426-.125-.785-.125h-.325v-.695h.33c.333 0 .575-.043.729-.13.153-.087.23-.236.23-.447 0-.324-.203-.486-.61-.486-.14 0-.283.023-.429.07a2.097 2.097 0 0 0-.485.243l-.419-.624c.391-.281.857-.422 1.398-.422.443 0 .793.09 1.05.27.257.18.385.43.385.75z"}))}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var tt=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{contentEditable:!1,className:"spoiler-buttonContainer"},d.a.createElement("button",{disabled:!0,className:"iconButton button-spoiler",type:"button"},d.a.createElement("span",{className:"spoiler-warning"},d.a.createElement("span",{className:"spoiler-warningMain"},Xe("spoiler-icon"),d.a.createElement("strong",{className:"spoiler-warningBefore"},Object(Ce.m)("Warning")),d.a.createElement("span",{className:"spoiler-warningAfter"},Object(Ce.m)("This is a spoiler"))))))}}]),t}(d.a.Component),ot=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(Ne);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(_.a)(ot,"blotName","spoiler-line"),Object(_.a)(ot,"className","spoiler-line"),Object(_.a)(ot,"tagName","p"),Object(_.a)(ot,"parentName","spoiler-content");var nt=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(Ae);Object(_.a)(nt,"className","spoiler-content"),Object(_.a)(nt,"blotName","spoiler-content"),Object(_.a)(nt,"parentName","spoiler");var it=function(e){function t(e){var o;Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e));var n=document.createElement("div");return o.domNode.appendChild(n),Ie.a.render(d.a.createElement(tt,null),n),o}return Object(O.a)(t,e),Object(b.a)(t,null,[{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return o.classList.add("isShowingSpoiler"),o}}]),Object(b.a)(t,[{key:"attach",value:function(){Object(te.a)(Object(j.a)(t.prototype),"attach",this).call(this)}},{key:"optimize",value:function(e){Object(te.a)(Object(j.a)(t.prototype),"optimize",this).call(this,e)}}]),t}(Te);Object(_.a)(it,"className","spoiler"),Object(_.a)(it,"blotName","spoiler"),Object(_.a)(it,"allowedChildren",Object(F.a)(Te.allowedChildren));
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var rt=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(Ne);Object(_.a)(rt,"blotName","blockquote-line"),Object(_.a)(rt,"className","blockquote-line"),Object(_.a)(rt,"tagName","p"),Object(_.a)(rt,"parentName","blockquote-content");var at=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(Ae);Object(_.a)(at,"className","blockquote-content"),Object(_.a)(at,"blotName","blockquote-content"),Object(_.a)(at,"parentName","blockquote");var st=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(Te);Object(_.a)(st,"className","blockquote"),Object(_.a)(st,"blotName","blockquote");var lt,ct,ut=o(588),ht=o(652),dt=o(601),pt=o(583),ft=o.n(pt),mt=o(600),gt=o(602);function bt(e){var t=e.getAttribute("data-depth"),o=e.getAttribute("data-type"),n=0;null!==t&&(n=parseInt(t,10));var i=ct.BULLETED;return null!==o&&(i=o),{depth:n,type:i}}function vt(e,t){t&&(e.setAttribute("data-depth",t.depth),e.setAttribute("data-type",t.type))}!function(e){e.OL="OL",e.UL="UL",e.LI="LI"}(lt||(lt={})),function(e){e.ORDERED="ordered",e.BULLETED="bullet",e.CHECKBOX="checkbox"}(ct||(ct={}));var jt=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"optimize",value:function(e){this.optimizeAdjacentGroups(),Object(te.a)(Object(j.a)(t.prototype),"optimize",this).call(this,e)}},{key:"optimizeAdjacentGroups",value:function(){var e=this.next;if(e instanceof t&&e.prev===this){var o=this.getValue(),n=e.getValue();if(!o||!n)return;if(n.depth===o.depth&&(n.type===o.type||o.depth>0))e.moveChildren(this),e.remove();else if(n.depth>o.depth){var i=this.children.tail;if(!(i instanceof _t))return;e.children.forEach(function(e){i.addNestedChild(e,"end")})}}}},{key:"getValue",value:function(){return bt(this.domNode)}}],[{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return vt(o,e),o}}]),t}(Te),yt=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(jt);Object(_.a)(yt,"blotName","orderedListGroup"),Object(_.a)(yt,"className","orderedListGroup"),Object(_.a)(yt,"tagName",lt.OL);var Ot=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(jt);Object(_.a)(Ot,"blotName","unorderedListGroup"),Object(_.a)(Ot,"className","unorderedListGroup"),Object(_.a)(Ot,"tagName",lt.UL);var _t=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"split",value:function(e,o){if(!o&&e===this.length()-1||0===e)return this;var n=this.getListContent(),i=this.getListGroup();if(n&&e<n.length()){var r=n.split(e,o);if(r instanceof Ct){var a=ge.a.create(t.blotName,this.getValue());return r.insertInto(a),a.insertInto(this.parent,this.next),i&&i.insertInto(a),a}return this}return Object(te.a)(Object(j.a)(t.prototype),"split",this).call(this,e,o)}},{key:"insertAt",value:function(e,o,n){var i=this,r=this.getListContent()&&e<this.getListContent().length();if(o.includes("\n")&&r){var a=this.split(e,!1),s=a===this?this.next:a,l="\n"===o?[""]:o.split("\n");l[0]&&""!==l[0]&&this.getListContent().insertAt(e,l.shift()),l.map(function(e,t){var o=ge.a.create(Ct.blotName,i.getValue());return""!==e&&o.insertAt(0,e,void 0),o}).forEach(function(e){var t=i.clone();t.appendChild(e),i.parent.insertBefore(t,s)})}else Object(te.a)(Object(j.a)(t.prototype),"insertAt",this).call(this,e,o,n)}},{key:"insertBefore",value:function(e,o){e instanceof Ct||e instanceof jt?Object(te.a)(Object(j.a)(t.prototype),"insertBefore",this).call(this,e,o):(this.ensureListContent(),this.getListContent().insertBefore(e,o))}},{key:"addNestedChild",value:function(e,o){var n=this.getListGroup();n?n.getValue().depth<e.getValue().depth&&n.children.tail instanceof t?n.children.tail.addNestedChild(e,o):"start"===o?e.insertInto(n,n.children.head):"end"===o&&e.insertInto(n):e.insertInto(this)}},{key:"optimize",value:function(e){this.optimizeNesting(),this.optimizeUnwrapping(),this.ensureListContent(),Object(te.a)(Object(j.a)(t.prototype),"optimize",this).call(this,e)}},{key:"ensureListContent",value:function(){if(!this.getListContent()){var e=ge.a.create(Ct.blotName,this.getValue());this.children.forEach(function(t){t instanceof jt||t.insertInto(e)}),this.insertBefore(e,this.children.head)}}},{key:"optimizeNesting",value:function(){var e=this.next;if(e instanceof t&&e.prev===this){var o=this.getValue(),n=e.getValue();if(!o||!n)return;if(n.depth>o.depth){var i=this.getListGroup(),r=e.getListGroup();if(i){e.insertInto(i);var a=Object(c.a)({},n,{type:i.getValue().type});e.getListContent().format("list",a)}else e.insertInto(this);r&&(r.moveChildren(this.parent,this.next),r.remove())}}}},{key:"optimizeUnwrapping",value:function(){var e=this.parent,o=e.parent,n=o.parent;if(e instanceof jt&&o instanceof t&&n instanceof jt){var i=e.getValue(),r=n.getValue(),a=this.getValue();if(a.depth<i.depth){var s=Object(c.a)({},a,{type:r.type});this.insertInto(n,o.next);var l=this.getListContent();l&&l.format(Ct.blotName,s)}}}},{key:"createWrapper",value:function(){var e=this.getValue();switch(e.type){case ct.ORDERED:return ge.a.create(yt.blotName,e);default:return ge.a.create(Ot.blotName,e)}}},{key:"getValue",value:function(){return bt(this.domNode)}},{key:"getListGroup",value:function(){var e=this.children.tail;return e instanceof jt?e:null}},{key:"flattenSelfAndSiblings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent,o=arguments.length>1?arguments[1]:void 0,n=this.getListContent(),i=this.next;n&&n.getValue().depth>0&&(n.updateIndentValue(0),this.insertInto(e,o));var r=this.getListGroup();r&&(r.children.forEach(function(n){n instanceof t&&n.flattenSelfAndSiblings(e,o)}),r.remove()),i instanceof t&&i.flattenSelfAndSiblings(e,o)}},{key:"getListContent",value:function(){var e=this.children.head;return e instanceof Ct?e:null}}],[{key:"create",value:function(e){var o=Object(te.a)(Object(j.a)(t),"create",this).call(this,e);return vt(o,e),o}}]),t}(Re(Se.a));Object(_.a)(_t,"scope",ge.a.Scope.BLOCK_BLOT),Object(_.a)(_t,"blotName","listItemWrapper"),Object(_.a)(_t,"className","listItemWrapper"),Object(_.a)(_t,"tagName",lt.LI),Object(_.a)(_t,"parentName",[Ot.blotName,yt.blotName]);var Ct=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"useWrapperReplacement",!1),Object(_.a)(Object(y.a)(o),"flattenSelfAndSiblings",function(){if(o.parent instanceof _t){for(var e,t,n=o.parent;n!==o.scroll;)n instanceof jt&&(t=n),n instanceof _t&&(e=n),n=n.parent;var i=e?e.next:void 0;o.parent.flattenSelfAndSiblings(t,i)}}),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"createWrapper",value:function(){var e=this.getValue();return ge.a.create(_t.blotName,e)}},{key:"updateIndentValue",value:function(e){e=Math.min(4,e),this.domNode.setAttribute("data-depth",e),this.parent.domNode.setAttribute("data-depth",e),this.cache={}}},{key:"canIndent",value:function(){var e=this.parent instanceof _t&&this.parent.prev instanceof _t,t=this.parent instanceof _t&&this.parent.parent instanceof jt&&this.parent.parent.prev instanceof jt,o=this.getValue().depth<4;return(e||t)&&o}},{key:"canOutdent",value:function(){return this.getValue().depth>0||""===this.domNode.textContent}},{key:"indent",value:function(){this.canIndent()&&this.updateIndentValue(this.getValue().depth+1)}},{key:"outdent",value:function(){if(this.canOutdent()){var e=this.getValue();if(0===e.depth){if(0!==(this.domNode.textContent||"").length)return;this.breakUpGroupAndMoveToScroll()}this.updateIndentValue(e.depth-1)}}},{key:"replaceWith",value:function(e,o){if(e===t.blotName)return o?"object"===Object(ee.a)(o)&&o.type!==this.getValue().type?this.breakUpGroupAndMoveToScroll(e,o):Object(te.a)(Object(j.a)(t.prototype),"replaceWith",this).call(this,e,o):this.breakUpGroupAndMoveToScroll();this.breakUpGroupAndMoveToScroll(e,o)}},{key:"breakUpGroupAndMoveToScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o="string"==typeof e?ge.a.create(e,t):e;this.children.forEach(function(e){o.appendChild(e.clone())});var n=this.parent;this.flattenSelfAndSiblings();var i=(n=this.parent).parent;if(null===n.prev){this.scroll.insertBefore(o,i);var r=n.getListGroup();r&&this.scroll.insertBefore(r,i),n.remove()}else{var a=i.split(n.offset(i));this.scroll.insertBefore(o,a),n.getListContent().remove()}return o}},{key:"getValue",value:function(){return bt(this.domNode)}}],[{key:"create",value:function(e){e=this.mapListValue(e);var t=document.createElement("p");return t.classList.add(this.className),vt(t,e),t}},{key:"getListDepth",value:function(e){for(var t=0,o=e.parentElement;o&&Object.values(lt).includes(o.tagName);)o.tagName===lt.LI&&t++,o=o.parentElement;return t}},{key:"formats",value:function(e){if(e.tagName===lt.LI){var t=e.parentElement&&e.parentElement.tagName||lt.UL;return{depth:this.getListDepth(e),type:t===lt.OL?ct.ORDERED:ct.BULLETED}}if(e.classList.contains(this.className))return bt(e)}},{key:"mapListValue",value:function(e){if("object"===Object(ee.a)(e))return Object(c.a)({},e,{depth:Math.min(4,e.depth)});switch(e){case"bullet":return{type:ct.BULLETED,depth:0};case"ordered":return{type:ct.ORDERED,depth:0};default:return{type:ct.BULLETED,depth:0}}}}]),t}(Ne);Object(_.a)(Ct,"blotName","list"),Object(_.a)(Ct,"className","listItem"),Object(_.a)(Ct,"parentName",_t.blotName),Object(_.a)(Ct,"tagName",lt.LI),yt.allowedChildren=[_t],Ot.allowedChildren=[_t],_t.allowedChildren=[jt,Ct];
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var wt=function(){function e(t,o){var n=this;Object(g.a)(this,e),this.quill=t,this.range=o,Object(_.a)(this,"bold",function(){n.handleInlineFormat(ce.blotName)}),Object(_.a)(this,"italic",function(){n.handleInlineFormat(he.blotName)}),Object(_.a)(this,"strike",function(){n.handleInlineFormat(fe.blotName)}),Object(_.a)(this,"codeInline",function(){n.handleInlineFormat(ve.a.blotName)}),Object(_.a)(this,"link",function(e){Object(A.l)(n.quill,de,n.range)?Object(A.b)(n.quill,de,n.range):n.quill.formatText(n.range.index,n.range.length,de.blotName,e,ae.a.sources.USER)}),Object(_.a)(this,"paragraph",function(){e.BLOCK_FORMAT_NAMES.forEach(function(e){n.quill.formatLine(n.range.index,n.range.length,e,!1,ae.a.sources.API)}),n.quill.update(ae.a.sources.USER)}),Object(_.a)(this,"h2",function(){n.quill.formatLine(n.range.index,n.range.length,ie.blotName,2,ae.a.sources.USER)}),Object(_.a)(this,"h3",function(){n.quill.formatLine(n.range.index,n.range.length,ie.blotName,3,ae.a.sources.USER)}),Object(_.a)(this,"h4",function(){n.quill.formatLine(n.range.index,n.range.length,ie.blotName,4,ae.a.sources.USER)}),Object(_.a)(this,"h5",function(){n.quill.formatLine(n.range.index,n.range.length,ie.blotName,5,ae.a.sources.USER)}),Object(_.a)(this,"codeBlock",function(){var t=n.quill.getLines(n.range.index,n.range.length);0===t.length&&(t=[n.quill.getLine(n.range.index)[0]]);var o=t[0],i=t[t.length-1],r=o.offset(n.quill.scroll),a=i.offset(n.quill.scroll)+i.length()-r,s={index:r,length:a};e.INLINE_FORMAT_NAMES.forEach(function(e){n.quill.formatText(r,a,e,!1,ae.a.sources.SILENT)});var l=n.replaceInlineEmbeds(s);n.quill.formatLine(r,a+l,ut.a.blotName,!0,ae.a.sources.USER)}),Object(_.a)(this,"blockquote",function(){n.quill.formatLine(n.range.index,n.range.length,rt.blotName,!0,ae.a.sources.USER)}),Object(_.a)(this,"spoiler",function(){n.quill.formatLine(n.range.index,n.range.length,ot.blotName,!0,ae.a.sources.USER)}),Object(_.a)(this,"bulletedList",function(){var e={type:ct.BULLETED,depth:0};n.quill.formatLine(n.range.index,n.range.length,Ct.blotName,e,ae.a.sources.USER)}),Object(_.a)(this,"orderedList",function(){var e={type:ct.ORDERED,depth:0};n.quill.formatLine(n.range.index,n.range.length,Ct.blotName,e,ae.a.sources.USER)}),Object(_.a)(this,"getListItems",function(){if(0===n.range.length){var e=n.quill.scroll.descendant(function(e){return e instanceof Ct},n.range.index)[0];return e?[e]:[]}return n.quill.scroll.descendants(function(e){return e instanceof Ct},n.range.index,n.range.length)}),Object(_.a)(this,"indentList",function(){var e=n.getListItems(),t=n.quill.getSelection();n.quill.history.cutoff(),e.forEach(function(e){e.indent(),n.quill.update(ae.a.sources.USER)}),n.quill.history.cutoff(),n.quill.setSelection(t)}),Object(_.a)(this,"outdentList",function(){var e=n.getListItems(),t=n.quill.getSelection();n.quill.history.cutoff(),e.forEach(function(e){e.outdent(),n.quill.update(ae.a.sources.USER)}),n.quill.history.cutoff(),n.quill.setSelection(t)})}return Object(b.a)(e,[{key:"handleInlineFormat",value:function(e){var t=!0===this.quill.getFormat(this.range)[e];this.quill.formatText(this.range.index,this.range.length,e,!t,ae.a.sources.USER),this.quill.update(ae.a.sources.USER)}},{key:"replaceInlineEmbeds",value:function(e){var t=this,o=this.quill.scroll.descendants(je.a,e.index,e.length),n=0;return o.forEach(function(e){var o=e.domNode.innerText||"";o=o.replace(/[\u200B-\u200D\uFEFF]/g,""),n+=o.length-1,e.replaceWith("text",o),t.quill.update(ae.a.sources.USER)}),n}}]),e}();Object(_.a)(wt,"INLINE_FORMAT_NAMES",[ce.blotName,he.blotName,fe.blotName,ve.a.blotName,de.blotName]),Object(_.a)(wt,"BLOCK_FORMAT_NAMES",[ut.a.blotName,rt.blotName,ot.blotName,ie.blotName,Ct.blotName]);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var St=function(){function e(t){var o=this;Object(g.a)(this,e),this.quill=t,Object(_.a)(this,"bindings",{}),Object(_.a)(this,"handleMultilineEnter",function(e){var t=o.quill.getLine(e.index),n=Object(u.a)(t,1)[0],i=n.getWrapper();return n!==i.children.tail||(""!==n.domNode.textContent||(!n.prev||(Object(A.g)(o.quill,e),!1)))}),Object(_.a)(this,"handleCodeBlockEnter",function(e){var t=o.quill.getLine(e.index),n=Object(u.a)(t,1)[0].domNode.textContent;return!/\n\n\n$/.test(n)||(Object(A.g)(o.quill,e,2),!1)}),Object(_.a)(this,"handleBlockStartDelete",function(e){var t=o.quill.getLine(e.index),n=Object(u.a)(t,1)[0];return!Object(A.j)(n,o.quill)||(Object(A.n)(o.quill),!1)}),Object(_.a)(this,"clearFirstPositionMultiLineBlot",function(e){var t=o.quill.getLine(e.index),n=Object(u.a)(t,1)[0],i=o.quill.getSelection(),r=e.index<i.index,a=e.index+e.length>i.index+i.length,s=0===i.index,l=s,c=n instanceof Ne||n instanceof ut.a||n instanceof gt.a;if((r||a||l)&&c){var h=new ft.a,d=e;s&&(h=h.insert("\n"),d.length+=1),o.quill.updateContents(h,mt.a.sources.USER),o.quill.setSelection(d),Object(A.n)(o.quill),o.quill.setSelection(d)}return!0}),Object(_.a)(this,"transformLinkOnlyLineToEmbed",function(e){var t=o.quill.getLine(e.index)[0];if(e.index<t.offset()+t.length()-1)return!0;if("block"!==t.statics.blotName)return!0;var n=t.children.head.statics.blotName;if(t.children.length>1||!["text","link"].includes(n))return!0;var i=t.domNode.textContent||"";if(i=i.trim(),Object(Ce.i)(i)){var r=o.quill.getModule("embed/insertion"),a=t.offset();return o.quill.deleteText(a,t.length(),ae.a.sources.USER),o.quill.insertText(a,"\n",ae.a.sources.USER),o.quill.setSelection(a,0,ae.a.sources.USER),r.scrapeMedia(i),!1}return!0}),this.resetDefaultBindings(),this.addBlockNewLineHandlers(),this.addBlockArrowKeyHandlers(),this.addBlockBackspaceHandlers(),this.addLinkTransformKeyboardBindings(),this.overwriteFormatHandlers()}return Object(b.a)(e,[{key:"handleMultiLineBackspace",value:function(e){var t=this.quill.getLine(e.index),o=Object(u.a)(t,1)[0];if(o.prev||o.next)return!0;if(""!==o.getWrapper().domNode.textContent)return!0;var n=(new ft.a).retain(e.index).retain(1,Object(_.a)({},o.constructor.blotName,!1));return this.quill.updateContents(n,mt.a.sources.USER),!1}},{key:"handleCodeBlockBackspace",value:function(e){var t=this.quill.getLine(e.index);if("\n"!==Object(u.a)(t,1)[0].domNode.textContent)return!0;var o=(new ft.a).retain(e.index).retain(1,Object(_.a)({},ut.a.blotName,!1));return this.quill.updateContents(o,mt.a.sources.USER),!1}},{key:"insertNewlineBeforeRange",value:function(e){return 0===e.index&&Object(A.i)(this.quill),!0}},{key:"insertNewlineAfterRange",value:function(e){return e.index+1===this.quill.scroll.length()&&Object(A.h)(this.quill),!0}},{key:"resetDefaultBindings",value:function(){this.bindings.tab=!1,this.bindings["indent code-block"]=!1,this.bindings["outdent code-block"]=!1,this.bindings["remove tab"]=!1,this.bindings["code exit"]=!1,this.bindings.indent=!1,this.bindings.outdent=!1,this.bindings["outdent backspace"]=!1,this.bindings["list empty enter"]=!1,this.bindings["checklist enter"]=!1}},{key:"addLinkTransformKeyboardBindings",value:function(){this.bindings["transform text to embed"]={key:dt.a.keys.ENTER,collapsed:!0,handler:this.transformLinkOnlyLineToEmbed}}},{key:"addBlockNewLineHandlers",value:function(){var e=this;this.bindings["MutliLine Enter"]={key:dt.a.keys.ENTER,collapsed:!0,format:["spoiler-line","blockquote-line"],handler:this.handleMultilineEnter},this.bindings["CodeBlock Enter"]={key:dt.a.keys.ENTER,collapsed:!0,format:[ut.a.blotName],handler:this.handleCodeBlockEnter},this.bindings["List Enter"]={key:dt.a.keys.ENTER,collapsed:!0,format:[Ct.blotName],handler:function(t){var o=new wt(e.quill,t).getListItems(),n=!1;return o.forEach(function(e){""===e.domNode.textContent&&(e.outdent(),n=!0)}),!n||(e.quill.update(ae.a.sources.USER),e.quill.setSelection(t,ae.a.sources.API),!1)}}}},{key:"overwriteFormatHandlers",value:function(){this.bindings.bold=this.makeFormatHandler("bold"),this.bindings.italic=this.makeFormatHandler("italic"),this.bindings.underline=this.makeFormatHandler("underline")}},{key:"makeFormatHandler",value:function(e){var t=this;return{key:e[0].toUpperCase(),shortKey:!0,handler:function(o,n){Object(A.l)(t.quill,ut.a,o)||Object(A.l)(t.quill,ve.a,o)||t.quill.format(e,!n.format[e],ae.a.sources.USER)}}}},{key:"addBlockBackspaceHandlers",value:function(){var t=this;this.bindings["List Backspace"]={key:dt.a.keys.BACKSPACE,offset:0,collapsed:!0,format:[Ct.blotName],handler:function(e){return new wt(t.quill,e).getListItems()[0].replaceWith("block",""),t.quill.setSelection(e,ae.a.sources.SILENT),!0}},this.bindings["Block Backspace With Selection"]={key:dt.a.keys.BACKSPACE,collapsed:!1,handler:this.clearFirstPositionMultiLineBlot},this.bindings["Block Delete"]={key:dt.a.keys.BACKSPACE,offset:0,collapsed:!0,format:e.MULTI_LINE_BLOTS,handler:this.handleBlockStartDelete},this.bindings["MultiLine Backspace"]={key:dt.a.keys.BACKSPACE,collapsed:!0,format:["spoiler-line","blockquote-line"],handler:this.handleMultiLineBackspace},this.bindings["CodeBlock Backspace"]={key:dt.a.keys.BACKSPACE,collapsed:!0,format:[ut.a.blotName],handler:this.handleCodeBlockBackspace}}},{key:"addBlockArrowKeyHandlers",value:function(){var t={collapsed:!0,format:e.MULTI_LINE_BLOTS};this.bindings["Block Up"]=Object(c.a)({},t,{key:dt.a.keys.UP,handler:this.insertNewlineBeforeRange}),this.bindings["Block Left"]=Object(c.a)({},t,{key:dt.a.keys.LEFT,handler:this.insertNewlineBeforeRange}),this.bindings["Block Down"]=Object(c.a)({},t,{key:dt.a.keys.DOWN,handler:this.insertNewlineAfterRange}),this.bindings["Block Right"]=Object(c.a)({},t,{key:dt.a.keys.RIGHT,handler:this.insertNewlineAfterRange})}}]),e}();Object(_.a)(St,"MULTI_LINE_BLOTS",[ot.blotName,rt.blotName,ut.a.blotName,Ct.blotName]);var xt=function(){function e(t){var o=this;Object(g.a)(this,e),this.quill=t,Object(_.a)(this,"ignoreTags",["PRE"]),Object(_.a)(this,"keyDownHandler",function(e){if(["Enter"," "].includes(e.key)){var t=o.quill.getSelection();if(t){var n=o.quill.getLine(t.index),i=Object(u.a)(n,2),r=i[0],a=i[1],s=r.domNode.textContent,l=t.index-a;if(o.isValidLine(r)){var c=!0,h=!1,d=void 0;try{for(var p,f=o.matchers[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var m=p.value;if(s.match(m.pattern)){m.preventsDefault&&(e.preventDefault(),e.stopPropagation()),o.quill.history.cutoff(),m.handler(s,t,m.pattern,l),o.quill.history.cutoff();break}}}catch(e){h=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(h)throw d}}}}}}),Object(_.a)(this,"matchers",[{name:"header",preventsDefault:!0,pattern:/^(#){1,6}/g,handler:function(e,t,n){var i=n.exec(e);if(i){var r=Math.min(Math.max(2,i[0].length),5),a=e.length,s=(new ft.a).retain(t.index-a).delete(a).retain(1,Object(_.a)({},re.blotName,r));o.quill.updateContents(s,ae.a.sources.USER)}}},{name:"blockquote",pattern:/^(>)/g,handler:function(e,t){var n=e.length,i=(new ft.a).retain(t.index-n).delete(n).retain(1,Object(_.a)({},rt.blotName,!0));o.quill.updateContents(i,ae.a.sources.USER)}},{name:"spoiler",pattern:/^\!>/g,handler:function(e,t){var n=e.length,i=(new ft.a).retain(t.index-n).delete(n).retain(1,Object(_.a)({},ot.blotName,!0));o.quill.updateContents(i,ae.a.sources.USER)}},{name:"code-block",preventsDefault:!0,pattern:/^`{3}/g,handler:function(e,t){var n=(new ft.a).retain(t.index-3).delete(4).insert("\n",{"code-block":!0});o.quill.updateContents(n,ae.a.sources.USER),o.quill.setSelection(t.index-3,0,ae.a.sources.USER)}},{name:"bolditalic",pattern:/(?:\*|_){3}(.+?)(?:\*|_){3}/g,handler:function(e,t,n,i){var r=n.exec(e);if(r){var a=r[0],s=r[1],l=i+r.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{bold:!0,italic:!0}),o.quill.format("bold",!1))}}},{name:"bold",pattern:/(?:\*|_){2}(.+?)(?:\*|_){2}/g,handler:function(e,t,n,i){var r=n.exec(e);if(r){var a=r[0],s=r[1],l=i+r.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{bold:!0}),o.quill.format("bold",!1))}}},{name:"italic",pattern:/(?:\*|_){1}(.+?)(?:\*|_){1}/g,handler:function(e,t,n,i){var r=n.exec(e);if(r){var a=r[0],s=r[1],l=i+r.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{italic:!0}),o.quill.format("italic",!1))}}},{name:"strikethrough",pattern:/(?:~~)(.+?)(?:~~)/g,handler:function(e,t,n,i){var r=n.exec(e);if(r){var a=r[0],s=r[1],l=i+r.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{strike:!0}),o.quill.format("strike",!1))}}},{name:"code",pattern:/(?:`)(.+?)(?:`)/g,handler:function(e,t,n,i){var r=n.exec(e);if(r&&!o.quill.getFormat(t)[ut.a.blotName]){var a=r[0],s=r[1],l=i+r.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,Object(_.a)({},ve.a.blotName,!0)),o.quill.format(ve.a.blotName,!1),o.quill.insertText(o.quill.getSelection().index," "))}}}])}return Object(b.a)(e,[{key:"registerHandler",value:function(){this.quill.root.addEventListener("keydown",this.keyDownHandler)}},{key:"isValidLine",value:function(e){if(!(e.domNode instanceof HTMLElement))return!1;var t=e.domNode,o=t.textContent,n=t.tagName;return void 0!==o&&!!o&&!this.ignoreTags.includes(n)}}]),e}(),Et=function(e){function t(e,o){var n;Object(g.a)(this,t);var i=J(!1),r=Object(c.a)({},o,{placeholder:"Create a new post...",scrollingContainer:"body"});n=Object(v.a)(this,Object(j.a)(t).call(this,e,r)),Object(_.a)(Object(y.a)(n),"lastGoodSelection",void 0),n.applyLastSelectionHack(),n.quill.root.classList.add(i.text),n.quill.root.classList.add("richEditor-text"),n.quill.root.classList.add("userContent"),n.addModule("embed/insertion"),n.addModule("embed/focus");var a=new St(n.quill);return n.options.modules.keyboard.bindings=Object(c.a)({},n.options.modules.keyboard.bindings,a.bindings),new xt(n.quill).registerHandler(),n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"applyLastSelectionHack",value:function(){var e=this;this.lastGoodSelection={index:0,length:0},this.quill.on("selection-change",function(t,o,n){t&&n!==ae.a.sources.SILENT&&(e.lastGoodSelection=t)}),this.quill.getLastGoodSelection=function(){return e.lastGoodSelection}}}]),t}(ht.a),kt=o(596),Lt=o(618),It=function(e){function t(e){var o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e,n)),Object(_.a)(Object(y.a)(o),"lastSelection",{index:0,length:0}),Object(_.a)(Object(y.a)(o),"editorRoot",void 0),Object(_.a)(Object(y.a)(o),"formWrapper",void 0),Object(_.a)(Object(y.a)(o),"escapeMobileFullScreen",function(e){var t=window.getComputedStyle(o.editorRoot).getPropertyValue("position");if(o.editorRoot.classList.contains("isFocused")&&"fixed"===t&&dt.a.match(e,{key:dt.a.keys.ESCAPE,shiftKey:!1})){o.quill.root.focus();var n=new Lt.a(o.formWrapper).getNext();n&&(n.focus(),o.editorRoot.classList.toggle("isFocused",!1))}}),Object(_.a)(Object(y.a)(o),"handleTab",function(){var e=document.activeElement;o.quill.root.contains(document.activeElement)&&(e=o.quill.root);o.getEmbedBlotForFocusedElement(),gt.a;var t=new Lt.a(o.formWrapper,void 0,[o.quill.root]).getNext(e,!1,!1);return!!t&&(t===o.quill.root?o.focusFirstLine():t.focus(),!0)}),Object(_.a)(Object(y.a)(o),"handleShiftTab",function(){var e=document.activeElement;o.quill.root.contains(document.activeElement)&&(e=o.quill.root);var t=new Lt.a(o.formWrapper,void 0,[o.quill.root]).getNext(e,!0,!1);return!!t&&(t===o.quill.root?o.focusLastLine():t.focus(),!0)}),Object(_.a)(Object(y.a)(o),"handleArrowKeyFromEmbed",function(e,t){var n=t.offset(o.quill.scroll),i=n+t.length()===o.quill.scroll.length(),r=0===n,a=[dt.a.keys.LEFT,dt.a.keys.UP].includes(e),s=[dt.a.keys.RIGHT,dt.a.keys.DOWN].includes(e);if(r&&a)return Object(A.i)(o.quill),!0;if(i&&s)return Object(A.h)(o.quill),!0;var l=o.getNextBlotFromArrowKey(t,e);return!!l&&(o.arrowToBlot(l),!0)}),Object(_.a)(Object(y.a)(o),"handleDeleteOnQuill",function(){var e=o.quill.getSelection(),t=e&&o.quill.getLine(e.index)[0];if(!t)return!1;var n=t.prev,i=""===t.domNode.textContent;return!!(n instanceof gt.a&&i)&&(t.remove(),n.focus(),!0)}),Object(_.a)(Object(y.a)(o),"keyDownListener",function(e){if(o.editorRoot.contains(document.activeElement)){var t=o.getEmbedBlotForFocusedElement(),n=o.quill.getLine(o.lastSelection.index),i=Object(u.a)(n,1)[0],r=o.getNextBlotFromArrowKey(i,e.keyCode);if(o.isKeyCodeArrowKey(e.keyCode)&&!e.shiftKey&&!o.inActiveMention)if(t instanceof gt.a){if(o.handleArrowKeyFromEmbed(e.keyCode,t))return e.preventDefault(),void e.stopPropagation()}else o.quill.hasFocus()&&r instanceof gt.a&&(e.preventDefault(),e.stopPropagation(),r.focus());if(o.isKeyCodeDelete(e.keyCode))if(t instanceof gt.a)e.preventDefault(),e.stopPropagation(),t.remove(),Object(A.c)();else if(o.quill.hasFocus()){if(o.handleDeleteOnQuill())return e.preventDefault(),void e.stopPropagation()}dt.a.match(e,dt.a.keys.ENTER)&&t instanceof gt.a&&(e.preventDefault(),e.stopPropagation(),t.insertNewlineAfter())}}),Object(_.a)(Object(y.a)(o),"tabListener",function(e){if(o.formWrapper.contains(document.activeElement)){var t=!1;dt.a.match(e,{key:dt.a.keys.TAB,shiftKey:!0})?t=o.handleShiftTab():dt.a.match(e,{key:dt.a.keys.TAB,shiftKey:!1})&&(t=o.handleTab()),t&&(e.preventDefault(),e.stopPropagation())}}),o.editorRoot=o.quill.root.closest(".richEditor"),o.formWrapper=o.editorRoot.closest(".FormWrapper")||o.editorRoot.closest(".FormTitleWrapper"),!o.editorRoot)throw new Error("Cannot initialize the EmbedFocusModule without an editorRoot (.richEditor class)");if(!o.formWrapper)throw new Error("Cannot initialize the EmbedFocusModule without a FormWrapper (.FormWrapper or .FormTitleWrapper class)");return o.quill.root.setAttribute("tabindex",0),e.on("selection-change",function(e,t,n){e&&n!==ae.a.sources.SILENT&&(o.lastSelection=e,o.editorRoot.classList.toggle("isFocused",!0))}),o.setupEmbedClickHandler(),o.setupMobileHandler(),o.quill.root.addEventListener("keydown",o.keyDownListener),o.formWrapper.addEventListener("keydown",o.tabListener),o.editorRoot.addEventListener("keydown",o.escapeMobileFullScreen),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"focusLastLine",value:function(){var e=this.quill.scroll.length()-1,t=Object(A.d)(this.quill,e,gt.a);t?t.focus():(this.quill.focus(),this.quill.setSelection(e,0,ae.a.sources.USER))}},{key:"focusFirstLine",value:function(){var e=this.quill.scroll.children.head;e instanceof gt.a?e.focus():(this.quill.focus(),this.quill.setSelection(0,0,ae.a.sources.USER))}},{key:"arrowToBlot",value:function(e){if(e instanceof gt.a)e.focus();else{var t=e.offset(this.quill.scroll);this.quill.setSelection(t,0)}}},{key:"getEmbedBlotForFocusedElement",value:function(){if(document.activeElement instanceof Element){var e=document.activeElement;if(!e.classList.contains("js-embed")){var t=e.closest(".js-embed");if(!t)return;e=t}return ge.a.find(e)}}},{key:"getNextBlotFromArrowKey",value:function(e,t){if(!e)return null;switch(t){case dt.a.keys.DOWN:return e.next;case dt.a.keys.UP:return e.prev;case dt.a.keys.RIGHT:var o=e.offset()+e.length()-1;if(this.lastSelection.index===o)return e.next;break;case dt.a.keys.LEFT:if(this.lastSelection.index===e.offset())return e.prev}}},{key:"setupEmbedClickHandler",value:function(){Object(n.b)("click","a",function(e,t){e.preventDefault(),e.stopPropagation()},this.quill.container),Object(n.b)("click",".js-embed",function(e,t){var o=ge.a.find(t);o instanceof gt.a&&o.focus()},this.quill.container)}},{key:"setupMobileHandler",value:function(){var e=this;Object(n.b)("click",".js-richText .richEditor-text",function(t,o){e.editorRoot.classList.toggle("isFocused",!0)},this.quill.container),Object(n.b)("click",".js-richEditor-next",function(t,o){var n=new Lt.a(e.formWrapper).getNext(o);n&&(n.focus(),e.editorRoot.classList.toggle("isFocused",!1))},this.editorRoot)}},{key:"isKeyCodeArrowKey",value:function(e){var t=dt.a.keys;return[t.UP,t.DOWN,t.LEFT,t.RIGHT].includes(e)}},{key:"isKeyCodeDelete",value:function(e){var t=dt.a.keys;return[t.BACKSPACE,t.DELETE].includes(e)}},{key:"inActiveMention",get:function(){var e={index:0,length:this.quill.scroll.length()-1};return Object(A.l)(this.quill,Ee,e)}}]),t}(kt.a),Tt=o(25),Rt=o(655),Nt=function(e){function t(e){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(g.a)(this,t),(o=Object(v.a)(this,Object(j.a)(t).call(this,e,i))).quill=e,Object(_.a)(Object(y.a)(o),"createEmbed",function(e){var t=ge.a.create("embed-external",e);Object(A.f)(o.quill,o.quill.getLastGoodSelection().index,t),o.quill.update(ae.a.sources.USER),t.focus()}),Object(_.a)(Object(y.a)(o),"pasteHandler",function(e){var t=Object(n.i)(e);t&&(Object($.e)(t)?o.createImageEmbed(t):o.createFileEmbed(t))}),Object(_.a)(Object(y.a)(o),"dragHandler",function(e){var t=Object(n.g)(e);t&&(Object($.e)(t)?o.createImageEmbed(t):o.createFileEmbed(t))}),o.quill=e,o.setupImageUploads(),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"scrapeMedia",value:function(e){var t=new FormData;t.append("url",e);var o=Tt.a.post("/media/scrape",t).then(function(e){return e.data});this.createEmbed({loaderData:{type:"link",link:e},dataPromise:o})}},{key:"createImageEmbed",value:function(e){var t=Object(Tt.d)(e).then(function(e){return e.type="image",e});this.createEmbed({loaderData:{type:"image"},dataPromise:t})}},{key:"createFileEmbed",value:function(e){var t=new Rt.a,o=Object(Tt.d)(e,{onUploadProgress:t.emit}).then(function(e){return{url:e.url,type:"file",attributes:e}});this.createEmbed({loaderData:{type:"file",file:e,progressEventEmitter:t},dataPromise:o})}},{key:"setupImageUploads",value:function(){this.quill.root.addEventListener("drop",this.dragHandler,!1),this.quill.root.addEventListener("paste",this.pasteHandler,!1)}}]),t}(kt.a),Mt=o(22),At=o(594),zt=o(653),Pt=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Bt=function(e){function t(e,o){var n;return Object(g.a)(this,t),n=Object(v.a)(this,Object(j.a)(t).call(this,e,Object(c.a)({},o))),Object(_.a)(Object(y.a)(n),"Z_KEYCODE",90),Object(_.a)(Object(y.a)(n),"isCodeBlock",function(e){return"object"===Object(ee.a)(e)&&"attributes"in e&&"object"===Object(ee.a)(e.attributes)&&At.b.blotName in e.attributes&&e.attributes[At.b.blotName]}),Object(_.a)(Object(y.a)(n),"isEmbedInsert",function(e){return n.isInsertOperation(e)&&Oe.a.blotName in e.insert}),Object(_.a)(Object(y.a)(n),"isEmbedLoadedInsert",function(e){return n.isEmbedInsert(e)&&"data"in e.insert[Oe.a.blotName]}),Object(_.a)(Object(y.a)(n),"isInsertOperation",function(e){return"object"===Object(ee.a)(e)&&"insert"in e&&"object"===Object(ee.a)(e.insert)}),Object(_.a)(Object(y.a)(n),"undoKeyboardListener",function(e){e.keyCode===n.Z_KEYCODE&&e[Pt]&&document.activeElement&&document.activeElement.classList.contains(Mt.a)&&(e.shiftKey?n.redo():n.undo())}),document.addEventListener("keydown",n.undoKeyboardListener,!0),n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"actionIsEmbedCompletion",value:function(e,t){var o=this.operationsContain(t.ops,this.isEmbedLoadedInsert),n=this.operationsContain(e.ops,this.isEmbedLoadedInsert);return o||n}},{key:"operationsContain",value:function(e,t){if(!e)return!1;var o=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(o=(r=a.next()).done);o=!0){if(t(r.value))return!0}}catch(e){n=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw i}}return!1}},{key:"record",value:function(e,o){this.operationsContain(e.ops,this.isEmbedInsert)&&this.cutoff(),this.operationsContain(e.ops,this.isCodeBlock)&&this.cutoff();var n=this.quill.getContents().diff(o);this.actionIsEmbedCompletion(n,e)||Object(te.a)(Object(j.a)(t.prototype),"record",this).call(this,e,o)}}]),t}(zt.a),Dt=o(656),qt=o(683),Ht=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(ae.a.sources.USER);var t=this.quill.getSelection(),o=this.quill.hasFocus();this.quill.scroll.descendants(ut.a).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(ae.a.sources.SILENT),null!=t&&o&&this.quill.setSelection(t,ae.a.sources.SILENT)}}}],[{key:"register",value:function(){Object(te.a)(Object(j.a)(t),"register",this).call(this),ae.a.register(ut.a,!0)}}]),t}(o(654).b),Ft=!1;
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Ut=o(568),Wt=o.n(Ut),Gt=[{insert:"\n"}];function Vt(e){var t,o,i,r,a,s,l,c,u,p,m=d.a.createRef();return t=m,i=Object(h.useRef)(),r=f().setQuillInstance,Object(h.useEffect)(function(){Ft||(Ft=!0,ae.a.register({"formats/blockquote/line":rt,"formats/blockquote/content":at,"formats/blockquote/wrapper":st,"formats/spoiler/line":ot,"formats/spoiler/content":nt,"formats/spoiler/wrapper":it,"formats/codeBlock":ut.a,"formats/header":re,"formats/list/unordedGroup":Ot,"formats/list/orderedGroup":yt,"formats/list/item":Ct,"formats/list/wrapper":_t,"formats/embed-error":_e.b,"formats/embed-loading":qt.a,"formats/embed-external":Oe.a,"formats/mention":we,"formats/mention-combobox":ke,"formats/mention-autocomplete":Ee,"formats/bold":ce,"formats/codeInline":ve.a,"formats/italic":he,"formats/link":de,"formats/strike":fe,"formats/emoji":ye,"formats/indent":be,"themes/vanilla":Et,"modules/embed/insertion":Nt,"modules/embed/focus":It,"modules/history":Bt,"modules/clipboard":Dt.b,"modules/syntax":Ht},!0),["blots/inline","formats/bold","formats/italic","formats/strike","formats/link","formats/codeInline"].forEach(function(e){var t=ae.a.import(e);t.order=[].concat(Object(F.a)(t.order),[ve.a.blotName])}),["blots/block","formats/list/item","formats/header","formats/bold","formats/italic","formats/strike"].forEach(function(e){var t=ae.a.import(e);t.allowedChildren=[].concat(Object(F.a)(t.allowedChildren),[ke])}));var e={theme:"vanilla",modules:{syntax:{highlight:function(e){return Wt.a.highlightAuto(e).value}}}};if(t.current){var o=new ae.a(t.current,e);return o.setContents(Gt),r(o),i.current=o,window.quill=o,function(){r(null),window.quill=null}}},[t.current,o]),i.current,a=e.legacyTextArea,s=f(),l=s.legacyMode,c=s.quill,Object(h.useEffect)(function(){if(l&&a&&c){var e=a.value;e&&Object(A.m)(c,JSON.parse(e))}},[l,a,c]),Object(h.useEffect)(function(){if(l&&a&&c){var e=w()(function(){requestAnimationFrame(function(){a.value=JSON.stringify(c.getContents().ops)})},1e3/60);c.on(ae.a.events.TEXT_CHANGE,e);var t=function(){Object(A.m)(c,[]),c.setSelection(null,ae.a.sources.USER)},o=c.container.closest("form");return o&&o.addEventListener("X-ClearCommentForm",t),function(){c.off(ae.a.events.TEXT_CHANGE,e),o&&o.removeEventListener("X-ClearCommentForm",t)}}},[l,a,c]),function(e){var t=f(),o=t.legacyMode,n=t.quill;Object(h.useEffect)(function(){if(o&&e&&Object($.b)()&&n){var t=function(e){e.stopPropagation(),e.preventDefault();var t=e.clipboardData||window.clipboardData,o=t.getData("Text"),i=JSON.parse(o);n.setContents(i)};return e.addEventListener("paste",t),function(){e.addEventListener("paste",t)}}},[o,n])}(e.legacyTextArea),function(e){var t=f(),o=t.legacyMode,n=t.quill,i=J(o),r=Y(),a=Pe()(n&&n.root.classList.value,"richEditor-text","userContent",i.text,Object(_.a)({},r.root,!o));Object(h.useEffect)(function(){n&&(n.root.classList.value=a)},[n,a]),Object(h.useEffect)(function(){n&&e&&n.root.setAttribute("placeholder",e)},[n,e])}(e.placeholder),function(){var e=f(),t=e.quill,o=e.isLoading,n=Z(o);Object(h.useEffect)(function(){t&&(!n&&o?t.disable():n&&!o&&t.enable())},[o,t])}(),function(){var e=f(),t=e.quill,o=e.initialValue,n=e.reinitialize,i=Z(o),r=Z(n);Object(h.useEffect)(function(){t&&o&&o.length>0&&i!==o&&r!==n&&t.setContents(o)},[t,o,n])}(),function(){var e=f(),t=e.operationsQueue,o=e.quill,n=e.clearOperationsQueue;Object(h.useEffect)(function(){if(t&&o&&0!==t.length)return t.forEach(function(e){var t=o.scroll.length();if("string"==typeof e)o.clipboard.dangerouslyPasteHTML(t,e);else{var n=t>1?{retain:t}:{delete:1};o.updateContents([n].concat(Object(F.a)(e)))}}),function(){n&&n()}},[o,t,n])}(),function(){var e=f().quill;Object(h.useEffect)(function(){var t=Object(n.b)("click",".js-quoteButton",function(t,o){if(!e)return;t.preventDefault();var n=e.getModule("embed/insertion"),i=o.getAttribute("data-scrape-url")||"";n.scrapeMedia(i)});return function(){Object(n.l)(t)}},[e])}(),u=Kt(),p=function(){u(ae.a.events.SELECTION_CHANGE,null,null,ae.a.sources.USER)},Object(h.useEffect)(function(){return document.addEventListener(A.a,p),function(){document.removeEventListener(A.a,p)}},[p]),function(){var e=f().quill,t=Kt();Object(h.useEffect)(function(){if(e)return e.on(ae.a.events.EDITOR_CHANGE,t),function(){e.off(ae.a.events.EDITOR_CHANGE,t)}})}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */(),d.a.createElement("div",{className:"richEditor-textWrap",ref:m})}function Kt(){var e=f(),t=e.onChange,o=e.quill,n=D(),i=Object(h.useCallback)(function(){return o?(re.resetCounters(),o.scroll.descendants(function(e){return e instanceof re},0,o.scroll.length()).forEach(function(e){return e.setGeneratedID()}),o.update(ae.a.sources.API),o.getContents().ops):[]},[o]);return Object(h.useCallback)(w()(function(e,r,a,s){if(o){t&&e===ae.a.events.TEXT_CHANGE&&s!==ae.a.sources.SILENT&&t(i());var l=!1;e===ae.a.events.SELECTION_CHANGE?l=!0:s!==ae.a.sources.SILENT&&(l=!0),l&&n.updateSelection(o.getSelection())}},1e3/60),[o,t,i])}function Yt(e){function t(t){var o=f(),n=D();return d.a.createElement(e,Object(m.a)({},o,n,t))}return t.displayName=e.displayName||e.name||"Component",t}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Zt=function(){function e(t,o){var n=this;Object(g.a)(this,e),this.rootNode=t,this.changeHandler=o,Object(_.a)(this,"start",function(){n.rootNode.addEventListener("focusout",n.handleFocusOut,!0),n.rootNode.addEventListener("focusin",n.handleFocusIn,!0),document.addEventListener("click",n.handleClick)}),Object(_.a)(this,"stop",function(){n.rootNode.removeEventListener("focusout",n.handleFocusOut,!0),n.rootNode.removeEventListener("focusin",n.handleFocusIn,!0),document.removeEventListener("click",n.handleClick)}),Object(_.a)(this,"handleFocusOut",function(e){n.checkDomTreeHasFocus(e,n.changeHandler)}),Object(_.a)(this,"handleFocusIn",function(e){n.checkDomTreeHasFocus(e,n.changeHandler)}),Object(_.a)(this,"handleClick",function(e){var t=e.target;n.checkDomTreeWasClicked(t)||n.changeHandler(!1)})}return Object(b.a)(e,[{key:"checkDomTreeWasClicked",value:function(e){return this.rootNode&&e&&(this.rootNode.contains(e)||this.rootNode===e)}},{key:"checkDomTreeHasFocus",value:function(e,t){var o=this;setTimeout(function(){for(var n=null,i=[document.activeElement,e.relatedTarget,e.explicitOriginalTarget],r=0;r<i.length;r++){var a=i[r];if(a&&a!==document.body){n=a;break}}if(null!==n){var s=o.rootNode&&n&&(n===o.rootNode||o.rootNode.contains(n));t(!!s)}},0)}}]),e}(),$t=Object(S.c)(function(){var e=Object(U.b)(),t=Object(S.d)("dropDown"),o=t("sizing",{widths:{default:250,medium:350},minHeight:600}),n=t("spacer",{margin:{vertical:8}});return{sizing:o,metas:t("metas",{font:{size:e.meta.text.fontSize,color:e.meta.text.color},padding:{vertical:6,horizontal:14}}),item:t("item",{colors:{fg:e.mainColors.fg},minHeight:30,mobile:{minHeight:44,fontSize:16},padding:{top:6}}),sectionTitle:t("sectionTitle",{padding:{top:6,bottom:6}}),spacer:n,title:t("title",{color:e.mainColors.fg}),contents:t("contents",{bg:e.mainColors.bg,fg:e.mainColors.fg,border:{radius:e.border.radius,color:e.border.color},padding:{vertical:9}})}}),Xt=Object(S.c)(function(){var e=$t(),t=Object(U.b)(),o=Object(S.b)("dropDown"),n=Object(G.a)(),i=Object(E.a)().mediaQueries();return{root:o({position:"relative"}),contents:o("contents",Object(c.a)({position:"absolute",minWidth:Object(W.B)(e.sizing.widths.default),backgroundColor:Object(W.g)(e.contents.bg),color:Object(W.g)(e.contents.fg),overflow:"auto"},Object(G.b)(e.contents.bg,Object(W.e)({}),n.dropDown()),Object(W.e)(e.contents.border),{zIndex:3,$nest:{"&.isMedium":{width:Object(W.B)(e.sizing.widths.medium)},"&.isParentWidth":{minWidth:"initial"},"&.isOwnWidth":{width:"initial"},"&.isRightAligned":{right:0,top:0},"& .frame":{boxShadow:"none"},"&.noMinWidth":{minWidth:0},"&.hasVerticalPadding":Object(c.a)({},Object(W.r)({vertical:12,horizontal:Object(x.f)(0)}))}})),asModal:o("asModal",{$nest:{"&.hasVerticalPadding":Object(W.r)({vertical:12})}}),likeDropDownContent:o("likeDropDownContent",Object(c.a)({},n.dropDown(),{backgroundColor:Object(W.g)(t.mainColors.bg)},Object(W.e)())),items:o("items",{fontSize:Object(W.B)(t.fonts.size.medium)}),metaItems:o("metaItems",Object(c.a)({$nest:{"&&":{display:"block"}}},Object(W.r)(e.metas.padding))),metaItem:o("metaItem",Object(c.a)({$nest:{"& + &":{paddingTop:Object(W.B)(e.item.padding.top)}}},Object(W.l)(e.metas.font))),item:o("item",Object(c.a)({display:"flex",alignItems:"center",justifyContent:"flex-start",width:Object(x.g)(100),color:"inherit"},Object(W.C)("none"),{textAlign:"left",lineHeight:t.lineHeights.condensed})),section:o("section",{display:"block"}),toggleButtonIcon:o("toggleButtonIcon",{$nest:Object(c.a)({},Object(W.f)({allStates:{color:Object(W.g)(t.mainColors.primary)}}))}),action:o("action",Object(c.a)({appearance:"none",display:"flex",alignItems:"center",width:Object(x.g)(100),textAlign:"left",color:Object(W.g)(e.item.colors.fg),minHeight:Object(W.B)(e.item.minHeight),lineHeight:Object(W.B)(t.lineHeights.condensed)},Object(W.r)({vertical:4,horizontal:14}),Object(W.e)({color:"transparent",radius:0}),Object(W.C)("none"),Object(W.f)({allStates:{textShadow:"none",outline:0},hover:{backgroundColor:Object(W.g)(t.states.hover.color)},focus:{backgroundColor:Object(W.g)(t.states.focus.color)},active:{backgroundColor:Object(W.g)(t.states.active.color)},accessibleFocus:{borderColor:Object(W.g)(t.mainColors.primary)}})),i.oneColumnDown({fontSize:Object(W.B)(e.item.mobile.fontSize),fontWeight:t.fonts.weights.semiBold,minHeight:Object(W.B)(e.item.mobile.minHeight)})),text:o("text",{display:"block"}),separator:o("separator",Object(c.a)({height:Object(W.B)(t.separator.size),backgroundColor:Object(W.g)(t.separator.color)},Object(W.o)(e.spacer.margin))),sectionHeading:o("sectionHeading",Object(c.a)({color:Object(W.g)(t.meta.text.color),fontSize:Object(W.B)(t.fonts.size.small),textTransform:"uppercase",textAlign:"center",fontWeight:t.fonts.weights.semiBold},Object(W.r)(e.sectionTitle.padding))),sectionContents:o("sectionContents",{display:"block"}),count:o("count",{fontSize:Object(W.B)(t.fonts.size.small),paddingLeft:"1em",marginLeft:"auto"}),verticalPadding:o("verticalPadding",Object(c.a)({},Object(W.r)({vertical:e.contents.padding.vertical,horizontal:0})),i.oneColumnDown(Object(c.a)({},Object(W.r)({vertical:0})))),title:o("title",Object(c.a)({},Object(W.l)({weight:t.fonts.weights.semiBold,size:t.fonts.size.medium,lineHeight:t.lineHeights.condensed}),Object(W.r)({top:0,right:0,bottom:0}),{flexGrow:1,color:Object(W.g)(e.title.color)}))}}),Qt=o(42),Jt=o(53),eo=o.n(Jt),to=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"quill",void 0),Object(_.a)(Object(y.a)(o),"windowResizeListener",function(){eo()(function(){o.setState({quillWidth:o.quill.root.offsetWidth})},200)()}),o.quill=e.quill,o.state={quillWidth:o.quill.root.offsetWidth},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.extractValuesFromProps(this.props),n=this.extractValuesFromProps(e),i=!1;e.isActive&&o.selectionIndex!==n.selectionIndex&&(i=!0),e.isActive&&o.selectionLength!==n.selectionLength&&(i=!0);for(var r=Object.keys(o.otherProps),a=0;a<r.length;a++){var s=r[a];o.otherProps[s]!==n.otherProps[s]&&(i=!0)}return this.state.quillWidth!==t.quillWidth&&(i=!0),i}},{key:"render",value:function(){var e=Q(),t=this.props.isActive?{x:this.getXCoordinates(this.props.legacyMode?0:-e.scrollContainer.overshoot),y:this.getYCoordinates()}:{x:null,y:null};return this.props.children(t)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.windowResizeListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.windowResizeListener)}},{key:"extractValuesFromProps",value:function(e){return{selectionIndex:e.selectionIndex,selectionLength:e.selectionLength,otherProps:Object(Qt.a)(e,["selectionIndex","selectionLength"])}}},{key:"getBounds",value:function(e,t){var o=this.props,n=o.selectionIndex,i=o.selectionLength;if(null===n||null===i)return null;var r,a=this.quill.getLines(n,i);if(a.length<=1)r=this.quill.getBounds(n,i);else{var s=a[a.length-1],l=this.quill.getIndex(s),c=Math.min(s.length()-1,n+i-l);r=this.quill.getBounds(l,c)}return r.y+=t,r.x+=e,r}},{key:"getXCoordinates",value:function(e){var t=this.getBounds(e);if(!t||!this.props.flyoutWidth)return null;var o=this.state.quillWidth,n=this.props.flyoutWidth,i=t.left,r=t.right;if("center"===(this.props.horizontalAlignment||"center")){var a=n/2,s=a+-6,l=o-a- -6,c=Math.round((i+r)/2),u=Math.max(s,Math.min(l,c))-a;return{position:u,nubPosition:c-u}}var h=i,d=o-n-6,p=Math.min(d,Math.max(h,i));return{position:p,nubPosition:p}}},{key:"getYCoordinates",value:function(){var e=this.getBounds();if(null==e||null==this.props.flyoutHeight)return null;var t=Q(),o=this.props,n=o.flyoutHeight,i=o.nubHeight,r=o.verticalAlignment,a=this.props.legacyMode?0:t.spacing.paddingTop,s=e.top-n+a,l=n-1,c=!0;return(e.top<=2*t.menuButton.size||"below"===r)&&(s=e.bottom+a,i&&(l=1-2*i,c=!1)),{position:s,nubPosition:l,nubPointsDown:c}}}]),t}(d.a.Component)),oo=Object(S.c)(function(){var e=Object(U.b)(),t=Q(),o=Object(S.b)("nub");return{root:o({position:"relative",display:"block",width:Object(W.B)(t.nub.width),height:Object(W.B)(t.nub.width),borderTop:Object(W.v)({width:t.menu.borderWidth}),borderRight:Object(W.v)({width:t.menu.borderWidth}),boxShadow:e.overlay.dropShadow,background:Object(W.g)(t.colors.bg)}),position:o("position",Object(c.a)({position:"absolute",display:"flex",alignItems:"flex-start",justifyContent:"center",overflow:"hidden",width:Object(W.B)(2*t.nub.width),height:Object(W.B)(2*t.nub.width)},Object(W.C)(),{transform:Object(x.k)("-50%"),pointerEvents:"none"}))}}),no=Object(S.c)(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=Q(),t=Object(S.b)("inlineToolbar"),o=e.menu.offset/2;return{root:t({$nest:{"&.isUp":{transform:"translateY(-12px)",$nest:{".richEditor-nubPosition":{bottom:0,zIndex:10},".richEditor-nub":{transform:"translateY(-50%) rotate(135deg)",marginBottom:Object(W.B)(o)}}},"&.isDown":{transform:"translateY(12px)",$nest:{".richEditor-nubPosition":{bottom:Object(x.g)(100)},".richEditor-nub":{transform:"translateY(50%) rotate(-45deg)",marginTop:Object(W.B)(o),boxShadow:"none"}}}}})}}),io=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"flyoutRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"nubRef",d.a.createRef()),o.state={flyoutHeight:null,flyoutWidth:null,nubHeight:null},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.isVisible,n=t.selection,i=no(this.props.legacyMode);return d.a.createElement(to,Object(m.a)({},this.state,{selectionIndex:n.index,selectionLength:n.length,isActive:o,className:i.root}),function(t){var n=t.x,r=t.y,a=oo(),s={visibility:"hidden",position:"absolute",top:0},l={},c=Pe()("richEditor-inlineToolbarContainer","richEditor-toolbarContainer",i.root);return n&&r&&o&&(s={position:"absolute",top:r?r.position:0,left:n?n.position:0,zIndex:5,visibility:"visible"},l={left:n&&n.nubPosition?n.nubPosition:0,top:r&&r.nubPosition?r.nubPosition:0},c+=r&&r.nubPointsDown?" isUp":" isDown"),d.a.createElement("div",{className:c,style:s,ref:e.flyoutRef},e.props.children,d.a.createElement("div",{style:l,className:Pe()("richEditor-nubPosition",a.position),ref:e.nubRef},d.a.createElement("div",{className:Pe()("richEditor-nub",a.root)})))})}},{key:"componentDidMount",value:function(){Object(L.b)();var e=Q();this.setState({flyoutWidth:this.flyoutRef.current?this.flyoutRef.current.offsetWidth:null,flyoutHeight:this.flyoutRef.current?this.flyoutRef.current.offsetHeight:null,nubHeight:e.nub.width||12})}}]),t}(d.a.PureComponent));
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function ro(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return{top:e?void 0:"100%",right:t?"0":void 0,bottom:e?"100%":void 0,left:t?void 0:"0"}}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var ao=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=J(!1);return d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:e.iconWrap}),this.props.icon)}}]),t}(d.a.PureComponent),so=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"buttonRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"onClick",function(e){o.props.isDisabled?e.preventDefault():o.props.onClick(e)}),Object(_.a)(Object(y.a)(o),"handleKeyPress",function(e){switch(e.key){case"ArrowRight":case"ArrowDown":e.stopPropagation(),e.preventDefault(),o.props.focusNextItem();break;case"ArrowUp":case"ArrowLeft":e.stopPropagation(),e.preventDefault(),o.props.focusPrevItem()}}),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=J(this.props.legacyMode),t=this.props,o=t.label,n=(t.isDisabled,t.isActive),i=(t.onClick,t.icon),r=t.role,a=Pe()("richEditor-button","richEditor-formatButton","richEditor-menuItem",e.button,e.menuItem,{isActive:n}),s={role:r,"aria-label":o};return"menuitem"===r?s["aria-pressed"]=n:s["aria-checked"]=n,d.a.createElement("button",Object(m.a)({},s,{className:a,type:"button",onClick:this.onClick,onKeyDown:this.handleKeyPress,ref:this.buttonRef}),d.a.createElement(ao,{icon:i}))}},{key:"focus",value:function(){this.buttonRef.current&&this.buttonRef.current.focus()}}]),t}(d.a.PureComponent),lo=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"menuItemRefs",[]),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.menuItemData,o=t.length-1,n=J(this.props.legacyMode);return d.a.createElement("div",{className:Pe()("richEditor-menu",this.props.className),role:"menu",style:ro(!!this.props.renderAbove,!!this.props.renderLeft,!!this.props.legacyMode),"aria-orientation":this.props.orientation,onKeyDown:this.props.onKeyDown},d.a.createElement("div",{className:Pe()("richEditor-menuItems",n.menuItems)},this.props.menuItemData.map(function(t,n){var i=0===n?o:n-1,r=n===o?0:n+1;return d.a.createElement(so,Object(m.a)({},t,{role:e.props.itemRole,key:n,focusNextItem:function(){var t=e.menuItemRefs[r];t&&t.focus()},focusPrevItem:function(){var t=e.menuItemRefs[i];t&&t.focus()},ref:function(t){return e.menuItemRefs.push(t)},legacyMode:e.props.legacyMode}))})))}},{key:"focusFirstItem",value:function(){}},{key:"focusLastItem",value:function(){}}]),t}(d.a.Component);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(_.a)(lo,"defaultProps",{itemRole:"menuitem",orientation:"horizontal"});
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var co=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"formatBold",function(e){e.preventDefault(),o.props.formatter.bold()}),Object(_.a)(Object(y.a)(o),"formatItalic",function(e){e.preventDefault(),o.props.formatter.italic()}),Object(_.a)(Object(y.a)(o),"formatStrike",function(e){e.preventDefault(),o.props.formatter.strike()}),Object(_.a)(Object(y.a)(o),"formatCode",function(e){e.preventDefault(),o.props.formatter.codeInline()}),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=no(!!this.props.legacyMode);return d.a.createElement(lo,{menuItemData:this.menuItemData,className:Pe()("richEditor-inlineToolbarContainer",this.props.className,e.root)})}},{key:"menuItemData",get:function(){var e,t,o=this.props,n=o.activeFormats,i=o.onLinkClick;return[{label:Object(Ce.m)("Format as Bold"),icon:(t=J(!1),d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Bold")),d.a.createElement("path",{d:"M6.511,18v-.62a4.173,4.173,0,0,0,.845-.093.885.885,0,0,0,.736-.79,5.039,5.039,0,0,0,.063-.884V8.452a6.585,6.585,0,0,0-.047-.876,1.116,1.116,0,0,0-.194-.527.726.726,0,0,0-.4-.263,3.658,3.658,0,0,0-.674-.1v-.62h4.975a7.106,7.106,0,0,1,3.6.752A2.369,2.369,0,0,1,16.68,8.964q0,1.843-2.651,2.6v.062a4.672,4.672,0,0,1,1.542.24,3.39,3.39,0,0,1,1.171.674,3.036,3.036,0,0,1,.744,1.023,3.125,3.125,0,0,1,.263,1.287,2.49,2.49,0,0,1-.38,1.379,3.05,3.05,0,0,1-1.092.992,7.794,7.794,0,0,1-3.8.775Zm6.076-.945q2.5,0,2.5-2.248a2.3,2.3,0,0,0-.9-2.015,3.073,3.073,0,0,0-1.2-.465,9.906,9.906,0,0,0-1.806-.139h-.744v3.1a1.664,1.664,0,0,0,.5,1.364A2.659,2.659,0,0,0,12.587,17.055Zm-1.24-5.8a4.892,4.892,0,0,0,1.21-.131,2.69,2.69,0,0,0,.868-.38,1.8,1.8,0,0,0,.743-1.6,2.107,2.107,0,0,0-.557-1.635,2.645,2.645,0,0,0-1.8-.5h-1.1q-.279,0-.279.264v3.983Z",style:Be}))),isActive:!0===n.bold,onClick:this.formatBold},{label:Object(Ce.m)("Format as Italic"),icon:De(),isActive:!0===n.italic,onClick:this.formatItalic},{label:Object(Ce.m)("Format as Strikethrough"),icon:qe(),isActive:!0===n.strike,onClick:this.formatStrike},{label:Object(Ce.m)("Format as Inline Code"),icon:He(),isActive:!0===n.code,onClick:this.formatCode},{label:Object(Ce.m)("Format as Link"),icon:Fe(),isActive:"string"==typeof n.link,onClick:i}]}}]),t}(d.a.PureComponent),uo=o(611),ho=Object(S.c)(function(){var e=Q(),t=Object(S.b)("insertLink");return{root:t({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"center",maxWidth:Object(W.B)(e.insertLink.width),width:Object(x.g)(100),paddingLeft:0}),input:t("input",{zIndex:2,$nest:{"&, &.InputBox":{border:Object(x.f)("0"),marginBottom:Object(x.f)("0"),flexGrow:1,maxWidth:Object(x.b)("100% - ".concat(Object(W.B)(e.menuButton.size)))}}})}}),po=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),(o=Object(v.a)(this,Object(j.a)(t).call(this,e))).state={linkValue:"",cachedRange:{index:0,length:0},showFormatMenu:!1,showLinkMenu:!1},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=J(this.props.legacyMode),t=ho(),o=Xt();return d.a.createElement("div",{className:Pe()("richEditor-menu","insertLink","likeDropDownContent",t.root,o.likeDropDownContent),role:"dialog","aria-label":Object(Ce.m)("Insert Url")},d.a.createElement("input",{value:this.props.inputValue,onChange:this.props.onInputChange,ref:this.props.inputRef,onKeyDown:this.props.onInputKeyDown,className:Pe()("InputBox","inputText","insertLink-input",t.input),placeholder:Object(Ce.m)("Paste or type url")}),d.a.createElement(uo.a,{className:Pe()("richEditor-close",e.close),onClick:this.props.onCloseClick}))}}]),t}(d.a.PureComponent)),fo=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"quill",void 0),Object(_.a)(Object(y.a)(o),"linkInput",d.a.createRef()),Object(_.a)(Object(y.a)(o),"selfRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"focusWatcher",void 0),Object(_.a)(Object(y.a)(o),"ignoreLinkToolbarFocusRequirement",!1),Object(_.a)(Object(y.a)(o),"handleFocusChange",function(e){o.setState({menuHasFocus:e})}),Object(_.a)(Object(y.a)(o),"commandKHandler",function(){var e=o.props.lastGoodSelection,t=Object(A.l)(o.quill,ut.a,e);if(o.isOneLineOrLess&&!o.isLinkMenuVisible&&!t)if(Object(A.l)(o.quill,de,e))o.formatter.link(),o.reset();else{var n=o.quill.getText(e.index,e.length);Object(Ce.i)(n)&&o.setState({inputValue:n}),o.toggleLinkMenu()}}),Object(_.a)(Object(y.a)(o),"toggleLinkMenu",function(e){e&&e.preventDefault(),"string"==typeof o.props.activeFormats.link?(o.setState({isLinkMenuOpen:!1}),o.formatter.link()):(o.ignoreLinkToolbarFocusRequirement=!0,o.setState({isLinkMenuOpen:!0},function(){o.linkInput.current.focus(),o.ignoreLinkToolbarFocusRequirement=!1}))}),Object(_.a)(Object(y.a)(o),"escFunction",function(e){27===e.keyCode&&(o.isLinkMenuVisible?(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o.clearLinkInput()):o.isFormatMenuVisible&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o.cancel()))}),Object(_.a)(Object(y.a)(o),"onCloseClick",function(e){e.preventDefault(),o.clearLinkInput()}),Object(_.a)(Object(y.a)(o),"reset",function(){o.props.lastGoodSelection&&o.quill.setSelection(o.props.lastGoodSelection,mt.a.sources.USER),o.setState({inputValue:""})}),Object(_.a)(Object(y.a)(o),"cancel",function(){var e=o.props.lastGoodSelection,t={index:e.index+e.length,length:0};o.setState({inputValue:""}),o.quill.setSelection(t)}),Object(_.a)(Object(y.a)(o),"onInputKeyDown",function(e){dt.a.match(e.nativeEvent,"enter")&&(e.preventDefault(),o.formatter.link(o.state.inputValue),o.clearLinkInput()),o.escFunction(e.nativeEvent)}),Object(_.a)(Object(y.a)(o),"onInputChange",function(e){o.setState({inputValue:e.target.value})}),o.quill=e.quill,o.state={inputValue:"",isLinkMenuOpen:!1,menuHasFocus:!1},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.lastGoodSelection,o=e.lastGoodSelection;o.index===t.index&&o.length===t.length||this.setState({isLinkMenuOpen:!1})}},{key:"render",value:function(){var e=Xt(),t=this.props.activeFormats,o=this.isFormatMenuVisible?d.a.createElement("span",{"aria-live":"assertive",role:"alert",className:"sr-only"},Object(Ce.m)("Inline Menu Available")):null;return d.a.createElement("div",{ref:this.selfRef},d.a.createElement(io,{selection:this.props.lastGoodSelection,isVisible:this.isFormatMenuVisible},o,d.a.createElement(co,{formatter:this.formatter,onLinkClick:this.toggleLinkMenu,activeFormats:t,lastGoodSelection:this.props.lastGoodSelection,className:Pe()("likeDropDownContent",e.likeDropDownContent)})),d.a.createElement(io,{selection:this.props.lastGoodSelection,isVisible:this.isLinkMenuVisible},d.a.createElement(po,{inputRef:this.linkInput,inputValue:this.state.inputValue,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,onCloseClick:this.onCloseClick})))}},{key:"componentDidMount",value:function(){this.quill.root.addEventListener("keydown",this.escFunction,!1),this.focusWatcher=new Zt(this.selfRef.current,this.handleFocusChange),this.focusWatcher.start(),this.quill.getModule("keyboard").addBinding({key:"k",metaKey:!0},{},this.commandKHandler)}},{key:"componentWillUnmount",value:function(){this.quill.root.removeEventListener("keydown",this.escFunction,!1),this.focusWatcher.stop()}},{key:"clearLinkInput",value:function(){this.quill.setSelection(this.props.lastGoodSelection),this.setState({isLinkMenuOpen:!1,inputValue:""})}},{key:"formatter",get:function(){return new wt(this.quill,this.props.lastGoodSelection)}},{key:"isLinkMenuVisible",get:function(){var e=Object(A.l)(this.quill,ut.a,this.props.lastGoodSelection);return this.state.isLinkMenuOpen&&(this.hasFocus||this.ignoreLinkToolbarFocusRequirement)&&this.isOneLineOrLess&&!e&&this.selectionHasContent}},{key:"isFormatMenuVisible",get:function(){var e=this.props.lastGoodSelection.length>0,t=Object(A.l)(this.quill,ut.a,this.props.lastGoodSelection);return!this.isLinkMenuVisible&&this.hasFocus&&e&&this.isOneLineOrLess&&!t&&this.selectionHasContent}},{key:"selectionHasContent",get:function(){var e=this.props.lastGoodSelection,t=this.quill.getText(e.index,e.length);return!!t&&"\n"!==t}},{key:"isOneLineOrLess",get:function(){var e=this.props.lastGoodSelection;return this.quill.getLines(e.index||0,e.length||0).length<=1}},{key:"hasFocus",get:function(){return this.state.menuHasFocus||this.quill.hasFocus()}}]),t}(d.a.PureComponent)),mo=o(50),go=o.n(mo),bo=o(695),vo=o.n(bo),jo=o(41),yo=o(15),Oo=o(73),_o=o(62);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Co(e){var t=e.isActive,o=e.matchedString,n=e.mentionData,i=e.onClick,r=e.onMouseEnter,a=n.photoUrl,s=n.name,l=n.domID,c=J(!1),u=Pe()("richEditor-menuItem","atMentionList-item",c.menuItem,{isActive:t}),h=!1,p=Object($.m)(s,o).map(function(e,t){return 0!==Intl.Collator("en",{usage:"search",sensitivity:"base",ignorePunctuation:!0,numeric:!0}).compare(e,o)||h?e:(h=!0,d.a.createElement("mark",{className:"atMentionList-mark",key:t},e))});return d.a.createElement("li",{id:l,className:u,role:"option","aria-selected":t,onClick:i,onMouseEnter:r},d.a.createElement("button",{type:"button",className:"atMentionList-suggestion"},d.a.createElement("span",{className:"atMentionList-user"},d.a.createElement("span",{className:"atMentionList-photoWrap"},d.a.createElement("img",{src:a,alt:s,className:"atMentionList-photo"})),d.a.createElement("span",{className:"atMentionList-userName"},p))))}function wo(e){var t=e.loadingData,o=e.onMouseEnter,n=e.isActive,i=t.domID,r=J(!1),a=Pe()("richEditor-menuItem","atMentionList-item","atMentionList-loader",r.menuItem,{isActive:n});return d.a.createElement("li",{id:i,className:a,role:"option","aria-selected":n,onMouseEnter:o},d.a.createElement("button",{type:"button",className:"atMentionList-suggestion",disabled:!0},d.a.createElement("span",{className:"atMentionList-user atMentionList-loader"},d.a.createElement("span",{className:"PhotoWrap atMentionList-photoWrap"},d.a.createElement("img",{alt:name,className:"atMentionList-photo ProfilePhoto"})),d.a.createElement("span",{className:"atMentionList-userName"},Object(Ce.m)("Loading...")))))}function So(){var e=J(!1),t=Pe()("richEditor-menuItem","atMentionList-item","atMentionList-spacer",e.menuItem);return d.a.createElement("li",{"aria-hidden":"true",className:t,style:{visibility:"hidden"}},d.a.createElement("button",{type:"button",className:"atMentionList-suggestion"},d.a.createElement("span",{className:"atMentionList-user atMentionList-loader"},d.a.createElement("span",{className:"PhotoWrap atMentionList-photoWrap"},d.a.createElement("img",{alt:name,className:"atMentionList-photo ProfilePhoto"})),d.a.createElement("span",{className:"atMentionList-userName"}))))}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var xo=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"state",{flyoutWidth:null,flyoutHeight:null}),Object(_.a)(Object(y.a)(o),"flyoutRef",d.a.createRef()),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.activeItemId,n=t.id,i=t.onItemClick,r=t.matchedString,a=t.mentionProps,s=t.showLoader,l=t.mentionSelection,c=Xt(),u=a.length>0||s,h=Pe()("richEditor-menu","atMentionList-items","likeDropDownContent",c.likeDropDownContent),p=u&&(!!l||this.hasFocusedElement);return d.a.createElement(to,{horizontalAlignment:"start",verticalAlignment:"below",flyoutWidth:this.state.flyoutWidth,flyoutHeight:this.state.flyoutHeight,isActive:p,selectionIndex:l?l.index:0,selectionLength:l?l.length:0},function(t){var l=t.x,c=t.y,p={visibility:"hidden",position:"absolute",zIndex:-1};l&&c&&(p={position:"absolute",top:c.position,left:l.position,zIndex:10,visibility:"visible"});var f=a.map(function(e){if(null==e.mentionData)return null;var t=e.mentionData.domID===o;return d.a.createElement(Co,{mentionData:e.mentionData,key:e.mentionData.name,onMouseEnter:e.onMouseEnter,onClick:i,isActive:t,matchedString:r})});if(s){var m={domID:e.props.loaderID},g=m.domID===o;f.push(d.a.createElement(wo,{loadingData:m,isActive:g,key:"Loading",matchedString:r}))}return d.a.createElement("span",{style:p,className:"atMentionList",ref:e.flyoutRef},d.a.createElement("ul",{id:n,"aria-label":Object(Ce.m)("@mention user suggestions"),className:h+(u?"":" isHidden"),role:"listbox"},u&&f),d.a.createElement("div",{className:h,style:{visibility:"hidden"}},d.a.createElement(So,null)))})}},{key:"componentDidMount",value:function(){this.setState({flyoutWidth:this.flyoutRef.current?this.flyoutRef.current.offsetWidth:null,flyoutHeight:this.flyoutRef.current?this.flyoutRef.current.offsetHeight:null})}},{key:"hasFocusedElement",get:function(){return!!this.flyoutRef.current&&(document.activeElement===this.flyoutRef.current||this.flyoutRef.current.contains(document.activeElement))}}]),t}(d.a.PureComponent)),Eo=function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"quill",void 0),Object(_.a)(Object(y.a)(o),"ID",go()("mentionList-")),Object(_.a)(Object(y.a)(o),"loaderID",go()("mentionList-noResults-")),Object(_.a)(Object(y.a)(o),"comboBoxID",go()("mentionComboBox-")),Object(_.a)(Object(y.a)(o),"isConvertingMention",!1),Object(_.a)(Object(y.a)(o),"MENTION_COMPLETION_CHARACTERS",[".","!","?"," ","\n"]),Object(_.a)(Object(y.a)(o),"onItemClick",function(e){e.preventDefault(),o.confirmActiveMention()}),Object(_.a)(Object(y.a)(o),"keyDownListener",function(e){var n=o.props,i=n.suggestions,r=n.activeSuggestionIndex,a=n.activeSuggestionID,s=n.isLoading,l=null!==o.props.mentionSelection;if(i&&i.status===yo.a.SUCCESS&&i.data)if(o.quill.hasFocus()&&l&&!o.hasApiResponse)dt.a.match(e,dt.a.keys.ENTER)&&o.cancelActiveMention();else if(o.quill.hasFocus()&&l){var c=r+1,u=r-1,h=Math.min(t.SUGGESTION_LIMIT,i.data.length),d=s?h:h-1,p=a===o.loaderID,f=function(e){return s&&e===d?o.loaderID:i.data[e].domID};switch(!0){case dt.a.match(e,dt.a.keys.DOWN):var m=r===d?0:c,g=f(m);o.props.suggestionActions.setActive(g,m),e.preventDefault(),e.stopPropagation();break;case dt.a.match(e,dt.a.keys.UP):var b=0===r?d:u,v=f(b);o.props.suggestionActions.setActive(v,b),e.preventDefault(),e.stopPropagation();break;case dt.a.match(e,dt.a.keys.ENTER):i.data.length>0&&!p?(o.confirmActiveMention(),e.preventDefault(),e.stopPropagation()):o.cancelActiveMention();break;case dt.a.match(e,dt.a.keys.TAB):p||(o.confirmActiveMention(),e.preventDefault(),e.stopPropagation());break;case dt.a.match(e,dt.a.keys.ESCAPE):o.cancelActiveMention(),e.preventDefault(),e.stopPropagation()}}}),Object(_.a)(Object(y.a)(o),"injectComboBoxAccessibility",function(){var e=o.state.autoCompleteBlot,t=o.props,n=t.activeSuggestionID;t.activeSuggestionIndex;e&&e.injectAccessibilityAttributes({ID:o.comboBoxID,activeItemID:n,suggestionListID:o.ID,activeItemIsLoader:n===o.loaderID})}),Object(_.a)(Object(y.a)(o),"onDocumentClick",function(e){o.quill.root.contains(e.target)||o.cancelActiveMention()}),Object(_.a)(Object(y.a)(o),"onTextChange",function(e,t,n){if(n===ae.a.sources.USER){var i=e.ops&&e.ops.length>0?e.ops[e.ops.length-1]:null;if(i&&i.insert&&o.MENTION_COMPLETION_CHARACTERS.includes(i.insert)){var r=o.props.suggestions,a=r&&r.status===yo.a.SUCCESS&&r.data?r.data:[];if(1===a.length&&o.props.lastSuccessfulUsername===a[0].name)return void window.requestAnimationFrame(function(){o.confirmActiveMention(i.insert)})}}}),o.quill=e.quill,o.state={autoCompleteBlot:null},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDownListener,!0),document.addEventListener("click",this.onDocumentClick,!1),this.quill.on("text-change",this.onTextChange)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDownListener,!0),document.removeEventListener("click",this.onDocumentClick,!1),this.quill.off("text-change",this.onTextChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props.mentionSelection,o=e.mentionSelection;if(!vo()(t,o)&&t){var n=this.quill.getText(t.index,t.length).replace("@","");this.props.suggestionActions.loadUsers(n)}var i=this.props.suggestions;if(i){var r=i&&i.status===yo.a.LOADING,a=i&&i.status===yo.a.SUCCESS&&i.data&&i.data.length>0;if(t&&(r||a)){if(!this.state.autoCompleteBlot){var s=this.createAutoCompleteBlot();this.setState({autoCompleteBlot:s})}return void this.injectComboBoxAccessibility()}}if(this.state.autoCompleteBlot){var l=this.quill.getSelection();this.cancelActiveMention(),this.quill.hasFocus()&&this.quill.setSelection(l)}}},{key:"render",value:function(){var e=this.props,t=e.suggestions,o=e.lastSuccessfulUsername,n=e.activeSuggestionID,i=e.isLoading,r=t&&t.status===yo.a.SUCCESS&&t.data?t.data:[];return d.a.createElement(xo,{onItemClick:this.onItemClick,mentionProps:this.createMentionProps(r),matchedString:o||"",activeItemId:n,id:this.ID,loaderID:this.loaderID,showLoader:i})}},{key:"createAutoCompleteBlot",value:function(){var e=this.props,t=e.currentSelection,o=e.mentionSelection;return t&&o?(this.quill.formatText(o.index,o.length,"mention-autocomplete",!0,ae.a.sources.API),this.quill.setSelection(t.index,0,ae.a.sources.API),Object(A.d)(this.quill,t.index-1,Ee)):null}},{key:"createMentionProps",value:function(e){var o=this;return e.slice(0,t.SUGGESTION_LIMIT).map(function(e,t){return{mentionData:e,onMouseEnter:function(){o.props.suggestionActions.setActive(e.domID,t)}}})}},{key:"cancelActiveMention",value:function(){this.state.autoCompleteBlot&&!this.isConvertingMention&&(this.isConvertingMention=!0,this.state.autoCompleteBlot.cancel()),this.isConvertingMention=!1,this.setState({autoCompleteBlot:null})}},{key:"confirmActiveMention",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=this.state.autoCompleteBlot,o=this.props,n=o.suggestions,i=o.activeSuggestionIndex;if(t instanceof Ee&&!this.isConvertingMention&&n&&n.status===yo.a.SUCCESS&&n.data){this.isConvertingMention=!0;var r=n.data[i],a=t.offset(this.quill.scroll);t.finalize(r),this.quill.insertText(a+1,e,ae.a.sources.SILENT),this.quill.setSelection(a+2,0,ae.a.sources.SILENT),this.cancelActiveMention()}}},{key:"hasApiResponse",get:function(){var e=this.props.suggestions;return e&&e.status===yo.a.SUCCESS}}]),t}(d.a.Component);Object(_.a)(Eo,"SUGGESTION_LIMIT",5);var ko=Object(jo.b)(Oo.a.mapStateToProps,function(e){return{suggestionActions:new _o.a(e,Tt.a)}})(Yt(Eo));
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Lo(){var e=f(),t=e.quill,o=e.isLoading;return!t||o?null:d.a.createElement(d.a.Fragment,null,d.a.createElement(fo,null),d.a.createElement(ko,null))}
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Io,To=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.tag||"div";return d.a.createElement(e,{className:"sr-only"},this.props.children)}}]),t}(d.a.PureComponent),Ro=function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"ID",void 0),Object(_.a)(Object(y.a)(o),"componentID",void 0),Object(_.a)(Object(y.a)(o),"menuID",void 0),Object(_.a)(Object(y.a)(o),"buttonID",void 0),Object(_.a)(Object(y.a)(o),"selfRef",void 0),Object(_.a)(Object(y.a)(o),"toggleButtonRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"handleClick",void 0),o.ID=o.props.parentID+"".concat(o.props.parentID,"-dropDown"),o.componentID=o.ID+"-component",o.menuID=o.ID+"-menu",o.buttonID=o.ID+"-button",o.handleClick=function(e){o.props.setRovingIndex(),o.props.toggleMenu(function(){o.props.open?o.props.selectFirstElement():o.toggleButtonRef.current&&o.toggleButtonRef.current.focus()})},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,o=e.isMenuVisible,n=(e.toggleMenu,e.children,e.icon);if(open){var i=J(this.props.legacyMode);return d.a.createElement("div",{id:this.componentID,ref:this.selfRef,className:Pe()(t)},d.a.createElement("button",{type:"button",role:"menuitem",id:this.buttonID,"aria-label":this.props.accessibleButtonLabel,title:this.props.accessibleButtonLabel,"aria-controls":this.menuID,"aria-expanded":o,"aria-haspopup":"menu",onClick:this.handleClick,className:Pe()(i.button,this.props.open?i.topLevelButtonActive:""),tabIndex:this.props.tabIndex,ref:this.toggleButtonRef},d.a.createElement(ao,{icon:n}),d.a.createElement(To,null,this.props.accessibleButtonLabel)))}return null}},{key:"componentDidMount",value:function(){this.props.open||0!==this.props.tabIndex||this.toggleButtonRef.current&&this.toggleButtonRef.current.focus()}},{key:"componentDidUpdate",value:function(){this.props.open||0!==this.props.tabIndex||this.toggleButtonRef.current&&this.toggleButtonRef.current.focus()}},{key:"getMenuContentsID",value:function(){return this.menuID}}]),t}(d.a.PureComponent),No=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"buttonRef",d.a.createRef()),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=J(!!this.props.legacyMode);return d.a.createElement("button",{type:"button",disabled:this.props.isDisabled,title:this.props.title,"aria-label":this.props.title,onClick:function(t){e.props.setRovingIndex(),e.props.formatParagraphHandler(),e.props.closeMenuAndSetCursor()},className:Pe()(this.props.className,t.button),ref:this.buttonRef,tabIndex:this.props.tabIndex},d.a.createElement(To,null,Object(Ce.m)("Paragraph")),d.a.createElement(ao,{icon:d.a.createElement("span",{"aria-hidden":!0},We())}))}},{key:"componentDidMount",value:function(){this.props.isMenuVisible&&0===this.props.tabIndex&&this.buttonRef.current&&this.buttonRef.current.focus()}},{key:"componentDidUpdate",value:function(){this.props.isMenuVisible&&0===this.props.tabIndex&&this.buttonRef.current&&this.buttonRef.current.focus()}}]),t}(d.a.PureComponent),Mo=Object(S.c)(function(){var e=Object(U.b)(),t=Q(),o=Object(S.b)("paragraphMenuCheckRadio");return{group:o("group",{marginBottom:Object(W.B)(9)}),checkRadio:o("checkRadio",Object(c.a)({},Object(W.d)(),{border:0,display:"flex",alignItems:"center",width:Object(x.g)(100),minHeight:Object(W.B)(30),userSelect:"none",padding:0,outline:0,$nest:{"&:hover":{backgroundColor:Object(W.g)(e.states.hover.color),zIndex:1},"&:active":{backgroundColor:Object(W.g)(e.states.active.color),zIndex:1},"&:focus":{backgroundColor:Object(W.g)(e.states.focus.color),zIndex:1}}})),check:o("check",{}),radio:o("radio",{}),checked:o("checked",{}),separator:o("separator",{}),icon:o("icon",{width:Object(W.B)(t.menuButton.size),flexBasis:Object(W.B)(t.menuButton.size)}),checkRadioLabel:o("checkRadioLabel",{flexGrow:1,maxWidth:Object(x.b)("100% - ".concat(Object(W.B)(2*t.menuButton.size))),textAlign:"left"}),checkRadioSelected:o("checkRadioSelected",{width:Object(W.B)(t.menuButton.size),flexBasis:Object(W.B)(t.menuButton.size)})}}),Ao=o(632),zo=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=Mo(),t=this.props,o=t.checked,n=t.type,i=t.icon,r=t.text,a=t.onClick,s=n===Io.RADIO,l=Object(U.b)(),c=Object(L.e)({width:Object(W.B)(l.icon.sizes.default),height:Object(W.B)(l.icon.sizes.default)}),u=Object(L.e)({color:Object(W.g)(l.mainColors.primary)});return d.a.createElement("button",{className:Pe()(e.checkRadio,s?e.radio:e.check,o?e.checked:""),role:s?"menuitemradio":"menuitemcheckbox","aria-checked":o,type:"button",onClick:a,disabled:!!this.props.disabled,tabIndex:this.props.disabled?-1:0,"data-firstletter":r.toLowerCase().substr(0,1)},d.a.createElement("span",{className:e.icon},i),d.a.createElement("span",{className:e.checkRadioLabel},r),o&&d.a.createElement("span",{className:e.checkRadioSelected},Object(Ao.a)(Pe()(u,c))))}}]),t}(d.a.PureComponent),Po=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=Mo();return this.props.items&&this.props.items.length>0?d.a.createElement("div",{"aria-label":this.props.label,role:"group",className:Pe()(t.group,this.props.className)},this.props.items.map(function(t,o){return d.a.createElement(zo,{checked:t.checked,icon:t.icon,text:t.text,type:Io.RADIO,onClick:function(n){e.props.handleClick(t,o)},disabled:t.disabled||!!e.props.disabled,key:"checkRadio-".concat(o)})})):null}}]),t}(d.a.PureComponent),Bo=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=J(!1);return d.a.createElement(Po,{className:Pe()(t.paragraphMenuPanel,this.props.className),handleClick:function(t,o){e.props.items[o].formatFunction(),e.props.setRovingIndex(),e.props.closeMenuAndSetCursor()},label:Object(Ce.m)("Headings"),items:this.props.items,disabled:this.props.disabled})}}]),t}(d.a.Component),Do=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=J(!!this.props.legacyMode);return d.a.createElement("div",{className:Pe()(this.props.className,e.separator)},d.a.createElement(To,null,d.a.createElement("hr",{role:"separator"})))}}]),t}(d.a.Component),qo=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e,t,o=this,n=J(!1),i=Mo(),r=!!this.props.disabled||!this.props.canIndent,a=!!this.props.disabled||!this.props.canOutdent,s=Object(Ce.m)("Indent"),l=Object(Ce.m)("Outdent");return d.a.createElement(d.a.Fragment,null,d.a.createElement(Po,{className:n.paragraphMenuPanel,label:Object(Ce.m)("List Types"),items:this.props.items,handleClick:function(e,t){o.props.items[t].formatFunction(),o.props.setRovingIndex(),o.props.closeMenuAndSetCursor()},disabled:!!this.props.disabled}),d.a.createElement(Do,null),d.a.createElement("div",{className:i.group},d.a.createElement("button",{className:Pe()(i.checkRadio),type:"button",onClick:this.props.indent,disabled:r,tabIndex:r?-1:0,"data-firstletter":s.toLowerCase().substr(0,1)},d.a.createElement("span",{className:i.icon},(t=J(!1),d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Indent")),d.a.createElement("path",{fill:"currentColor",d:"M10.5 11a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zm0 4a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zM5.438 19h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438c-.517 0-.937.448-.937 1s.42 1 .938 1zM5.438 7h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438C4.92 5 4.5 5.448 4.5 6s.42 1 .938 1zM8.5 12l-3 3V9z"})))),d.a.createElement("span",{className:i.checkRadioLabel},s)),d.a.createElement("button",{className:Pe()(i.checkRadio),type:"button",onClick:this.props.outdent,disabled:a,tabIndex:a?-1:0,"data-firstletter":l.toLowerCase().substr(0,1)},d.a.createElement("span",{className:i.icon},function(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Outdent")),d.a.createElement("path",{fill:"currentColor",d:"M10.5 11a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zm0 4a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zM5.438 19h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438c-.517 0-.937.448-.937 1s.42 1 .938 1zM5.438 7h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438C4.92 5 4.5 5.448 4.5 6s.42 1 .938 1zM4.5 12l3-3v6z"}))}()),d.a.createElement("span",{className:i.checkRadioLabel},l))))}}]),t}(d.a.Component),Ho=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=J(!1);return d.a.createElement(Po,{className:Pe()(t.paragraphMenuPanel,this.props.className),handleClick:function(t,o){e.props.items[o].formatFunction(),e.props.closeMenuAndSetCursor()},label:Object(Ce.m)("Special Formats"),items:this.props.items,disabled:this.props.disabled})}}]),t}(d.a.Component),Fo=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"state",{headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!1}),Object(_.a)(Object(y.a)(o),"itemCount",void 0),Object(_.a)(Object(y.a)(o),"openTabFunctions",void 0),Object(_.a)(Object(y.a)(o),"menuBarLetterIndex",[]),Object(_.a)(Object(y.a)(o),"hasMenuOpen",function(){return o.state.specialBlockMenuOpen||o.state.headingMenuOpen||o.state.listMenuOpen}),Object(_.a)(Object(y.a)(o),"toggleHeadingsMenu",function(){o.setState({headingMenuOpen:!o.state.headingMenuOpen,listMenuOpen:!1,specialBlockMenuOpen:!1})}),Object(_.a)(Object(y.a)(o),"openHeadingsMenu",function(e){o.setState({headingMenuOpen:!0,listMenuOpen:!1,specialBlockMenuOpen:!1},e)}),Object(_.a)(Object(y.a)(o),"toggleListsMenu",function(){o.setState({headingMenuOpen:!1,listMenuOpen:!o.state.listMenuOpen,specialBlockMenuOpen:!1})}),Object(_.a)(Object(y.a)(o),"openListsMenu",function(e){o.setState({headingMenuOpen:!1,listMenuOpen:!0,specialBlockMenuOpen:!1},e)}),Object(_.a)(Object(y.a)(o),"toggleSpecialBlockMenu",function(){o.setState({headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!o.state.specialBlockMenuOpen})}),Object(_.a)(Object(y.a)(o),"openSpecialBlockMenu",function(e){o.setState({headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!0},e)}),Object(_.a)(Object(y.a)(o),"closeMenuAndSetCursor",function(){o.closeAllSubMenus(),o.props.close()}),Object(_.a)(Object(y.a)(o),"closeAllSubMenus",function(){o.setState({headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!1})}),Object(_.a)(Object(y.a)(o),"selectFirstElementInOpenPanel",function(){if(o.props.panelsRef&&o.props.panelsRef.current){var e=new Lt.a(o.props.panelsRef.current).getInitial();e&&e.focus()}}),Object(_.a)(Object(y.a)(o),"selectLastElementInOpenPanel",function(){if(o.props.panelsRef&&o.props.panelsRef.current){var e=new Lt.a(o.props.panelsRef.current).getLast();e&&e.focus()}}),Object(_.a)(Object(y.a)(o),"selectCurrentTab",function(){if(o.props.menusRef&&o.props.menusRef.current){var e=new Lt.a(o.props.menusRef.current).getInitial();e&&e.focus()}}),Object(_.a)(Object(y.a)(o),"tabIndex",function(e){return o.props.rovingIndex===e?0:-1}),Object(_.a)(Object(y.a)(o),"moveRovingIndexForward",function(e){var t=(o.props.rovingIndex+1)%o.itemCount;o.props.setRovingIndex(t,e)}),Object(_.a)(Object(y.a)(o),"moveRovingIndexBackwards",function(e){var t=(o.props.rovingIndex-1+o.itemCount)%o.itemCount;o.props.setRovingIndex(t,e)}),Object(_.a)(Object(y.a)(o),"handleMenuBarKeyDown",function(e){switch("".concat(e.key).concat(e.shiftKey?"-Shift":"")){case"Escape":o.hasMenuOpen()&&(e.stopPropagation(),o.closeAllSubMenus(),o.selectCurrentTab());break;case"Home":o.hasMenuOpen()||(e.stopPropagation(),e.preventDefault(),o.closeAllSubMenus(),o.props.setRovingIndex(0));break;case"End":o.hasMenuOpen()||(e.stopPropagation(),e.preventDefault(),o.closeAllSubMenus(),o.props.setRovingIndex(o.itemCount-1));break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),o.hasMenuOpen()?o.moveRovingIndexForward(function(){o.openTabFunctions[o.props.rovingIndex]()}):o.moveRovingIndexForward();break;case"ArrowLeft":e.stopPropagation(),e.preventDefault(),o.hasMenuOpen()?o.moveRovingIndexBackwards(function(){o.openTabFunctions[o.props.rovingIndex]()}):o.moveRovingIndexBackwards();break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),o.openTabFunctions[o.props.rovingIndex](function(){o.selectLastElementInOpenPanel()});break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),o.openTabFunctions[o.props.rovingIndex](function(){o.selectFirstElementInOpenPanel()});break;default:o.menuBarLetterIndex.forEach(function(t,n){e.key.toLowerCase()!==t.toLowerCase()||o.props.setRovingIndex(n)})}}),Object(_.a)(Object(y.a)(o),"handleMenuKeyDown",function(e){switch("".concat(e.key).concat(e.shiftKey?"-Shift":"")){case"ArrowDown":if(o.hasMenuOpen()&&o.props.panelsRef.current){e.preventDefault(),e.stopPropagation();var t=new Lt.a(o.props.panelsRef.current);if(t){var n=t.getNext(document.activeElement,!1,!0);n&&n.focus()}}break;case"ArrowUp":if(o.hasMenuOpen()&&o.props.panelsRef.current){e.preventDefault(),e.stopPropagation();var i=new Lt.a(o.props.panelsRef.current);if(i){var r=i.getNext(document.activeElement,!0,!0);r&&r.focus()}}break;case"Home":o.hasMenuOpen()&&(e.preventDefault(),o.selectFirstElementInOpenPanel());break;case"End":o.hasMenuOpen()&&(e.preventDefault(),o.selectLastElementInOpenPanel());break;default:if(o.props.panelsRef.current){var a=new Lt.a(o.props.panelsRef.current).getAll(o.props.panelsRef.current);a&&a.length>0&&a.reverse().forEach(function(t){var o=t.dataset.firstletter||null;o&&o===e.key.toLowerCase()&&t.focus()})}}}),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.menuActiveFormats,n=t.formatter,i=J(this.props.legacyMode),r=Object(U.b)(),a=Object(L.e)({width:Object(W.B)(r.icon.sizes.default),height:Object(W.B)(r.icon.sizes.default)}),s=[{component:Bo,accessibleInstructions:Object(Ce.m)("Headings Menu"),label:Object(Ce.m)("Headings Menu"),toggleMenu:this.toggleHeadingsMenu,icon:this.props.topLevelIcons.headingMenuIcon,activeFormats:o.headings,open:this.state.headingMenuOpen,openMenu:this.openHeadingsMenu,items:[{formatFunction:n.h2,icon:Ge(a),text:Object(Ce.m)("Heading 2"),checked:o.headings.heading2},{formatFunction:n.h3,icon:Ve(a),text:Object(Ce.m)("Heading 3"),checked:o.headings.heading3},{formatFunction:n.h4,icon:Ke(a),text:Object(Ce.m)("Heading 4"),checked:o.headings.heading4},{formatFunction:n.h5,icon:Ye(a),text:Object(Ce.m)("Heading 5"),checked:o.headings.heading5}]},{component:qo,accessibleInstructions:Object(Ce.m)("Lists Menu"),label:Object(Ce.m)("Lists Menu"),toggleMenu:this.toggleListsMenu,icon:this.props.topLevelIcons.listMenuIcon,activeFormats:o.lists,open:this.state.listMenuOpen,openMenu:this.openListsMenu,items:[{formatFunction:n.bulletedList,icon:Je(a),text:Object(Ce.m)("Bulleted List"),checked:o.lists.unordered,disabled:!!o.lists.depth&&o.lists.depth>0&&o.lists.ordered},{formatFunction:n.orderedList,icon:et(a),text:Object(Ce.m)("Ordered List"),checked:o.lists.ordered,disabled:!!o.lists.depth&&o.lists.depth>0&&o.lists.unordered}],indent:n.indentList,outdent:n.outdentList,canIndent:o.lists.canIndent,canOutdent:o.lists.canOutdent},{component:Ho,accessibleInstructions:Object(Ce.m)("Toggle Special Formats Menu"),label:Object(Ce.m)("Special Formats"),toggleMenu:this.toggleSpecialBlockMenu,icon:this.props.topLevelIcons.specialBlockMenuIcon,activeFormats:o.specialFormats,open:this.state.specialBlockMenuOpen,openMenu:this.openSpecialBlockMenu,items:[{formatFunction:n.blockquote,icon:Ze(a),text:Object(Ce.m)("Quote"),checked:o.specialFormats.blockQuote},{formatFunction:n.codeBlock,icon:$e(a),text:Object(Ce.m)("Code Block"),checked:o.specialFormats.codeBlock},{formatFunction:n.spoiler,icon:Xe(a),text:Object(Ce.m)("Spoiler"),checked:o.specialFormats.spoiler}]}];this.itemCount=s.length+1;var l=[];this.openTabFunctions=[];var c=s.map(function(t,o){var n=t.component;e.openTabFunctions[o]=t.openMenu,e.menuBarLetterIndex[o]=t.label.substr(0,1),l[o]=d.a.createElement("div",{id:n.get,role:"menu",className:t.open?void 0:Object(L.e)(Object(W.y)()),"aria-hidden":!t.open,key:"menuBarPanel-".concat(o)},d.a.createElement(n,Object(m.a)({},t,{setRovingIndex:function(){e.props.setRovingIndex(o)},disabled:!t.open,closeMenu:e.props.close,closeMenuAndSetCursor:e.closeMenuAndSetCursor})));return d.a.createElement(Ro,{accessibleButtonLabel:"Toggle Heading Menu",className:t.className,index:o,parentID:e.props.parentID,isMenuVisible:e.props.isMenuVisible,toggleMenu:t.toggleMenu,icon:t.icon,tabComponent:t.component,key:"".concat(t.label,"-").concat(o),activeFormats:t.activeFormats,setRovingIndex:function(){e.props.setRovingIndex(o)},legacyMode:e.props.legacyMode,tabIndex:e.tabIndex(o),open:t.open,selectFirstElement:e.selectLastElementInOpenPanel})}),u=s.length;this.openTabFunctions[l.length]=this.closeAllSubMenus;var h=Object(Ce.m)("Paragraph (Removes paragraph style and sets to plain paragraph)");return this.menuBarLetterIndex[l.length]=h.substr(0,1),d.a.createElement("div",{onKeyDown:this.handleMenuBarKeyDown},d.a.createElement("div",{role:"menubar","aria-label":this.props.label,className:Pe()(i.menuBar,this.props.className),ref:this.props.menusRef},d.a.createElement("div",{className:i.menuBarToggles},c,d.a.createElement(No,{title:h,formatParagraphHandler:n.paragraph,setRovingIndex:function(){e.props.setRovingIndex(0)},tabIndex:this.tabIndex(u),closeMenuAndSetCursor:this.closeMenuAndSetCursor,isMenuVisible:this.props.isMenuVisible}))),d.a.createElement("div",{ref:this.props.panelsRef,onKeyDownCapture:this.handleMenuKeyDown},l))}}]),t}(d.a.Component),Uo=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.activeFormats,t=We();return e.headings.heading2?t=Ge():e.headings.heading3?t=Ve():e.headings.heading4?t=Ke():e.headings.heading5?t=Ye():e.lists.ordered?t=et():e.lists.unordered?t=Je():e.specialFormats.blockQuote?t=Ze():e.specialFormats.codeBlock?t=$e():e.specialFormats.spoiler&&(t=Xe()),t}}]),t}(d.a.Component);
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */!function(e){e.CHECK="checkbox",e.RADIO="radiobutton",e.SEPARATOR="separator"}(Io||(Io={}));var Wo=function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"quill",void 0),Object(_.a)(Object(y.a)(o),"ID",void 0),Object(_.a)(Object(y.a)(o),"componentID",void 0),Object(_.a)(Object(y.a)(o),"menuID",void 0),Object(_.a)(Object(y.a)(o),"buttonID",void 0),Object(_.a)(Object(y.a)(o),"selfRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"buttonRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"menusRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"panelsRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"focusWatcher",void 0),Object(_.a)(Object(y.a)(o),"topLevelIcons",function(e){var t=Ge();e.headings.heading3?t=Ve():e.headings.heading4?t=Ke():e.headings.heading5&&(t=Ye());var o=Ze();e.specialFormats.codeBlock?o=$e():e.specialFormats.spoiler&&(o=Xe());var n=Je();return e.lists.ordered&&(n=et()),{headingMenuIcon:t,listMenuIcon:n,specialBlockMenuIcon:o}}),Object(_.a)(Object(y.a)(o),"setRovingIndex",function(e,t){o.setState({rovingTabIndex:e},function(){t&&t()})}),Object(_.a)(Object(y.a)(o),"pilcrowClickHandler",function(e){e.preventDefault(),o.setState({hasFocus:!o.state.hasFocus},function(){if(o.state.hasFocus&&o.menusRef.current){var e=o.menusRef.current,t=new Lt.a(e).getInitial();t&&t.focus()}})}),Object(_.a)(Object(y.a)(o),"close",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.setState({hasFocus:!1});var t=o.props.lastGoodSelection;if(e)o.buttonRef&&o.buttonRef.current&&o.buttonRef.current.focus();else{var n={index:t.index+t.length,length:0};o.quill.setSelection(n)}}),Object(_.a)(Object(y.a)(o),"handleEscape",function(e){"Escape"===e.key&&o.state.hasFocus&&(e.preventDefault(),o.close())}),Object(_.a)(Object(y.a)(o),"handleMenuBarKeyDown",function(e){switch(e.key){case"Escape":e.preventDefault(),o.state.hasFocus&&(e.preventDefault(),o.close())}}),o.quill=e.quill,o.ID=go()("paragraphMenu")+"-formattingMenus",o.componentID=o.ID+"-component",o.menuID=o.ID+"-menu",o.buttonID=o.ID+"-button",o.state={hasFocus:!1,rovingTabIndex:0},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.focusWatcher=new Zt(this.selfRef.current,function(t){t||e.setState({hasFocus:!1})}),this.focusWatcher.start()}},{key:"componentWillUnmount",value:function(){this.focusWatcher.stop()}},{key:"render",value:function(){var e,t=J(this.props.legacyMode),o=J(this.props.legacyMode),n=Pe()({isOpen:this.isMenuVisible},t.paragraphMenuHandle,this.props.mobile?t.paragraphMenuHandleMobile:"");this.props.mobile||(!this.isPilcrowVisible&&!this.isMenuVisible||Object(A.k)(this.quill,this.props.lastGoodSelection))&&(n+=" isHidden");var i=new wt(this.quill,this.props.lastGoodSelection),r=function(e,t){var o=!0;[re.blotName,rt.blotName,ut.a.blotName,ot.blotName,Ct.blotName].forEach(function(e){e in t&&(o=!1)});var n="object"===Object(ee.a)(t.header)?t.header.level:null,i=t[Ct.blotName],r=function(e){return i&&"object"===Object(ee.a)(i)&&i.type===e},a=e.getListItems()[0];return{paragraph:o,headings:{heading2:2===t.header||2===n,heading3:3===t.header||3===n,heading4:4===t.header||4===n,heading5:5===t.header||5===n},specialFormats:{blockQuote:!0===t[rt.blotName],codeBlock:!0===t[ut.a.blotName],spoiler:!0===t[ot.blotName]},lists:{ordered:r(ct.ORDERED),unordered:r(ct.BULLETED),depth:a?a.getValue().depth:null,canIndent:!!a&&a.canIndent(),canOutdent:!!a&&a.canOutdent()}}}(i,this.props.activeFormats),a=this.topLevelIcons(r);return d.a.createElement("div",{id:this.componentID,style:this.pilcrowStyles,className:Pe()({isMenuInset:!this.props.legacyMode},this.props.mobile?o.paragraphMenuMobile:o.paragraphMenu),onKeyDown:this.handleMenuBarKeyDown,ref:this.selfRef},d.a.createElement("button",{type:"button",id:this.buttonID,ref:this.buttonRef,"aria-label":Object(Ce.m)("Toggle Paragraph Format Menu"),"aria-controls":this.menuID,"aria-expanded":this.isMenuVisible,disabled:this.props.disabled,className:Pe()(n,(e={},Object(_.a)(e,o.button,this.props.mobile),Object(_.a)(e,o.menuItem,this.props.mobile),e)),"aria-haspopup":"menu",onClick:this.pilcrowClickHandler,onKeyDown:this.handleEscape},d.a.createElement(ao,{icon:d.a.createElement(Uo,{activeFormats:r})})),d.a.createElement("div",{id:this.menuID,className:Pe()(this.dropDownClasses,o.menuBar,this.isMenuVisible?"":Object(L.e)(Object(W.y)())),style:this.toolbarStyles,role:"menu"},d.a.createElement(Fo,{menusRef:this.menusRef,panelsRef:this.panelsRef,parentID:this.ID,label:"Paragraph Format Menu",isMenuVisible:this.isMenuVisible,lastGoodSelection:this.props.lastGoodSelection,legacyMode:this.props.legacyMode,close:this.close,formatter:i,menuActiveFormats:r,rovingIndex:this.state.rovingTabIndex,setRovingIndex:this.setRovingIndex,topLevelIcons:a})))}},{key:"isPilcrowVisible",get:function(){return this.props.currentSelection}},{key:"isMenuVisible",get:function(){return!!this.props.lastGoodSelection&&this.state.hasFocus}},{key:"pilcrowStyles",get:function(){if(!this.props.lastGoodSelection)return{};var e=this.quill.getBounds(this.props.lastGoodSelection.index,this.props.lastGoodSelection.length);return{top:(e.top+e.bottom)/2-this.verticalOffset}}},{key:"verticalOffset",get:function(){return(parseInt(window.getComputedStyle(this.quill.root).paddingTop,10)||t.DEFAULT_OFFSET)+(this.props.legacyMode?t.LEGACY_EXTRA_OFFSET:0)}},{key:"dropDownClasses",get:function(){if(!this.props.lastGoodSelection)return"";var e=this.quill.getBounds(this.props.lastGoodSelection.index,this.props.lastGoodSelection.length),t=this.quill.scroll.domNode.getBoundingClientRect(),o=J(this.props.legacyMode),n=Xt();return Pe()(o.position,o.menuBar,n.likeDropDownContent,this.props.renderAbove||t.height-e.bottom<=170?"isUp":"isDown")}},{key:"toolbarStyles",get:function(){return this.isMenuVisible&&!Object(A.k)(this.quill,this.props.lastGoodSelection)?{}:{visibility:"hidden",position:"absolute",zIndex:-1}}}]),t}(d.a.PureComponent);Object(_.a)(Wo,"DEFAULT_OFFSET",2),Object(_.a)(Wo,"LEGACY_EXTRA_OFFSET",2);var Go=Yt(Wo);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function Vo(){var e=f(),t=e.isLoading,o=e.quill,n=T(),i=n===k.MOBILE||n===k.XS;return!o||t||i?null:d.a.createElement(Go,null)}var Ko=o(105),Yo=o(57),Zo=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return this.hasPermission()?this.props.children:this.props.fallback||null}},{key:"componentDidMount",value:function(){this.props.currentUser.status===yo.a.PENDING&&this.props.requestData()}},{key:"componentDidCatch",value:function(e,t){Object($.g)(e,t)}},{key:"hasPermission",value:function(){var e=this.props,t=e.currentUser,o=e.permission;return Array.isArray(o)||(o=[o]),t.status===yo.a.SUCCESS&&!!t.data&&(t.data.isAdmin||this.arrayContainsOneOf(o,t.data.permissions))}},{key:"arrayContainsOneOf",value:function(e,t){return e.some(function(e){return t.indexOf(e)>=0})}}]),t}(d.a.Component);var $o=Object(jo.b)(Ko.a,function(e){return{requestData:new Yo.a(e,Tt.a).getMe}})(Zo),Xo=Yt(function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"inputRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"isMimeTypeImage",function(e){return e.startsWith("image/")}),Object(_.a)(Object(y.a)(o),"onFakeButtonClick",function(e){o.inputRef&&o.inputRef.current&&o.inputRef.current.click()}),Object(_.a)(Object(y.a)(o),"onInputChange",function(){var e=o.inputRef&&o.inputRef.current&&o.inputRef.current.files&&o.inputRef.current.files[0],t=o.props.quill&&o.props.quill.getModule("embed/insertion");e&&t&&("image"===o.props.type&&Object($.e)(e)?t.createImageEmbed(e):t.createFileEmbed(e))}),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=J(this.props.legacyMode);return d.a.createElement("button",{className:Pe()("richEditor-button","richEditor-embedButton","richEditor-buttonUpload",e.button),type:"button","aria-pressed":"false",disabled:this.props.disabled,onClick:this.onFakeButtonClick},d.a.createElement(ao,{icon:this.icon}),d.a.createElement("input",{ref:this.inputRef,onChange:this.onInputChange,className:Pe()("richEditor-upload",e.upload),type:"file",accept:this.inputAccepts}))}},{key:"icon",get:function(){switch(this.props.type){case"file":return t=J(!1),d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Attachment")),d.a.createElement("path",{fill:"currentColor",d:"M17.25,9.045a.75.75,0,0,1,1.5,0v6.91A6.63,6.63,0,0,1,12,22.75a6.63,6.63,0,0,1-6.75-6.795V7.318A4.811,4.811,0,0,1,10.286,2.25a4.81,4.81,0,0,1,5.035,5.068v7.773c0,2.308-1.254,4.2-3.321,4.2s-3.321-1.9-3.321-4.2V9.045a.75.75,0,0,1,1.5,0v6.046c0,1.578.745,2.7,1.821,2.7s1.821-1.126,1.821-2.7V7.318A3.319,3.319,0,0,0,10.286,3.75,3.319,3.319,0,0,0,6.75,7.318v8.637A5.132,5.132,0,0,0,12,21.25a5.132,5.132,0,0,0,5.25-5.295Z",style:Be}));case"image":return function(e){var t=J(!1);return d.a.createElement("svg",{className:Pe()("richEditorButton-icon",t.icon,e),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)("Image")),d.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M5,17V15l2.294-3.212a.3.3,0,0,1,.418-.07h0c.013.01.025.021.037.032L10,14l4.763-5.747a.3.3,0,0,1,.422-.041h0l.02.018L19,12v5ZM4.5,5.5a1,1,0,0,0-1,1v11a1,1,0,0,0,1,1h15a1,1,0,0,0,1-1V6.5a1,1,0,0,0-1-1ZM4.5,4h15A2.5,2.5,0,0,1,22,6.5v11A2.5,2.5,0,0,1,19.5,20H4.5A2.5,2.5,0,0,1,2,17.5V6.5A2.5,2.5,0,0,1,4.5,4Zm3,6.2A1.7,1.7,0,1,1,9.2,8.5h0A1.7,1.7,0,0,1,7.5,10.2Z"}))}()}var e,t}},{key:"inputAccepts",get:function(){var e=this;switch(this.props.type){case"file":return this.props.allowedMimeTypes.filter(function(t){return!e.isMimeTypeImage(t)}).join(", ");case"image":return this.props.allowedMimeTypes.filter(this.isMimeTypeImage).join(",")}}}]),t}(d.a.Component));var Qo=function e(t,o,n){var i=this;Object(g.a)(this,e),this.root=t,this.returnElement=o,this.callback=n,Object(_.a)(this,"start",function(){i.root.addEventListener("keydown",i.keydownListener)}),Object(_.a)(this,"stop",function(){i.root.removeEventListener("keydown",i.keydownListener)}),Object(_.a)(this,"keydownListener",function(e){"Escape"===e.key&&i.root.contains(document.activeElement)&&(e.preventDefault(),i.returnElement&&i.returnElement.focus(),i.callback&&i.callback(e))})},Jo=o(94),en=o(721),tn=o(658);
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function on(e){var t=e.initialFocusElement,o="name"in e?e.name:e.selectedItemLabel,n=Object(h.useMemo)(function(){return Object(M.c)("flyout")},[]),i=n+"-handle",r=n+"-contents",a=Object(h.useRef)(null),s=e.buttonRef||a,l=Object(h.useRef)(null),c=Object(h.useState)(!1),p=Object(u.a)(c,2),f=p[0],m=p[1];Object(h.useEffect)(function(){f&&t&&t&&t.focus(),e.onVisibilityChange&&e.onVisibilityChange(f)},[f,t,e.onVisibilityChange]);var g,b,v,j,y,O,_,C=Object(h.useCallback)(function(t){t.stopPropagation(),m(!f),e.onVisibilityChange&&e.onVisibilityChange(f)},[f,m,e.onVisibilityChange]),w=Object(h.useCallback)(function(t){t.stopPropagation(),t.preventDefault(),e.onClose&&e.onClose();var o=document.activeElement,n=l.current;m(!1),n&&n.contains(o)&&s.current&&(s.current.focus(),s.current.classList.add("focus-visible")),e.onVisibilityChange&&e.onVisibilityChange(!1)},[e.onClose,l.current,s.current,e.onVisibilityChange]),S=Object(h.useCallback)(function(e){e.stopPropagation()},[]);g=l.current,b=function(t){t||(m(!1),e.onVisibilityChange&&e.onVisibilityChange(!1))},v=e.openAsModal,Object(h.useEffect)(function(){if(!v&&null!==g){var e=new Zt(g,b);return e.start(),e.stop}},[g,b,v]),j={root:l.current,returnElement:s.current,callback:w},y=j.root,O=j.returnElement,_=j.callback,Object(h.useEffect)(function(){if(null!==y&&null!==O){var e=y||document.documentElement,t=new Qo(e,O,_);return t.start(),t.stop}},[y,O,_]);var x=Xt(),E=Pe()(e.buttonClassName,e.toggleButtonClassName,{isOpen:f});Object(L.b)();var k={id:r,isVisible:f,closeMenuHandler:w,renderAbove:e.renderAbove,renderLeft:e.renderLeft,openAsModal:e.openAsModal},I=e.openAsModal?null:Pe()("flyouts",x.root);return d.a.createElement("div",{id:n,className:Pe()(I,e.className,{asModal:e.openAsModal}),ref:l,onClick:S},d.a.createElement(Jo.a,{id:i,onClick:C,className:E,type:"button",title:o,"aria-label":"name"in e?e.name:void 0,"aria-controls":r,"aria-expanded":f,"aria-haspopup":"true",disabled:e.disabled,baseClass:e.buttonBaseClass,buttonRef:s},e.buttonContents),!e.disabled&&f&&d.a.createElement(d.a.Fragment,null,e.openAsModal?d.a.createElement(en.a,{label:Object(Ce.m)("title"),size:tn.a.SMALL,exitHandler:w,elementToFocusOnExit:s.current},e.children(k)):e.children(k)))}var nn=o(577),rn=o.n(nn),an=o(573),sn=o.n(an),ln=o(574),cn=o.n(ln),un=o(578),hn=o.n(un),dn=o(579),pn=o.n(dn);function fn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function mn(e){this.setState(function(t){var o=this.constructor.getDerivedStateFromProps(e,t);return null!=o?o:null}.bind(this))}function gn(e,t){try{var o=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(o,n)}finally{this.props=o,this.state=n}}function bn(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var o=null,n=null,i=null;if("function"==typeof t.componentWillMount?o="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(o="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==o||null!==n||null!==i){var r=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+r+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==o?"\n  "+o:"")+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=fn,t.componentWillReceiveProps=mn),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=gn;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,o){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:o;s.call(this,e,t,n)}}return e}fn.__suppressDeprecationWarning=!0,mn.__suppressDeprecationWarning=!0,gn.__suppressDeprecationWarning=!0;var vn=o(673),jn=o.n(vn),yn=o(586),On=o.n(yn),_n=o(605),Cn=o.n(_n);function wn(e){var t=e.cellCount,o=e.cellSize,n=e.computeMetadataCallback,i=e.computeMetadataCallbackProps,r=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,l=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===r&&("number"!=typeof o&&"number"!=typeof a||o===a)||(n(i),l>=0&&l===s&&c())}var Sn=o(646),xn=o.n(Sn),En=(o(33),function(){function e(t){var o=t.cellCount,n=t.cellSizeGetter,i=t.estimatedCellSize;sn()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=n,this._cellCount=o,this._estimatedCellSize=i}return cn()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,o=e.estimatedCellSize,n=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=o,this._cellSizeGetter=n}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),o=t.offset+t.size,n=this._lastMeasuredIndex+1;n<=e;n++){var i=this._cellSizeGetter({index:n});if(void 0===i||isNaN(i))throw Error("Invalid size returned for cell "+n+" of value "+i);null===i?(this._cellSizeAndPositionData[n]={offset:o,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[n]={offset:o,size:i},o+=i,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,o=void 0===t?"auto":t,n=e.containerSize,i=e.currentOffset,r=e.targetIndex;if(n<=0)return 0;var a=this.getSizeAndPositionOfCell(r),s=a.offset,l=s-n+a.size,c=void 0;switch(o){case"start":c=s;break;case"end":c=l;break;case"center":c=s-(n-a.size)/2;break;default:c=Math.max(l,Math.min(s,i))}var u=this.getTotalSize();return Math.max(0,Math.min(u-n,c))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,o=e.offset;if(0===this.getTotalSize())return{};var n=o+t,i=this._findNearestCell(o),r=this.getSizeAndPositionOfCell(i);o=r.offset+r.size;for(var a=i;o<n&&a<this._cellCount-1;)a++,o+=this.getSizeAndPositionOfCell(a).size;return{start:i,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,o){for(;t<=e;){var n=t+Math.floor((e-t)/2),i=this.getSizeAndPositionOfCell(n).offset;if(i===o)return n;i<o?t=n+1:i>o&&(e=n-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var o=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=o,o*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),o=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(o,0,e):this._exponentialSearch(o,e)}}]),e}()),kn=function(){return"undefined"!=typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5},Ln=function(){function e(t){var o=t.maxScrollSize,n=void 0===o?kn():o,i=xn()(t,["maxScrollSize"]);sn()(this,e),this._cellSizeAndPositionManager=new En(i),this._maxScrollSize=n}return cn()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,o=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),r=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:i});return Math.round(r*(i-n))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,o=void 0===t?"auto":t,n=e.containerSize,i=e.currentOffset,r=e.targetIndex;i=this._safeOffsetToOffset({containerSize:n,offset:i});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n,currentOffset:i,targetIndex:r});return this._offsetToSafeOffset({containerSize:n,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,o=e.offset;return o=this._safeOffsetToOffset({containerSize:t,offset:o}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:o})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,o=e.offset,n=e.totalSize;return n<=t?0:o/(n-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,o=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(n===i)return o;var r=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:n});return Math.round(r*(i-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,o=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(n===i)return o;var r=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:i});return Math.round(r*(n-t))}}]),e}(),In=o(647),Tn=o.n(In);function Rn(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(o){var n=o.callback,i=o.indices,r=Tn()(i),a=!e||r.every(function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0}),s=r.length!==Tn()(t).length||r.some(function(e){var o=t[e],n=i[e];return Array.isArray(n)?o.join(",")!==n.join(","):o!==n});t=i,a&&s&&n(i)}}var Nn=1;function Mn(e){var t=e.cellSize,o=e.cellSizeAndPositionManager,n=e.previousCellsCount,i=e.previousCellSize,r=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,l=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,h=e.size,d=e.sizeJustIncreasedFromZero,p=e.updateScrollIndexCallback,f=o.getCellCount(),m=u>=0&&u<f;m&&(h!==s||d||!i||"number"==typeof t&&t!==i||c!==r||u!==a)?p(u):!m&&f>0&&(h<s||f<n)&&l>o.getTotalSize()-h&&p(f-1)}var An=o(674),zn=o.n(An),Pn=o(763),Bn=o.n(Pn),Dn=void 0,qn=(Dn="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Dn.webkitRequestAnimationFrame||Dn.mozRequestAnimationFrame||Dn.oRequestAnimationFrame||Dn.msRequestAnimationFrame||function(e){return Dn.setTimeout(e,1e3/60)},Hn=Dn.cancelAnimationFrame||Dn.webkitCancelAnimationFrame||Dn.mozCancelAnimationFrame||Dn.oCancelAnimationFrame||Dn.msCancelAnimationFrame||function(e){Dn.clearTimeout(e)},Fn=qn,Un=Hn,Wn=function(e){return Un(e.id)},Gn=function(e,t){var o=void 0;Bn.a.resolve().then(function(){o=Date.now()});var n={id:Fn(function i(){Date.now()-o>=t?e.call():n.id=Fn(i)})};return n},Vn="observed",Kn="requested",Yn=function(e){function t(e){sn()(this,t);var o=hn()(this,(t.__proto__||rn()(t)).call(this,e));o._onGridRenderedMemoizer=Rn(),o._onScrollMemoizer=Rn(!1),o._deferredInvalidateColumnIndex=null,o._deferredInvalidateRowIndex=null,o._recomputeScrollLeftFlag=!1,o._recomputeScrollTopFlag=!1,o._horizontalScrollBarSize=0,o._verticalScrollBarSize=0,o._scrollbarPresenceChanged=!1,o._renderedColumnStartIndex=0,o._renderedColumnStopIndex=0,o._renderedRowStartIndex=0,o._renderedRowStopIndex=0,o._styleCache={},o._cellCache={},o._debounceScrollEndedCallback=function(){o._disablePointerEventsTimeoutId=null,o.setState({isScrolling:!1,needToResetStyleCache:!1})},o._invokeOnGridRenderedHelper=function(){var e=o.props.onSectionRendered;o._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:o._columnStartIndex,columnOverscanStopIndex:o._columnStopIndex,columnStartIndex:o._renderedColumnStartIndex,columnStopIndex:o._renderedColumnStopIndex,rowOverscanStartIndex:o._rowStartIndex,rowOverscanStopIndex:o._rowStopIndex,rowStartIndex:o._renderedRowStartIndex,rowStopIndex:o._renderedRowStopIndex}})},o._setScrollingContainerRef=function(e){o._scrollingContainer=e},o._onScroll=function(e){e.target===o._scrollingContainer&&o.handleScrollEvent(e.target)};var n=new Ln({cellCount:e.columnCount,cellSizeGetter:function(o){return t._wrapSizeGetter(e.columnWidth)(o)},estimatedCellSize:t._getEstimatedColumnSize(e)}),i=new Ln({cellCount:e.rowCount,cellSizeGetter:function(o){return t._wrapSizeGetter(e.rowHeight)(o)},estimatedCellSize:t._getEstimatedRowSize(e)});return o.state={instanceProps:{columnSizeAndPositionManager:n,rowSizeAndPositionManager:i,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Nn,scrollDirectionVertical:Nn,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(o._initialScrollTop=o._getCalculatedScrollTop(e,o.state)),e.scrollToColumn>0&&(o._initialScrollLeft=o._getCalculatedScrollLeft(e,o.state)),o}return pn()(t,e),cn()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,o=void 0===t?this.props.scrollToAlignment:t,n=e.columnIndex,i=void 0===n?this.props.scrollToColumn:n,r=e.rowIndex,a=void 0===r?this.props.scrollToRow:r,s=On()({},this.props,{scrollToAlignment:o,scrollToColumn:i,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,o=void 0===t?0:t,n=e.scrollTop,i=void 0===n?0:n;if(!(i<0)){this._debounceScrollEnded();var r=this.props,a=r.autoHeight,s=r.autoWidth,l=r.height,c=r.width,u=this.state.instanceProps,h=u.scrollbarSize,d=u.rowSizeAndPositionManager.getTotalSize(),p=u.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,p-c+h),o),m=Math.min(Math.max(0,d-l+h),i);if(this.state.scrollLeft!==f||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:f!==this.state.scrollLeft?f>this.state.scrollLeft?Nn:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?Nn:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:Vn};a||(g.scrollTop=m),s||(g.scrollLeft=f),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:p,totalRowsHeight:d})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,o=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,o=e.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n,r=this.props,a=r.scrollToColumn,s=r.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(o),l.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===Nn?o<=a:o>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===Nn?i<=s:i>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,o=e.rowIndex,n=this.props.columnCount,i=this.props;n>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(On()({},i,{scrollToColumn:t})),void 0!==o&&this._updateScrollTopForScrollToRow(On()({},i,{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var e=this.props,o=e.getScrollbarSize,n=e.height,i=e.scrollLeft,r=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,l=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState(function(e){var t=On()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=o(),t.instanceProps.scrollbarSizeMeasured=!0,t}),"number"==typeof i&&i>=0||"number"==typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var h=n>0&&l>0;r>=0&&h&&this._updateScrollLeftForScrollToColumn(),s>=0&&h&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var o=this,n=this.props,i=n.autoHeight,r=n.autoWidth,a=n.columnCount,s=n.height,l=n.rowCount,c=n.scrollToAlignment,u=n.scrollToColumn,h=n.scrollToRow,d=n.width,p=this.state,f=p.scrollLeft,m=p.scrollPositionChangeReason,g=p.scrollTop,b=p.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===Kn&&(!r&&f>=0&&(f!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=f),!i&&g>=0&&(g!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=g));var j=(0===e.width||0===e.height)&&s>0&&d>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Mn({cellSizeAndPositionManager:b.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:c,scrollToIndex:u,size:d,sizeJustIncreasedFromZero:j,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Mn({cellSizeAndPositionManager:b.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:c,scrollToIndex:h,size:s,sizeJustIncreasedFromZero:j,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||g!==t.scrollTop){var y=b.rowSizeAndPositionManager.getTotalSize(),O=b.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:g,totalColumnsWidth:O,totalRowsHeight:y})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Wn(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,o=e.autoHeight,n=e.autoWidth,i=e.className,r=e.containerProps,a=e.containerRole,s=e.containerStyle,l=e.height,c=e.id,u=e.noContentRenderer,d=e.role,p=e.style,f=e.tabIndex,m=e.width,g=this.state,b=g.instanceProps,v=g.needToResetStyleCache,j=this._isScrolling(),y={boxSizing:"border-box",direction:"ltr",height:o?"auto":l,position:"relative",width:n?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};v&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var O=b.columnSizeAndPositionManager.getTotalSize(),_=b.rowSizeAndPositionManager.getTotalSize(),C=_>l?b.scrollbarSize:0,w=O>m?b.scrollbarSize:0;w===this._horizontalScrollBarSize&&C===this._verticalScrollBarSize||(this._horizontalScrollBarSize=w,this._verticalScrollBarSize=C,this._scrollbarPresenceChanged=!0),y.overflowX=O+C<=m?"hidden":"auto",y.overflowY=_+w<=l?"hidden":"auto";var S=this._childrenToDisplay,x=0===S.length&&l>0&&m>0;return h.createElement("div",On()({ref:this._setScrollingContainerRef},r,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Cn()("ReactVirtualized__Grid",i),id:c,onScroll:this._onScroll,role:d,style:On()({},y,p),tabIndex:f}),S.length>0&&h.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:On()({width:t?"auto":O,height:_,maxWidth:O,maxHeight:_,overflow:"hidden",pointerEvents:j?"none":"",position:"relative"},s)},S),x&&u())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=e.cellRenderer,n=e.cellRangeRenderer,i=e.columnCount,r=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,l=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,h=e.width,d=e.isScrollingOptOut,p=t.scrollDirectionHorizontal,f=t.scrollDirectionVertical,m=t.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,b=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,v=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&h>0){var j=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:h,offset:b}),y=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),O=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:h,offset:b}),_=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=j.start,this._renderedColumnStopIndex=j.stop,this._renderedRowStartIndex=y.start,this._renderedRowStopIndex=y.stop;var C=l({direction:"horizontal",cellCount:i,overscanCellsCount:s,scrollDirection:p,startIndex:"number"==typeof j.start?j.start:0,stopIndex:"number"==typeof j.stop?j.stop:-1}),w=l({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:f,startIndex:"number"==typeof y.start?y.start:0,stopIndex:"number"==typeof y.stop?y.stop:-1}),S=C.overscanStartIndex,x=C.overscanStopIndex,E=w.overscanStartIndex,k=w.overscanStopIndex;if(r){if(!r.hasFixedHeight())for(var L=E;L<=k;L++)if(!r.has(L,0)){S=0,x=i-1;break}if(!r.hasFixedWidth())for(var I=S;I<=x;I++)if(!r.has(0,I)){E=0,k=u-1;break}}this._childrenToDisplay=n({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:S,columnStopIndex:x,deferredMeasurementCache:r,horizontalOffsetAdjustment:O,isScrolling:v,isScrollingOptOut:d,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:E,rowStopIndex:k,scrollLeft:b,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:_,visibleColumnIndices:j,visibleRowIndices:y}),this._columnStartIndex=S,this._columnStopIndex=x,this._rowStartIndex=E,this._rowStopIndex=k}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Wn(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Gn(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,o=e.scrollLeft,n=e.scrollTop,i=e.totalColumnsWidth,r=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var o=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:r,scrollLeft:o,scrollTop:n,scrollWidth:i})},indices:{scrollLeft:o,scrollTop:n}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var o=e.scrollLeft,n=e.scrollTop,i=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:n});i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,o)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollLeftForScrollToColumnStateUpdate(e,o);n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,o)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var n=this._rowStartIndex;n<=this._rowStopIndex;n++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var r=n+"-"+i;this._styleCache[r]=e[r],o&&(this._cellCache[r]=t[r])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollTopForScrollToRowStateUpdate(e,o);n&&(n.needToResetStyleCache=!1,this.setState(n))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var n={};0===e.columnCount&&0!==o.scrollLeft||0===e.rowCount&&0!==o.scrollTop?(n.scrollLeft=0,n.scrollTop=0):(e.scrollLeft!==o.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==o.scrollTop&&e.scrollToRow<0)&&jn()(n,t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i=o.instanceProps;n.needToResetStyleCache=!1,e.columnWidth===i.prevColumnWidth&&e.rowHeight===i.prevRowHeight||(n.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==i.prevColumnCount&&0!==i.prevRowCount||(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===i.prevIsScrolling&&jn()(n,{isScrolling:!1});var r=void 0,a=void 0;return wn({cellCount:i.prevColumnCount,cellSize:"number"==typeof i.prevColumnWidth?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){r=t._getScrollLeftForScrollToColumnStateUpdate(e,o)}}),wn({cellCount:i.prevRowCount,cellSize:"number"==typeof i.prevRowHeight?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollTopForScrollToRowStateUpdate(e,o)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=!0===e.isScrolling,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),void 0===i.scrollbarSize?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,n.instanceProps=i,On()({},n,r,a)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,o=e.scrollLeft,n=e.scrollTop,i={scrollPositionChangeReason:Kn};return"number"==typeof o&&o>=0&&(i.scrollDirectionHorizontal=o>t.scrollLeft?Nn:-1,i.scrollLeft=o),"number"==typeof n&&n>=0&&(i.scrollDirectionVertical=n>t.scrollTop?Nn:-1,i.scrollTop=n),"number"==typeof o&&o>=0&&o!==t.scrollLeft||"number"==typeof n&&n>=0&&n!==t.scrollTop?i:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var o=e.columnCount,n=e.height,i=e.scrollToAlignment,r=e.scrollToColumn,a=e.width,s=t.scrollLeft,l=t.instanceProps;if(o>0){var c=o-1,u=r<0?c:Math.min(c,r),h=l.rowSizeAndPositionManager.getTotalSize(),d=l.scrollbarSizeMeasured&&h>n?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:a-d,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,o){var n=o.scrollLeft,i=t._getCalculatedScrollLeft(e,o);return"number"==typeof i&&i>=0&&n!==i?t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:i,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var o=e.height,n=e.rowCount,i=e.scrollToAlignment,r=e.scrollToRow,a=e.width,s=t.scrollTop,l=t.instanceProps;if(n>0){var c=n-1,u=r<0?c:Math.min(c,r),h=l.columnSizeAndPositionManager.getTotalSize(),d=l.scrollbarSizeMeasured&&h>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:o-d,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,o){var n=o.scrollTop,i=t._getCalculatedScrollTop(e,o);return"number"==typeof i&&i>=0&&n!==i?t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:-1,scrollTop:i}):null}}]),t}(h.PureComponent);Yn.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,o=e.cellRenderer,n=e.columnSizeAndPositionManager,i=e.columnStartIndex,r=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,l=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,h=e.rowSizeAndPositionManager,d=e.rowStartIndex,p=e.rowStopIndex,f=e.styleCache,m=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,b=e.visibleRowIndices,v=[],j=n.areOffsetsAdjusted()||h.areOffsetsAdjusted(),y=!l&&!j,O=d;O<=p;O++)for(var _=h.getSizeAndPositionOfCell(O),C=i;C<=r;C++){var w=n.getSizeAndPositionOfCell(C),S=C>=g.start&&C<=g.stop&&O>=b.start&&O<=b.stop,x=O+"-"+C,E=void 0;y&&f[x]?E=f[x]:a&&!a.has(O,C)?E={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(E={height:_.size,left:w.offset+s,position:"absolute",top:_.offset+m,width:w.size},f[x]=E);var k={columnIndex:C,isScrolling:l,isVisible:S,key:x,parent:u,rowIndex:O,style:E},L=void 0;!c&&!l||s||m?L=o(k):(t[x]||(t[x]=o(k)),L=t[x]),null!=L&&!1!==L&&v.push(L)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:zn.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,o=e.overscanCellsCount,n=e.scrollDirection,i=e.startIndex,r=e.stopIndex;return n===Nn?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(t-1,r+o)}:{overscanStartIndex:Math.max(0,i-o),overscanStopIndex:Math.min(t-1,r)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},Yn.propTypes=null,bn(Yn);var Zn=Yn,$n=1;function Xn(e){var t=e.cellCount,o=e.overscanCellsCount,n=e.scrollDirection,i=e.startIndex,r=e.stopIndex;return o=Math.max(1,o),n===$n?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(t-1,r+o)}:{overscanStartIndex:Math.max(0,i-o),overscanStopIndex:Math.min(t-1,r+1)}}var Qn=function(e){function t(){var e,o,n,i;sn()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return o=n=hn()(this,(e=t.__proto__||rn()(t)).call.apply(e,[this].concat(a))),n.state={scrollToColumn:0,scrollToRow:0},n._columnStartIndex=0,n._columnStopIndex=0,n._rowStartIndex=0,n._rowStopIndex=0,n._onKeyDown=function(e){var t=n.props,o=t.columnCount,i=t.disabled,r=t.mode,a=t.rowCount;if(!i){var s=n._getScrollState(),l=s.scrollToColumn,c=s.scrollToRow,u=n._getScrollState(),h=u.scrollToColumn,d=u.scrollToRow;switch(e.key){case"ArrowDown":d="cells"===r?Math.min(d+1,a-1):Math.min(n._rowStopIndex+1,a-1);break;case"ArrowLeft":h="cells"===r?Math.max(h-1,0):Math.max(n._columnStartIndex-1,0);break;case"ArrowRight":h="cells"===r?Math.min(h+1,o-1):Math.min(n._columnStopIndex+1,o-1);break;case"ArrowUp":d="cells"===r?Math.max(d-1,0):Math.max(n._rowStartIndex-1,0)}h===l&&d===c||(e.preventDefault(),n._updateScrollState({scrollToColumn:h,scrollToRow:d}))}},n._onSectionRendered=function(e){var t=e.columnStartIndex,o=e.columnStopIndex,i=e.rowStartIndex,r=e.rowStopIndex;n._columnStartIndex=t,n._columnStopIndex=o,n._rowStartIndex=i,n._rowStopIndex=r},i=o,hn()(n,i)}return pn()(t,e),cn()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,o=e.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.children,n=this._getScrollState(),i=n.scrollToColumn,r=n.scrollToRow;return h.createElement("div",{className:t,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:r}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,o=e.scrollToRow,n=this.props,i=n.isControlled,r=n.onScrollToChange;"function"==typeof r&&r({scrollToColumn:t,scrollToRow:o}),i||this.setState({scrollToColumn:t,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?null:e.scrollToColumn!==t.scrollToColumn||e.scrollToRow!==t.scrollToRow?{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow}:null}}]),t}(h.PureComponent);Qn.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},Qn.propTypes=null,bn(Qn);var Jn=o(680),ei=function(e){function t(){var e,o,n,i;sn()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return o=n=hn()(this,(e=t.__proto__||rn()(t)).call.apply(e,[this].concat(a))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,o=e.disableWidth,i=e.onResize;if(n._parentNode){var r=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,d=r-u-h,p=a-l-c;(!t&&n.state.height!==d||!o&&n.state.width!==p)&&(n.setState({height:r-u-h,width:a-l-c}),i({height:r,width:a}))}},n._setRef=function(e){n._autoSizer=e},i=o,hn()(n,i)}return pn()(t,e),cn()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(Jn.a)(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.className,n=e.disableHeight,i=e.disableWidth,r=e.style,a=this.state,s=a.height,l=a.width,c={overflow:"visible"},u={};return n||(c.height=0,u.height=s),i||(c.width=0,u.width=l),h.createElement("div",{className:o,ref:this._setRef,style:On()({},c,r)},t(u))}}]),t}(h.PureComponent);ei.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},ei.propTypes=null;var ti=ei,oi=function(e){function t(){var e,o,n,i;sn()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return o=n=hn()(this,(e=t.__proto__||rn()(t)).call.apply(e,[this].concat(a))),n._measure=function(){var e=n.props,t=e.cache,o=e.columnIndex,i=void 0===o?0:o,r=e.parent,a=e.rowIndex,s=void 0===a?n.props.index||0:a,l=n._getCellMeasurements(),c=l.height,u=l.width;c===t.getHeight(s,i)&&u===t.getWidth(s,i)||(t.set(s,i,u,c),r&&"function"==typeof r.recomputeGridSize&&r.recomputeGridSize({columnIndex:i,rowIndex:s}))},i=o,hn()(n,i)}return pn()(t,e),cn()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=Object(Le.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var o=t.style.width,n=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var i=Math.ceil(t.offsetHeight),r=Math.ceil(t.offsetWidth);return o&&(t.style.width=o),n&&(t.style.height=n),{height:i,width:r}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,o=e.columnIndex,n=void 0===o?0:o,i=e.parent,r=e.rowIndex,a=void 0===r?this.props.index||0:r;if(!t.has(a,n)){var s=this._getCellMeasurements(),l=s.height,c=s.width;t.set(a,n,c,l),i&&"function"==typeof i.invalidateCellSizeAfterRender&&i.invalidateCellSizeAfterRender({columnIndex:n,rowIndex:a})}}}]),t}(h.PureComponent);oi.__internalCellMeasurerFlag=!1,oi.propTypes=null;var ni=30,ii=100;!function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sn()(this,e),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var o=e.index,n=t._keyMapper(0,o);return t._columnWidthCache.hasOwnProperty(n)?t._columnWidthCache[n]:t._defaultWidth},this.rowHeight=function(e){var o=e.index,n=t._keyMapper(o,0);return t._rowHeightCache.hasOwnProperty(n)?t._rowHeightCache[n]:t._defaultHeight};var n=o.defaultHeight,i=o.defaultWidth,r=o.fixedHeight,a=o.fixedWidth,s=o.keyMapper,l=o.minHeight,c=o.minWidth;this._hasFixedHeight=!0===r,this._hasFixedWidth=!0===a,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=s||ri,this._defaultHeight=Math.max(this._minHeight,"number"==typeof n?n:ni),this._defaultWidth=Math.max(this._minWidth,"number"==typeof i?i:ii)}cn()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._keyMapper(e,t);delete this._cellHeightCache[o],delete this._cellWidthCache[o],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var o=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(o)?Math.max(this._minHeight,this._cellHeightCache[o]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var o=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(o)?Math.max(this._minWidth,this._cellWidthCache[o]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(o)}},{key:"set",value:function(e,t,o,n){var i=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[i]=n,this._cellWidthCache[i]=o,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var o=0,n=0;n<this._rowCount;n++)o=Math.max(o,this.getWidth(n,t));var i=this._keyMapper(0,t);this._columnWidthCache[i]=o}if(!this._hasFixedHeight){for(var r=0,a=0;a<this._columnCount;a++)r=Math.max(r,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=r}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}])}();function ri(e,t){return e+"-"+t}var ai={OBSERVED:"observed",REQUESTED:"requested"},si=function(e){function t(){var e;sn()(this,t);for(var o=arguments.length,n=Array(o),i=0;i<o;i++)n[i]=arguments[i];var r=hn()(this,(e=t.__proto__||rn()(t)).call.apply(e,[this].concat(n)));return r.state={isScrolling:!1,scrollLeft:0,scrollTop:0},r._calculateSizeAndPositionDataOnNextUpdate=!1,r._onSectionRenderedMemoizer=Rn(),r._onScrollMemoizer=Rn(!1),r._invokeOnSectionRenderedHelper=function(){var e=r.props,t=e.cellLayoutManager,o=e.onSectionRendered;r._onSectionRenderedMemoizer({callback:o,indices:{indices:t.getLastRenderedIndices()}})},r._setScrollingContainerRef=function(e){r._scrollingContainer=e},r._updateScrollPositionForScrollToCell=function(){var e=r.props,t=e.cellLayoutManager,o=e.height,n=e.scrollToAlignment,i=e.scrollToCell,a=e.width,s=r.state,l=s.scrollLeft,c=s.scrollTop;if(i>=0){var u=t.getScrollPositionForCell({align:n,cellIndex:i,height:o,scrollLeft:l,scrollTop:c,width:a});u.scrollLeft===l&&u.scrollTop===c||r._setScrollPosition(u)}},r._onScroll=function(e){if(e.target===r._scrollingContainer){r._enablePointerEventsAfterDelay();var t=r.props,o=t.cellLayoutManager,n=t.height,i=t.isScrollingChange,a=t.width,s=r._scrollbarSize,l=o.getTotalSize(),c=l.height,u=l.width,h=Math.max(0,Math.min(u-a+s,e.target.scrollLeft)),d=Math.max(0,Math.min(c-n+s,e.target.scrollTop));if(r.state.scrollLeft!==h||r.state.scrollTop!==d){var p=e.cancelable?ai.OBSERVED:ai.REQUESTED;r.state.isScrolling||i(!0),r.setState({isScrolling:!0,scrollLeft:h,scrollPositionChangeReason:p,scrollTop:d})}r._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:d,totalWidth:u,totalHeight:c})}},r._scrollbarSize=zn()(),void 0===r._scrollbarSize?(r._scrollbarSizeMeasured=!1,r._scrollbarSize=0):r._scrollbarSizeMeasured=!0,r}return pn()(t,e),cn()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,o=e.scrollLeft,n=e.scrollToCell,i=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=zn()(),this._scrollbarSizeMeasured=!0,this.setState({})),n>=0?this._updateScrollPositionForScrollToCell():(o>=0||i>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:i}),this._invokeOnSectionRenderedHelper();var r=t.getTotalSize(),a=r.height,s=r.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:i||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(e,t){var o=this.props,n=o.height,i=o.scrollToAlignment,r=o.scrollToCell,a=o.width,s=this.state,l=s.scrollLeft,c=s.scrollPositionChangeReason,u=s.scrollTop;c===ai.REQUESTED&&(l>=0&&l!==t.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),u>=0&&u!==t.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),n===e.height&&i===e.scrollToAlignment&&r===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,o=e.cellCount,n=e.cellLayoutManager,i=e.className,r=e.height,a=e.horizontalOverscanSize,s=e.id,l=e.noContentRenderer,c=e.style,u=e.verticalOverscanSize,d=e.width,p=this.state,f=p.isScrolling,m=p.scrollLeft,g=p.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==n||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=n,this._calculateSizeAndPositionDataOnNextUpdate=!1,n.calculateSizeAndPositionData());var b=n.getTotalSize(),v=b.height,j=b.width,y=Math.max(0,m-a),O=Math.max(0,g-u),_=Math.min(j,m+d+a),C=Math.min(v,g+r+u),w=r>0&&d>0?n.cellRenderers({height:C-O,isScrolling:f,width:_-y,x:y,y:O}):[],S={boxSizing:"border-box",direction:"ltr",height:t?"auto":r,position:"relative",WebkitOverflowScrolling:"touch",width:d,willChange:"transform"},x=v>r?this._scrollbarSize:0,E=j>d?this._scrollbarSize:0;return S.overflowX=j+x<=d?"hidden":"auto",S.overflowY=v+E<=r?"hidden":"auto",h.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Cn()("ReactVirtualized__Collection",i),id:s,onScroll:this._onScroll,role:"grid",style:On()({},S,c),tabIndex:0},o>0&&h.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:v,maxHeight:v,maxWidth:j,overflow:"hidden",pointerEvents:f?"none":"",width:j}},w),0===o&&l())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,o=e.scrollLeft,n=e.scrollTop,i=e.totalHeight,r=e.totalWidth;this._onScrollMemoizer({callback:function(e){var o=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:o,scrollTop:n,scrollWidth:r})},indices:{scrollLeft:o,scrollTop:n}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,o=e.scrollTop,n={scrollPositionChangeReason:ai.REQUESTED};t>=0&&(n.scrollLeft=t),o>=0&&(n.scrollTop=o),(t>=0&&t!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(n)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),t}(h.PureComponent);si.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},si.propTypes={},bn(si);var li=si,ci=function(){function e(t){var o=t.height,n=t.width,i=t.x,r=t.y;sn()(this,e),this.height=o,this.width=n,this.x=i,this.y=r,this._indexMap={},this._indices=[]}return cn()(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),e}(),ui=100,hi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;sn()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return cn()(e,[{key:"getCellIndices",value:function(e){var t=e.height,o=e.width,n=e.x,i=e.y,r={};return this.getSections({height:t,width:o,x:n,y:i}).forEach(function(e){return e.getCellIndices().forEach(function(e){r[e]=e})}),Tn()(r).map(function(e){return r[e]})}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,o=e.width,n=e.x,i=e.y,r=Math.floor(n/this._sectionSize),a=Math.floor((n+o-1)/this._sectionSize),s=Math.floor(i/this._sectionSize),l=Math.floor((i+t-1)/this._sectionSize),c=[],u=r;u<=a;u++)for(var h=s;h<=l;h++){var d=u+"."+h;this._sections[d]||(this._sections[d]=new ci({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:h*this._sectionSize})),c.push(this._sections[d])}return c}},{key:"getTotalSectionCount",value:function(){return Tn()(this._sections).length}},{key:"toString",value:function(){var e=this;return Tn()(this._sections).map(function(t){return e._sections[t].toString()})}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,o=e.index;this._cellMetadata[o]=t,this.getSections(t).forEach(function(e){return e.addCellIndex({index:o})})}}]),e}();function di(e){var t=e.align,o=void 0===t?"auto":t,n=e.cellOffset,i=e.cellSize,r=e.containerSize,a=e.currentOffset,s=n,l=s-r+i;switch(o){case"start":return s;case"end":return l;case"center":return s-(r-i)/2;default:return Math.max(l,Math.min(s,a))}}var pi=function(e){function t(e,o){sn()(this,t);var n=hn()(this,(t.__proto__||rn()(t)).call(this,e,o));return n._cellMetadata=[],n._lastRenderedCellIndices=[],n._cellCache=[],n._isScrollingChange=n._isScrollingChange.bind(n),n._setCollectionViewRef=n._setCollectionViewRef.bind(n),n}return pn()(t,e),cn()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=xn()(this.props,[]);return h.createElement(li,On()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,o=e.cellSizeAndPositionGetter,n=e.sectionSize,i=[],r=new hi(n),a=0,s=0,l=0;l<t;l++){var c=o({index:l});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell "+l+":\n        x:"+c.x+", y:"+c.y+", width:"+c.width+", height:"+c.height);a=Math.max(a,c.y+c.height),s=Math.max(s,c.x+c.width),i[l]=c,r.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:i,height:a,sectionManager:r,width:s}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,o=e.cellIndex,n=e.height,i=e.scrollLeft,r=e.scrollTop,a=e.width,s=this.props.cellCount;if(o>=0&&o<s){var l=this._cellMetadata[o];i=di({align:t,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:i,targetIndex:o}),r=di({align:t,cellOffset:l.y,cellSize:l.height,containerSize:n,currentOffset:r,targetIndex:o})}return{scrollLeft:i,scrollTop:r}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,o=e.height,n=e.isScrolling,i=e.width,r=e.x,a=e.y,s=this.props,l=s.cellGroupRenderer,c=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:i,x:r,y:a}),l({cellCache:this._cellCache,cellRenderer:c,cellSizeAndPositionGetter:function(e){var o=e.index;return t._sectionManager.getCellMetadata({index:o})},indices:this._lastRenderedCellIndices,isScrolling:n})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),t}(h.PureComponent);pi.defaultProps={"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,o=e.cellRenderer,n=e.cellSizeAndPositionGetter,i=e.indices,r=e.isScrolling;return i.map(function(e){var i=n({index:e}),a={index:e,isScrolling:r,key:e,style:{height:i.height,left:i.x,position:"absolute",top:i.y,width:i.width}};return r?(e in t||(t[e]=o(a)),t[e]):o(a)}).filter(function(e){return!!e})}};pi.propTypes={};var fi=function(e){function t(e,o){sn()(this,t);var n=hn()(this,(t.__proto__||rn()(t)).call(this,e,o));return n._registerChild=n._registerChild.bind(n),n}return pn()(t,e),cn()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.columnMaxWidth,n=t.columnMinWidth,i=t.columnCount,r=t.width;o===e.columnMaxWidth&&n===e.columnMinWidth&&i===e.columnCount&&r===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.columnMaxWidth,n=e.columnMinWidth,i=e.columnCount,r=e.width,a=n||1,s=o?Math.min(o,r):r,l=r/i;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),t({adjustedWidth:Math.min(r,l*i),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(h.PureComponent);fi.propTypes={};var mi=function(e){function t(e,o){sn()(this,t);var n=hn()(this,(t.__proto__||rn()(t)).call(this,e,o));return n._loadMoreRowsMemoizer=Rn(),n._onRowsRendered=n._onRowsRendered.bind(n),n._registerChild=n._registerChild.bind(n),n}return pn()(t,e),cn()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=Rn(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,o=this.props.loadMoreRows;e.forEach(function(e){var n=o(e);n&&n.then(function(){var o,n,i,r,a;o={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},n=o.lastRenderedStartIndex,i=o.lastRenderedStopIndex,r=o.startIndex,a=o.stopIndex,r>i||a<n||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;o?o.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,o=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=o,this._doStuff(t,o)}},{key:"_doStuff",value:function(e,t){var o=this,n=this.props,i=n.isRowLoaded,r=n.minimumBatchSize,a=n.rowCount,s=n.threshold,l=function(e){for(var t=e.isRowLoaded,o=e.minimumBatchSize,n=e.rowCount,i=e.startIndex,r=e.stopIndex,a=[],s=null,l=null,c=i;c<=r;c++){var u=t({index:c});u?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=c,null===s&&(s=c))}if(null!==l){for(var h=Math.min(Math.max(l,s+o-1),n-1),d=l+1;d<=h&&!t({index:d});d++)l=d;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var p=a[0];p.stopIndex-p.startIndex+1<o&&p.startIndex>0;){var f=p.startIndex-1;if(t({index:f}))break;p.startIndex=f}return a}({isRowLoaded:i,minimumBatchSize:r,rowCount:a,startIndex:Math.max(0,e-s),stopIndex:Math.min(a-1,t+s)}),c=l.reduce(function(e,t){return e.concat([t.startIndex,t.stopIndex])},[]);this._loadMoreRowsMemoizer({callback:function(){o._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:c}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(h.PureComponent);mi.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};mi.propTypes={};var gi=o(778),bi=o.n(gi),vi=function(e){function t(){var e,o,n,i;sn()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return o=n=hn()(this,(e=t.__proto__||rn()(t)).call.apply(e,[this].concat(a))),n._cellRenderer=function(e){var t=e.parent,o=e.rowIndex,i=e.style,r=e.isScrolling,a=e.isVisible,s=e.key,l=n.props.rowRenderer;return bi()(i,"width").writable&&(i.width="100%"),l({index:o,style:i,isScrolling:r,isVisible:a,key:s,parent:t})},n._setRef=function(e){n.Grid=e},n._onScroll=function(e){var t=e.clientHeight,o=e.scrollHeight,i=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:o,scrollTop:i})},n._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,o=e.rowOverscanStopIndex,i=e.rowStartIndex,r=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:o,startIndex:i,stopIndex:r})},i=o,hn()(n,i)}return pn()(t,e),cn()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,o=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:o,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,o=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.noRowsRenderer,n=e.scrollToIndex,i=e.width,r=Cn()("ReactVirtualized__List",t);return h.createElement(Zn,On()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:r,columnWidth:i,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),t}(h.PureComponent);vi.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:Xn,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},vi.propTypes=null;var ji=o(781),yi=o.n(ji),Oi=o(782),_i=o.n(Oi);var Ci={ge:function(e,t,o,n,i){return"function"==typeof o?function(e,t,o,n,i){for(var r=o+1;t<=o;){var a=t+o>>>1;i(e[a],n)>=0?(r=a,o=a-1):t=a+1}return r}(e,void 0===n?0:0|n,void 0===i?e.length-1:0|i,t,o):function(e,t,o,n){for(var i=o+1;t<=o;){var r=t+o>>>1;e[r]>=n?(i=r,o=r-1):t=r+1}return i}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},gt:function(e,t,o,n,i){return"function"==typeof o?function(e,t,o,n,i){for(var r=o+1;t<=o;){var a=t+o>>>1;i(e[a],n)>0?(r=a,o=a-1):t=a+1}return r}(e,void 0===n?0:0|n,void 0===i?e.length-1:0|i,t,o):function(e,t,o,n){for(var i=o+1;t<=o;){var r=t+o>>>1;e[r]>n?(i=r,o=r-1):t=r+1}return i}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},lt:function(e,t,o,n,i){return"function"==typeof o?function(e,t,o,n,i){for(var r=t-1;t<=o;){var a=t+o>>>1;i(e[a],n)<0?(r=a,t=a+1):o=a-1}return r}(e,void 0===n?0:0|n,void 0===i?e.length-1:0|i,t,o):function(e,t,o,n){for(var i=t-1;t<=o;){var r=t+o>>>1;e[r]<n?(i=r,t=r+1):o=r-1}return i}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},le:function(e,t,o,n,i){return"function"==typeof o?function(e,t,o,n,i){for(var r=t-1;t<=o;){var a=t+o>>>1;i(e[a],n)<=0?(r=a,t=a+1):o=a-1}return r}(e,void 0===n?0:0|n,void 0===i?e.length-1:0|i,t,o):function(e,t,o,n){for(var i=t-1;t<=o;){var r=t+o>>>1;e[r]<=n?(i=r,t=r+1):o=r-1}return i}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},eq:function(e,t,o,n,i){return"function"==typeof o?function(e,t,o,n,i){for(;t<=o;){var r=t+o>>>1,a=i(e[r],n);if(0===a)return r;a<=0?t=r+1:o=r-1}return-1}(e,void 0===n?0:0|n,void 0===i?e.length-1:0|i,t,o):function(e,t,o,n){for(;t<=o;){var i=t+o>>>1,r=e[i];if(r===n)return i;r<=n?t=i+1:o=i-1}return-1}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)}},wi=0,Si=1;function xi(e,t,o,n,i){this.mid=e,this.left=t,this.right=o,this.leftPoints=n,this.rightPoints=i,this.count=(t?t.count:0)+(o?o.count:0)+n.length}var Ei=xi.prototype;function ki(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function Li(e,t){var o=Bi(t);e.mid=o.mid,e.left=o.left,e.right=o.right,e.leftPoints=o.leftPoints,e.rightPoints=o.rightPoints,e.count=o.count}function Ii(e,t){var o=e.intervals([]);o.push(t),Li(e,o)}function Ti(e,t){var o=e.intervals([]),n=o.indexOf(t);return n<0?wi:(o.splice(n,1),Li(e,o),Si)}function Ri(e,t,o){for(var n=0;n<e.length&&e[n][0]<=t;++n){var i=o(e[n]);if(i)return i}}function Ni(e,t,o){for(var n=e.length-1;n>=0&&e[n][1]>=t;--n){var i=o(e[n]);if(i)return i}}function Mi(e,t){for(var o=0;o<e.length;++o){var n=t(e[o]);if(n)return n}}function Ai(e,t){return e-t}function zi(e,t){var o=e[0]-t[0];return o||e[1]-t[1]}function Pi(e,t){var o=e[1]-t[1];return o||e[0]-t[0]}function Bi(e){if(0===e.length)return null;for(var t=[],o=0;o<e.length;++o)t.push(e[o][0],e[o][1]);t.sort(Ai);var n=t[t.length>>1],i=[],r=[],a=[];for(o=0;o<e.length;++o){var s=e[o];s[1]<n?i.push(s):n<s[0]?r.push(s):a.push(s)}var l=a,c=a.slice();return l.sort(zi),c.sort(Pi),new xi(n,Bi(i),Bi(r),l,c)}function Di(e){this.root=e}Ei.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},Ei.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?Ii(this,e):this.left.insert(e):this.left=Bi([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?Ii(this,e):this.right.insert(e):this.right=Bi([e]);else{var o=Ci.ge(this.leftPoints,e,zi),n=Ci.ge(this.rightPoints,e,Pi);this.leftPoints.splice(o,0,e),this.rightPoints.splice(n,0,e)}},Ei.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?Ti(this,e):2===(r=this.left.remove(e))?(this.left=null,this.count-=1,Si):(r===Si&&(this.count-=1),r):wi;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?Ti(this,e):2===(r=this.right.remove(e))?(this.right=null,this.count-=1,Si):(r===Si&&(this.count-=1),r):wi;if(1===this.count)return this.leftPoints[0]===e?2:wi;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var o=this,n=this.left;n.right;)o=n,n=n.right;if(o===this)n.right=this.right;else{var i=this.left,r=this.right;o.count-=n.count,o.right=n.left,n.left=i,n.right=r}ki(this,n),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?ki(this,this.left):ki(this,this.right);return Si}for(i=Ci.ge(this.leftPoints,e,zi);i<this.leftPoints.length&&this.leftPoints[i][0]===e[0];++i)if(this.leftPoints[i]===e){this.count-=1,this.leftPoints.splice(i,1);for(r=Ci.ge(this.rightPoints,e,Pi);r<this.rightPoints.length&&this.rightPoints[r][1]===e[1];++r)if(this.rightPoints[r]===e)return this.rightPoints.splice(r,1),Si}return wi},Ei.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(o=this.left.queryPoint(e,t))return o;return Ri(this.leftPoints,e,t)}if(e>this.mid){var o;if(this.right)if(o=this.right.queryPoint(e,t))return o;return Ni(this.rightPoints,e,t)}return Mi(this.leftPoints,t)},Ei.queryInterval=function(e,t,o){var n;if(e<this.mid&&this.left&&(n=this.left.queryInterval(e,t,o)))return n;if(t>this.mid&&this.right&&(n=this.right.queryInterval(e,t,o)))return n;return t<this.mid?Ri(this.leftPoints,t,o):e>this.mid?Ni(this.rightPoints,e,o):Mi(this.leftPoints,o)};var qi=Di.prototype;qi.insert=function(e){this.root?this.root.insert(e):this.root=new xi(e[0],null,null,[e],[e])},qi.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==wi}return!1},qi.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},qi.queryInterval=function(e,t,o){if(e<=t&&this.root)return this.root.queryInterval(e,t,o)},Object.defineProperty(qi,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(qi,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Hi=function(){function e(){var t;sn()(this,e),this._columnSizeMap={},this._intervalTree=t&&0!==t.length?new Di(Bi(t)):new Di(null),this._leftMap={}}return cn()(e,[{key:"estimateTotalHeight",value:function(e,t,o){var n=e-this.count;return this.tallestColumnSize+Math.ceil(n/t)*o}},{key:"range",value:function(e,t,o){var n=this;this._intervalTree.queryInterval(e,e+t,function(e){var t=_i()(e,3),i=t[0],r=(t[1],t[2]);return o(r,n._leftMap[r],i)})}},{key:"setPosition",value:function(e,t,o,n){this._intervalTree.insert([o,o+n,e]),this._leftMap[e]=t;var i=this._columnSizeMap,r=i[t];i[t]=void 0===r?o+n:Math.max(r,o+n)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var o in e){var n=e[o];t=0===t?n:Math.min(t,n)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var o in e){var n=e[o];t=Math.max(t,n)}return t}}]),e}(),Fi=function(e){function t(){var e,o,n,i;sn()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return o=n=hn()(this,(e=t.__proto__||rn()(t)).call.apply(e,[this].concat(a))),n.state={isScrolling:!1,scrollTop:0},n._invalidateOnUpdateStartIndex=null,n._invalidateOnUpdateStopIndex=null,n._positionCache=new Hi,n._startIndex=null,n._startIndexMemoized=null,n._stopIndex=null,n._stopIndexMemoized=null,n._debounceResetIsScrollingCallback=function(){n.setState({isScrolling:!1})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){var t=n.props.height,o=e.target.scrollTop,i=Math.min(Math.max(0,n._getEstimatedTotalHeight()-t),o);o===i&&(n._debounceResetIsScrolling(),n.state.scrollTop!==i&&n.setState({isScrolling:!0,scrollTop:i}))},i=o,hn()(n,i)}return pn()(t,e),cn()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new Hi,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new Hi,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Wn(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e=this,t=this.props,o=t.autoHeight,n=t.cellCount,i=t.cellMeasurerCache,r=t.cellRenderer,a=t.className,s=t.height,l=t.id,c=t.keyMapper,u=t.overscanByPixels,d=t.role,p=t.style,f=t.tabIndex,m=t.width,g=t.rowDirection,b=this.state,v=b.isScrolling,j=b.scrollTop,y=[],O=this._getEstimatedTotalHeight(),_=this._positionCache.shortestColumnSize,C=this._positionCache.count,w=0,S=void 0;if(this._positionCache.range(Math.max(0,j-u),s+2*u,function(t,o,n){var a;void 0===S?(w=t,S=t):(w=Math.min(w,t),S=Math.max(S,t)),y.push(r({index:t,isScrolling:v,key:c(t),parent:e,style:(a={height:i.getHeight(t)},yi()(a,"ltr"===g?"left":"right",o),yi()(a,"position","absolute"),yi()(a,"top",n),yi()(a,"width",i.getWidth(t)),a)}))}),_<j+s+u&&C<n)for(var x=Math.min(n-C,Math.ceil((j+s+u-_)/i.defaultHeight*m/i.defaultWidth)),E=C;E<C+x;E++)S=E,y.push(r({index:E,isScrolling:v,key:c(E),parent:this,style:{width:i.getWidth(E)}}));return this._startIndex=w,this._stopIndex=S,h.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Cn()("ReactVirtualized__Masonry",a),id:l,onScroll:this._onScroll,role:d,style:On()({boxSizing:"border-box",direction:"ltr",height:o?"auto":s,overflowX:"hidden",overflowY:O<s?"hidden":"auto",position:"relative",width:m,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:f},h.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:O,maxWidth:"100%",maxHeight:O,overflow:"hidden",pointerEvents:v?"none":"",position:"relative"}},y))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Wn(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Gn(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,o=e.cellMeasurerCache,n=e.width,i=Math.max(1,Math.floor(n/o.defaultWidth));return this._positionCache.estimateTotalHeight(t,i,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,o=e.onScroll,n=this.state.scrollTop;this._onScrollMemoized!==n&&(o({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:n}),this._onScrollMemoized=n)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var o=this.props,n=o.cellMeasurerCache,i=o.cellPositioner,r=e;r<=t;r++){var a=i(r),s=a.left,l=a.top;this._positionCache.setPosition(r,s,l,n.getHeight(r))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(h.PureComponent);function Ui(){}Fi.defaultProps={autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:Ui,onScroll:Ui,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Fi.propTypes=null;bn(Fi);var Wi=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sn()(this,e),this.columnWidth=function(e){var o=e.index;t._cellMeasurerCache.columnWidth({index:o+t._columnIndexOffset})},this.rowHeight=function(e){var o=e.index;t._cellMeasurerCache.rowHeight({index:o+t._rowIndexOffset})};var n=o.cellMeasurerCache,i=o.columnIndexOffset,r=void 0===i?0:i,a=o.rowIndexOffset,s=void 0===a?0:a;this._cellMeasurerCache=n,this._columnIndexOffset=r,this._rowIndexOffset=s}return cn()(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,o,n){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,o,n)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}(),Gi=function(e){function t(e,o){sn()(this,t);var n=hn()(this,(t.__proto__||rn()(t)).call(this,e,o));Vi.call(n);var i=e.deferredMeasurementCache,r=e.fixedColumnCount,a=e.fixedRowCount;return n._maybeCalculateCachedStyles(!0),i&&(n._deferredMeasurementCacheBottomLeftGrid=a>0?new Wi({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:a}):i,n._deferredMeasurementCacheBottomRightGrid=r>0||a>0?new Wi({cellMeasurerCache:i,columnIndexOffset:r,rowIndexOffset:a}):i,n._deferredMeasurementCacheTopRightGrid=r>0?new Wi({cellMeasurerCache:i,columnIndexOffset:r,rowIndexOffset:0}):i),n}return pn()(t,e),cn()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n,r=this.props,a=r.fixedColumnCount,s=r.fixedRowCount,l=Math.max(0,o-a),c=Math.max(0,i-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:c}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:c}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:i}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:i}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,o=e.scrollTop;if(t>0||o>0){var n={};t>0&&(n.scrollLeft=t),o>0&&(n.scrollTop=o),this.setState(n)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,o=e.onSectionRendered,n=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),r=xn()(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var a=this.state,s=a.scrollLeft,l=a.scrollTop;return h.createElement("div",{style:this._containerOuterStyle},h.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(r),this._renderTopRightGrid(On()({},r,{onScroll:t,scrollLeft:s}))),h.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(On()({},r,{onScroll:t,scrollTop:l})),this._renderBottomRightGrid(On()({},r,{onScroll:t,onSectionRendered:o,scrollLeft:s,scrollToColumn:n,scrollToRow:i,scrollTop:l}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,o=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof o){for(var n=0,i=0;i<t;i++)n+=o({index:i});this._leftGridWidth=n}else this._leftGridWidth=o*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,o=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof o){for(var n=0,i=0;i<t;i++)n+=o({index:i});this._topGridHeight=n}else this._topGridHeight=o*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,o=t.columnWidth,n=t.enableFixedColumnScroll,i=t.enableFixedRowScroll,r=t.height,a=t.fixedColumnCount,s=t.fixedRowCount,l=t.rowHeight,c=t.style,u=t.styleBottomLeftGrid,h=t.styleBottomRightGrid,d=t.styleTopLeftGrid,p=t.styleTopRightGrid,f=t.width,m=e||r!==this._lastRenderedHeight||f!==this._lastRenderedWidth,g=e||o!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,b=e||s!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(e||m||c!==this._lastRenderedStyle)&&(this._containerOuterStyle=On()({height:r,overflow:"visible",width:f},c)),(e||m||b)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:f},this._containerBottomStyle={height:r-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:f}),(e||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=On()({left:0,overflowX:"hidden",overflowY:n?"auto":"hidden",position:"absolute"},u)),(e||g||h!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=On()({left:this._getLeftGridWidth(this.props),position:"absolute"},h)),(e||d!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=On()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},d)),(e||g||p!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=On()({left:this._getLeftGridWidth(this.props),overflowX:i?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},p)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=r,this._lastRenderedRowHeight=l,this._lastRenderedStyle=c,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=h,this._lastRenderedStyleTopLeftGrid=d,this._lastRenderedStyleTopRightGrid=p,this._lastRenderedWidth=f}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,o=e.fixedColumnCount,n=e.fixedRowCount,i=e.rowCount,r=e.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!o)return null;var s=a?1:0,l=this._getBottomGridHeight(e),c=this._getLeftGridWidth(e),u=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,d=r?c+u:c,p=h.createElement(Zn,On()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:l,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-n)+s,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:d}));return r?h.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:On()({},this._bottomLeftGridStyle,{height:l,width:c,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,o=e.fixedColumnCount,n=e.fixedRowCount,i=e.rowCount,r=e.scrollToColumn,a=e.scrollToRow;return h.createElement(Zn,On()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-n),rowHeight:this._rowHeightBottomGrid,scrollToColumn:r-o,scrollToRow:a-n,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,o=e.fixedRowCount;return t&&o?h.createElement(Zn,On()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,o=e.enableFixedRowScroll,n=e.fixedColumnCount,i=e.fixedRowCount,r=e.scrollLeft,a=e.hideTopRightGridScrollbar,s=this.state,l=s.showHorizontalScrollbar,c=s.scrollbarSize;if(!i)return null;var u=l?1:0,d=this._getTopGridHeight(e),p=this._getRightGridWidth(e),f=l?c:0,m=d,g=this._topRightGridStyle;a&&(m=d+f,g=On()({},this._topRightGridStyle,{left:0}));var b=h.createElement(Zn,On()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-n)+u,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:r,style:g,tabIndex:null,width:p}));return a?h.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:On()({},this._topRightGridStyle,{height:d,width:p,overflowX:"hidden"})},b):b}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),t}(h.PureComponent);Gi.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Vi=function(){var e=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(t){e._bottomLeftGrid=t},this._bottomRightGridRef=function(t){e._bottomRightGrid=t},this._cellRendererBottomLeftGrid=function(t){var o=t.rowIndex,n=xn()(t,["rowIndex"]),i=e.props,r=i.cellRenderer,a=i.fixedRowCount;return o===i.rowCount-a?h.createElement("div",{key:n.key,style:On()({},n.style,{height:20})}):r(On()({},n,{parent:e,rowIndex:o+a}))},this._cellRendererBottomRightGrid=function(t){var o=t.columnIndex,n=t.rowIndex,i=xn()(t,["columnIndex","rowIndex"]),r=e.props,a=r.cellRenderer,s=r.fixedColumnCount,l=r.fixedRowCount;return a(On()({},i,{columnIndex:o+s,parent:e,rowIndex:n+l}))},this._cellRendererTopRightGrid=function(t){var o=t.columnIndex,n=xn()(t,["columnIndex"]),i=e.props,r=i.cellRenderer,a=i.columnCount,s=i.fixedColumnCount;return o===a-s?h.createElement("div",{key:n.key,style:On()({},n.style,{width:20})}):r(On()({},n,{columnIndex:o+s,parent:e}))},this._columnWidthRightGrid=function(t){var o=t.index,n=e.props,i=n.columnCount,r=n.fixedColumnCount,a=n.columnWidth,s=e.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&o===i-r?l:"function"==typeof a?a({index:o+r}):a},this._onScroll=function(t){var o=t.scrollLeft,n=t.scrollTop;e.setState({scrollLeft:o,scrollTop:n});var i=e.props.onScroll;i&&i(t)},this._onScrollbarPresenceChange=function(t){var o=t.horizontal,n=t.size,i=t.vertical,r=e.state,a=r.showHorizontalScrollbar,s=r.showVerticalScrollbar;if(o!==a||i!==s){e.setState({scrollbarSize:n,showHorizontalScrollbar:o,showVerticalScrollbar:i});var l=e.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:o,size:n,vertical:i})}},this._onScrollLeft=function(t){var o=t.scrollLeft;e._onScroll({scrollLeft:o,scrollTop:e.state.scrollTop})},this._onScrollTop=function(t){var o=t.scrollTop;e._onScroll({scrollTop:o,scrollLeft:e.state.scrollLeft})},this._rowHeightBottomGrid=function(t){var o=t.index,n=e.props,i=n.fixedRowCount,r=n.rowCount,a=n.rowHeight,s=e.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&o===r-i?l:"function"==typeof a?a({index:o+i}):a},this._topLeftGridRef=function(t){e._topLeftGrid=t},this._topRightGridRef=function(t){e._topRightGrid=t}};Gi.propTypes={},bn(Gi);var Ki=function(e){function t(e,o){sn()(this,t);var n=hn()(this,(t.__proto__||rn()(t)).call(this,e,o));return n.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},n._onScroll=n._onScroll.bind(n),n}return pn()(t,e),cn()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,o=t.clientHeight,n=t.clientWidth,i=t.scrollHeight,r=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:o,clientWidth:n,onScroll:this._onScroll,scrollHeight:i,scrollLeft:r,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,o=e.clientWidth,n=e.scrollHeight,i=e.scrollLeft,r=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:o,scrollHeight:n,scrollLeft:i,scrollTop:r,scrollWidth:a})}}]),t}(h.PureComponent);Ki.propTypes={};function Yi(e){var t=e.className,o=e.columns,n=e.style;return h.createElement("div",{className:t,role:"row",style:n},o)}Yi.propTypes=null;var Zi={ASC:"ASC",DESC:"DESC"};function $i(e){var t=e.sortDirection,o=Cn()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===Zi.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===Zi.DESC});return h.createElement("svg",{className:o,width:18,height:18,viewBox:"0 0 24 24"},t===Zi.ASC?h.createElement("path",{d:"M7 14l5-5 5 5z"}):h.createElement("path",{d:"M7 10l5 5 5-5z"}),h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Xi(e){var t=e.dataKey,o=e.label,n=e.sortBy,i=e.sortDirection,r=n===t,a=[h.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:o},o)];return r&&a.push(h.createElement($i,{key:"SortIndicator",sortDirection:i})),a}function Qi(e){var t=e.className,o=e.columns,n=e.index,i=e.key,r=e.onRowClick,a=e.onRowDoubleClick,s=e.onRowMouseOut,l=e.onRowMouseOver,c=e.onRowRightClick,u=e.rowData,d=e.style,p={"aria-rowindex":n+1};return(r||a||s||l||c)&&(p["aria-label"]="row",p.tabIndex=0,r&&(p.onClick=function(e){return r({event:e,index:n,rowData:u})}),a&&(p.onDoubleClick=function(e){return a({event:e,index:n,rowData:u})}),s&&(p.onMouseOut=function(e){return s({event:e,index:n,rowData:u})}),l&&(p.onMouseOver=function(e){return l({event:e,index:n,rowData:u})}),c&&(p.onContextMenu=function(e){return c({event:e,index:n,rowData:u})})),h.createElement("div",On()({},p,{className:t,key:i,role:"row",style:d}),o)}$i.propTypes={},Xi.propTypes=null,Qi.propTypes=null;var Ji=function(e){function t(){return sn()(this,t),hn()(this,(t.__proto__||rn()(t)).apply(this,arguments))}return pn()(t,e),t}(h.Component);Ji.defaultProps={cellDataGetter:function(e){var t=e.dataKey,o=e.rowData;return"function"==typeof o.get?o.get(t):o[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:Zi.ASC,flexGrow:0,flexShrink:1,headerRenderer:Xi,style:{}};Ji.propTypes={};var er=function(e){function t(e){sn()(this,t);var o=hn()(this,(t.__proto__||rn()(t)).call(this,e));return o.state={scrollbarWidth:0},o._createColumn=o._createColumn.bind(o),o._createRow=o._createRow.bind(o),o._onScroll=o._onScroll.bind(o),o._onSectionRendered=o._onSectionRendered.bind(o),o._setRef=o._setRef.bind(o),o}return pn()(t,e),cn()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,o=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:o}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,o=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,o=t.children,n=t.className,i=t.disableHeader,r=t.gridClassName,a=t.gridStyle,s=t.headerHeight,l=t.headerRowRenderer,c=t.height,u=t.id,d=t.noRowsRenderer,p=t.rowClassName,f=t.rowStyle,m=t.scrollToIndex,g=t.style,b=t.width,v=this.state.scrollbarWidth,j=i?c:c-s,y="function"==typeof p?p({index:-1}):p,O="function"==typeof f?f({index:-1}):f;return this._cachedColumnStyles=[],h.Children.toArray(o).forEach(function(t,o){var n=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[o]=On()({},n,{overflow:"hidden"})}),h.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":h.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:Cn()("ReactVirtualized__Table",n),id:u,role:"grid",style:g},!i&&l({className:Cn()("ReactVirtualized__Table__headerRow",y),columns:this._getHeaderColumns(),style:On()({height:s,overflow:"hidden",paddingRight:v,width:b},O)}),h.createElement(Zn,On()({},this.props,{autoContainerWidth:!0,className:Cn()("ReactVirtualized__Table__Grid",r),cellRenderer:this._createRow,columnWidth:b,columnCount:1,height:j,id:void 0,noContentRenderer:d,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:v,scrollToRow:m,style:On()({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,o=e.columnIndex,n=e.isScrolling,i=e.parent,r=e.rowData,a=e.rowIndex,s=this.props.onColumnClick,l=t.props,c=l.cellDataGetter,u=l.cellRenderer,d=l.className,p=l.columnData,f=l.dataKey,m=l.id,g=u({cellData:c({columnData:p,dataKey:f,rowData:r}),columnData:p,columnIndex:o,dataKey:f,isScrolling:n,parent:i,rowData:r,rowIndex:a}),b=this._cachedColumnStyles[o],v="string"==typeof g?g:null;return h.createElement("div",{"aria-colindex":o+1,"aria-describedby":m,className:Cn()("ReactVirtualized__Table__rowColumn",d),key:"Row"+a+"-Col"+o,onClick:function(e){s&&s({columnData:p,dataKey:f,event:e})},role:"gridcell",style:b,title:v},g)}},{key:"_createHeader",value:function(e){var t=e.column,o=e.index,n=this.props,i=n.headerClassName,r=n.headerStyle,a=n.onHeaderClick,s=n.sort,l=n.sortBy,c=n.sortDirection,u=t.props,d=u.columnData,p=u.dataKey,f=u.defaultSortDirection,m=u.disableSort,g=u.headerRenderer,b=u.id,v=u.label,j=!m&&s,y=Cn()("ReactVirtualized__Table__headerColumn",i,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:j}),O=this._getFlexStyleForColumn(t,On()({},r,t.props.headerStyle)),_=g({columnData:d,dataKey:p,disableSort:m,label:v,sortBy:l,sortDirection:c}),C=void 0,w=void 0,S=void 0,x=void 0,E=void 0;if(j||a){var k=l!==p?f:c===Zi.DESC?Zi.ASC:Zi.DESC,L=function(e){j&&s({defaultSortDirection:f,event:e,sortBy:p,sortDirection:k}),a&&a({columnData:d,dataKey:p,event:e})};E=t.props["aria-label"]||v||p,x="none",S=0,C=L,w=function(e){"Enter"!==e.key&&" "!==e.key||L(e)}}return l===p&&(x=c===Zi.ASC?"ascending":"descending"),h.createElement("div",{"aria-label":E,"aria-sort":x,className:y,id:b,key:"Header-Col"+o,onClick:C,onKeyDown:w,role:"columnheader",style:O,tabIndex:S},_)}},{key:"_createRow",value:function(e){var t=this,o=e.rowIndex,n=e.isScrolling,i=e.key,r=e.parent,a=e.style,s=this.props,l=s.children,c=s.onRowClick,u=s.onRowDoubleClick,d=s.onRowRightClick,p=s.onRowMouseOver,f=s.onRowMouseOut,m=s.rowClassName,g=s.rowGetter,b=s.rowRenderer,v=s.rowStyle,j=this.state.scrollbarWidth,y="function"==typeof m?m({index:o}):m,O="function"==typeof v?v({index:o}):v,_=g({index:o}),C=h.Children.toArray(l).map(function(e,i){return t._createColumn({column:e,columnIndex:i,isScrolling:n,parent:r,rowData:_,rowIndex:o,scrollbarWidth:j})}),w=Cn()("ReactVirtualized__Table__row",y),S=On()({},a,{height:this._getRowHeight(o),overflow:"hidden",paddingRight:j},O);return b({className:w,columns:C,index:o,isScrolling:n,key:i,onRowClick:c,onRowDoubleClick:u,onRowRightClick:d,onRowMouseOver:p,onRowMouseOut:f,rowData:_,style:S})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",n=On()({},t,{flex:o,msFlex:o,WebkitFlex:o});return e.props.maxWidth&&(n.maxWidth=e.props.maxWidth),e.props.minWidth&&(n.minWidth=e.props.minWidth),n}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,o=t.children;return(t.disableHeader?[]:h.Children.toArray(o)).map(function(t,o){return e._createHeader({column:t,index:o})})}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,o=e.scrollHeight,n=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:o,scrollTop:n})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,o=e.rowOverscanStopIndex,n=e.rowStartIndex,i=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:o,startIndex:n,stopIndex:i})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var e=Object(Le.findDOMNode)(this.Grid),t=e.clientWidth||0,o=(e.offsetWidth||0)-t;this.setState({scrollbarWidth:o})}}}]),t}(h.PureComponent);er.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:Xn,overscanRowCount:10,rowRenderer:Qi,headerRowRenderer:Yi,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};er.propTypes={};var tr=[],or=null,nr=null;function ir(){nr&&(nr=null,document.body&&null!=or&&(document.body.style.pointerEvents=or),or=null)}function rr(){ir(),tr.forEach(function(e){return e.__resetIsScrolling()})}function ar(e){e.currentTarget===window&&null==or&&document.body&&(or=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){nr&&Wn(nr);var e=0;tr.forEach(function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)}),nr=Gn(rr,e)}(),tr.forEach(function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()})}function sr(e,t){tr.some(function(e){return e.props.scrollElement===t})||t.addEventListener("scroll",ar),tr.push(e)}function lr(e,t){(tr=tr.filter(function(t){return t!==e})).length||(t.removeEventListener("scroll",ar),nr&&(Wn(nr),ir()))}var cr=function(e){return e===window},ur=function(e){return e.getBoundingClientRect()};function hr(e,t){if(e){if(cr(e)){var o=window,n=o.innerHeight,i=o.innerWidth;return{height:"number"==typeof n?n:0,width:"number"==typeof i?i:0}}return ur(e)}return{height:t.serverHeight,width:t.serverWidth}}function dr(e){return cr(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}var pr=function(){return"undefined"!=typeof window?window:void 0},fr=function(e){function t(){var e,o,n,i;sn()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return o=n=hn()(this,(e=t.__proto__||rn()(t)).call.apply(e,[this].concat(a))),n._window=pr(),n._isMounted=!1,n._positionFromTop=0,n._positionFromLeft=0,n.state=On()({},hr(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),n._registerChild=function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=e,n.updatePosition()},n._onChildScroll=function(e){var t=e.scrollTop;if(n.state.scrollTop!==t){var o=n.props.scrollElement;o&&("function"==typeof o.scrollTo?o.scrollTo(0,t+n._positionFromTop):o.scrollTop=t+n._positionFromTop)}},n._registerResizeListener=function(e){e===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(e,n._onResize)},n._unregisterResizeListener=function(e){e===window?window.removeEventListener("resize",n._onResize,!1):e&&n._detectElementResize.removeResizeListener(e,n._onResize)},n._onResize=function(){n.updatePosition()},n.__handleWindowScrollEvent=function(){if(n._isMounted){var e=n.props.onScroll,t=n.props.scrollElement;if(t){var o=dr(t),i=Math.max(0,o.left-n._positionFromLeft),r=Math.max(0,o.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:i,scrollTop:r}),e({scrollLeft:i,scrollTop:r})}}},n.__resetIsScrolling=function(){n.setState({isScrolling:!1})},i=o,hn()(n,i)}return pn()(t,e),cn()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,o=this.state,n=o.height,i=o.width,r=this._child||Le.findDOMNode(this);if(r instanceof Element&&e){var a=function(e,t){if(cr(t)&&document.documentElement){var o=document.documentElement,n=ur(e),i=ur(o);return{top:n.top-i.top,left:n.left-i.left}}var r=dr(t),a=ur(e),s=ur(t);return{top:a.top+r.top-s.top,left:a.left+r.left-s.left}}(r,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=hr(e,this.props);n===s.height&&i===s.width||(this.setState({height:s.height,width:s.width}),t({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(Jn.a)(),this.updatePosition(e),e&&(sr(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var o=this.props.scrollElement,n=e.scrollElement;n!==o&&null!=n&&null!=o&&(this.updatePosition(o),lr(this,n),sr(this,o),this._unregisterResizeListener(n),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(lr(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,o=t.isScrolling,n=t.scrollTop,i=t.scrollLeft,r=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:r,isScrolling:o,scrollLeft:i,scrollTop:n,width:a})}}]),t}(h.PureComponent);fr.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:pr(),serverHeight:0,serverWidth:0},fr.propTypes=null;var mr=Object(S.c)(function(){var e=Object(U.b)(),t=Object(S.b)("emojiGroups");return{root:t({display:"flex",flexWrap:"nowrap",justifyContent:"center"}),icon:t("icon",{display:"block",position:"relative",margin:"auto",padding:0,width:Object(W.B)(e.icon.sizes.default),height:Object(W.B)(e.icon.sizes.default)})}});
/**
 * A filtered down version of the emoij data we use.
 *
 * This is significantly filtered. The original data sources are in the `emojibase-data` node module.
 * - `emojibase-data/en/data.json`
 * Transformation applied: data.map(({emoji, group}) => {emoji, group});
 *
 * - `emojibase-data/meta/groups.json`
 * Transformation applied: Manually copying/pasting out the groups.
 *
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var gr=[{name:"Smileys & People",icon:
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Smileys & People",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-smileysAndPeople",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",d:"M12,4 C7.58168889,4 4,7.58168889 4,12 C4,16.4181333 7.58168889,20 12,20 C16.4183111,20 20,16.4181333 20,12 C20,7.58168889 16.4183111,4 12,4 Z M12,18.6444444 C8.33631816,18.6444444 5.35555556,15.6636818 5.35555556,12 C5.35555556,8.33631816 8.33631816,5.35555556 12,5.35555556 C15.6636818,5.35555556 18.6444444,8.33631816 18.6444444,12 C18.6444444,15.6636818 15.6636818,18.6444444 12,18.6444444 Z M10.7059556,10.2024889 C10.7059556,9.51253333 10.1466667,8.95324444 9.45671111,8.95324444 C8.76675556,8.95324444 8.20746667,9.51253333 8.20746667,10.2024889 C8.20746667,10.8924444 8.76675556,11.4517333 9.45671111,11.4517333 C10.1466667,11.4517333 10.7059556,10.8924444 10.7059556,10.2024889 Z M14.5432889,8.95306667 C13.8533333,8.95306667 13.2940444,9.51235556 13.2940444,10.2023111 C13.2940444,10.8922667 13.8533333,11.4515556 14.5432889,11.4515556 C15.2332444,11.4515556 15.7925333,10.8922667 15.7925333,10.2023111 C15.7925333,9.51235556 15.2332444,8.95306667 14.5432889,8.95306667 Z M14.7397333,14.1898667 C14.5767111,14.0812444 14.3564444,14.1256889 14.2471111,14.2883556 C14.2165333,14.3336889 13.4823111,15.4012444 11.9998222,15.4012444 C10.5198222,15.4012444 9.7856,14.3374222 9.75271111,14.2885333 C9.64444444,14.1256889 9.42471111,14.0803556 9.2608,14.1884444 C9.09688889,14.2963556 9.05155556,14.5169778 9.15964444,14.6810667 C9.19804444,14.7393778 10.1242667,16.1125333 11.9998222,16.1125333 C13.8752,16.1125333 14.8014222,14.7395556 14.84,14.6810667 C14.9477333,14.5173333 14.9027556,14.2983111 14.7397333,14.1898667 Z"}))}()},{name:"Animals & Nature",icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Animals & Nature",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-animalsAndNature",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",d:"M10.8815789,7.36973684 L7.77236842,9.00263158 L9.36052632,7.36973684 L9.36052632,3.96973684 L9.36052632,3.5 L8.91315789,3.5 L8.91315789,4.43947368 L7.97368421,5.42368421 L7.97368421,5.02105263 L7.52631579,5.02105263 L7.52631579,5.89342105 L6.58684211,6.87763158 L6.58684211,6.54210526 L6.13947368,6.54210526 L6.13947368,7.34736842 L5.2,8.33157895 L5.2,8.06315789 L4.75263158,8.06315789 L4.75263158,8.80131579 L4.55131579,9.00263158 L2.40394737,9.00263158 L2.40394737,8.06315789 L1.93421053,8.06315789 L1.93421053,9.00263158 L1.93421053,9.04736842 L1.93421053,9.69605263 L3.85789474,9.69605263 L1.93421053,11.7092105 L1.93421053,13.3868421 L3.58947368,13.3868421 L4.73026316,12.2013158 L4.73026316,13.3868421 L9.40526316,13.3868421 L10.8815789,16.7421053 L13.5434211,20.5 L14.5947368,20.5 L20.4328947,10.9710526 L10.8815789,7.36973684 Z M13.5434211,20.5 L13.5434211,18.9565789 L11.9328947,16.7421053 L11.9328947,13.3868421 L15.8026316,13.3868421 L15.8026316,16.7421053 L13.5434211,20.5 Z M7.97368421,19.4039474 L9.47236842,15.6236842 L9.98684211,16.7421053 L9.00263158,19.4039474 L8.28684211,20.5 L7.21315789,20.5 L7.97368421,19.4039474 Z M20.4105263,13.3868421 L22.0657895,16.7421053 L22.0657895,19.4039474 L21.4171053,20.5 L20.4105263,20.5 L21.0368421,19.4039474 L21.0368421,16.7421053 L19.2026316,15.5565789 L20.4105263,13.3868421 Z"}))}()},{name:"Food & Drink",icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Food & Drink",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-foodAndDrink",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",d:"M13.4404507,12.0850076 C14.050232,11.7279399 14.624055,11.6426962 15.1651887,11.5101788 C15.6655864,11.3874682 16.167493,11.2205013 16.9656149,10.4223794 L19.8603784,7.5276159 C20.0469589,7.33952668 20.046456,7.03652199 19.8593726,6.84918714 C19.6717863,6.66185228 19.3697874,6.6623552 19.182704,6.84969005 L16.8119752,9.22016743 C16.6248918,9.40750228 16.3211327,9.40725082 16.1343008,9.22067034 C15.9472174,9.03358694 15.9472174,8.72982788 16.1343008,8.54274449 L16.1353066,8.54199012 C16.4682346,8.20881068 18.5050296,6.17226711 18.5050296,6.17226711 C18.6926159,5.9846808 18.692113,5.68217902 18.5050296,5.49509563 C18.3179462,5.30776077 18.0149415,5.30750932 17.8278581,5.49484417 C17.8278581,5.49484417 15.7910631,7.53138774 15.4581351,7.86456718 L15.4571293,7.86532155 C15.2700459,8.0526564 14.9665383,8.0526564 14.7794549,7.865573 C14.5923715,7.67874106 14.5926229,7.374982 14.7797063,7.18789861 L17.1501837,4.81742123 C17.33777,4.62983492 17.33777,4.32783605 17.1506866,4.14075266 C16.9633518,3.95316635 16.6605985,3.95316635 16.4732637,4.14024975 L13.5782487,7.03451034 C12.7801268,7.83263224 12.6129085,8.33428732 12.4904493,8.83493656 C12.3576804,9.37607026 12.2724368,9.95014471 11.9151176,10.5599259 L5.50424235,4.14879926 C5.31665604,3.9614644 5.01415426,3.96171586 4.82707087,4.1485478 C3.1692203,5.80639837 6.6114039,9.99817284 8.76009693,12.1473688 C9.14080158,12.5280734 9.45210432,12.7606704 9.73122068,12.9145616 L4.28040514,18.3646227 C3.90623835,18.7387895 3.90674126,19.3453018 4.2806566,19.7194686 C4.65457193,20.093384 5.26083277,20.0938869 5.63525102,19.7197201 L11.7916526,13.5633185 C12.1939825,13.7297825 12.6295046,13.9842561 13.0406354,14.395387 L18.3654714,19.720223 C18.7381295,20.0931325 19.3456476,20.0943898 19.7200658,19.720223 C20.0927239,19.347062 20.0932268,18.7385381 19.7205688,18.3653771 L13.4404507,12.0850076 Z"}))}()},{name:"Travel & Places",icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Travel & Places",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-travelAndPlaces",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",d:"M19.7629331,6.05594053 L17.6103818,4.60289782 C17.5216833,4.54282474 17.4166562,4.51077233 17.3094116,4.51077233 L13.5425476,4.51077233 L13.5425476,2.53803704 C13.5425476,2.24069548 13.3018521,2 13.0045105,2 L10.9952879,2 C10.6981479,2 10.4572509,2.24089706 10.4572509,2.53803704 L10.4572509,4.51097392 L6.54725967,4.51097392 C6.25011969,4.51097392 6.00922263,4.75187098 6.00922263,5.04901096 L6.00922263,7.9548948 C6.00922263,8.25203477 6.25011969,8.49293184 6.54725967,8.49293184 L10.4574524,8.49293184 L10.4574524,10.0177397 L6.69058838,10.0177397 C6.58314225,10.0177397 6.47851833,10.0497921 6.38961824,10.1098652 L4.2370669,11.5627063 C4.0886985,11.6628953 4,11.8298098 4,12.0088195 C4,12.187426 4.0886985,12.3547436 4.2370669,12.454731 L6.38941666,13.9077737 C6.47851833,13.9676452 6.58314225,13.9998992 6.69058838,13.9998992 L10.4574524,13.9998992 L10.4574524,21.0492125 C10.4574524,21.3463525 10.6983495,21.5872496 10.9954895,21.5872496 L13.0047121,21.5872496 C13.3020537,21.5872496 13.5427491,21.3463525 13.5427491,21.0492125 L13.5427491,13.9998992 L17.4527403,13.9998992 C17.7500819,13.9998992 17.990979,13.7590021 17.990979,13.4616606 L17.990979,10.5557767 C17.990979,10.2586368 17.7500819,10.0177397 17.4527403,10.0177397 L13.5425476,10.0177397 L13.5425476,8.49293184 L17.3094116,8.49293184 C17.4166562,8.49293184 17.5216833,8.46087943 17.6103818,8.40080635 L19.7629331,6.94776364 C19.9110999,6.84777624 20,6.68045861 20,6.50185209 C20,6.32324556 19.9110999,6.15592793 19.7629331,6.05594053 Z M16.9147033,12.9236235 L13.0045105,12.9236235 L10.9952879,12.9236235 L6.85528537,12.9236235 L5.5000126,12.0086179 L6.85528537,11.0938138 L10.9954895,11.0938138 L13.0047121,11.0938138 L16.9147033,11.0938138 L16.9147033,12.9236235 Z M17.1447146,7.41685775 L13.0045105,7.41685775 L10.9952879,7.41685775 L7.08529671,7.41685775 L7.08529671,5.58724959 L10.9952879,5.58724959 L13.0045105,5.58724959 L17.1447146,5.58724959 L18.4999874,6.50185209 L17.1447146,7.41685775 Z"}))}()},{name:"Activities",icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Activities",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-activities",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",d:"M16.7634901,8.64140896 C16.8282904,9.00807085 16.5809692,9.36033265 16.2157473,9.42495299 L12.7984297,10.0403761 L14.1120765,15.2595029 C14.1379966,15.3696635 14.1613967,15.6195048 14.1432166,15.7336254 L13.5470536,20.1911683 C13.4746932,20.6199305 13.0614111,20.9086519 12.6261689,20.8362916 C12.1909266,20.7637512 11.8982451,20.3609091 11.9706055,19.9294469 L12.5469684,15.5961047 C12.5469684,15.5921446 12.3487874,14.7906005 12.3487874,14.7906005 C12.3345674,14.8269607 8.49370764,20.6031904 8.49370764,20.6031904 C8.2721265,20.9801123 7.785044,21.113313 7.40038202,20.8944319 C7.01950007,20.6782508 6.88611938,20.1951283 7.10626051,19.8180263 L10.7890794,14.294338 L9.65039358,9.89259539 C9.56777315,9.52989353 9.83597453,9.15945162 10.2064164,9.0971713 L15.4385033,8.15540647 L9.05225051,3.94158483 L8.62474831,4.55304797 C8.48866761,4.76148904 8.21182619,4.81728933 8.00428513,4.67994863 C7.79566405,4.54422793 7.73626375,4.2668465 7.87234445,4.05822543 L8.6027882,3 L16.4655886,8.18402662 C16.4798086,8.19446667 16.7132698,8.3562875 16.7634901,8.64140896 Z M9.97727525,6.02995556 C10.714019,6.02995556 11.3125221,6.62179859 11.3127021,7.34990233 C11.3127021,8.08034608 10.714019,8.67110912 9.97727525,8.67110912 C9.23603145,8.67110912 8.63788838,8.08052608 8.63788838,7.34990233 C8.63788838,6.62179859 9.23603145,6.02995556 9.97727525,6.02995556 Z"}))}()},{name:"Objects",icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Objects",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-objects",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.4781671,6.08771565 C17.130662,5.41988765 16.6736986,4.86511431 16.1074207,4.42368331 C15.5409989,3.98239614 14.9002146,3.63474585 14.1856429,3.38073244 C13.4706397,3.1270067 12.7421161,3 11.9999281,3 C11.2577401,3 10.5292165,3.12686287 9.81435712,3.38073244 C9.09949778,3.63474585 8.45885723,3.98239614 7.89243548,4.42368331 C7.32615757,4.86511431 6.86905033,5.41974381 6.52140143,6.08771565 C6.17375253,6.75568749 6,7.47630311 6,8.24985017 C6,9.46080084 6.40244999,10.5076353 7.20706229,11.3904973 C7.55873857,11.7732434 7.84971653,12.1131266 8.08014,12.410003 C8.31070731,12.7067355 8.54314447,13.0798447 8.77745149,13.5290428 C9.0117585,13.9782409 9.14466193,14.3982404 9.1758741,14.7888975 C8.80866365,15.0076712 8.62513035,15.3279928 8.62513035,15.750006 C8.62513035,16.0391153 8.72279423,16.2891013 8.918122,16.499964 C8.72279423,16.7109706 8.62513035,16.9609567 8.62513035,17.2500659 C8.62513035,17.6564011 8.80104041,17.9726952 9.15257285,18.1995237 C9.05088159,18.3790304 9.00010788,18.5625644 9.00010788,18.7501259 C9.00010788,19.1094268 9.1230867,19.3870292 9.36918817,19.5820701 C9.61514581,19.7773987 9.91791823,19.8750629 10.2773616,19.8750629 C10.4335663,20.2188297 10.6680171,20.4922609 10.9804265,20.6953565 C11.2928358,20.8984522 11.6327176,21 11.9999281,21 C12.3671385,21 12.7070203,20.8984522 13.0194297,20.6953565 C13.3319829,20.4922609 13.5664337,20.2188297 13.7226384,19.8750629 C14.0819379,19.8750629 14.3848542,19.7773987 14.6308118,19.5820701 C14.8769133,19.3870292 14.9998921,19.1094268 14.9998921,18.7501259 C14.9998921,18.5625644 14.9489746,18.3790304 14.8472833,18.1995237 C15.1988158,17.9728391 15.3747258,17.6564011 15.3747258,17.2500659 C15.3747258,16.9609567 15.2769181,16.7109706 15.0817342,16.499964 C15.2769181,16.2891013 15.3747258,16.0391153 15.3747258,15.750006 C15.3747258,15.3279928 15.1911925,15.0078151 14.8238382,14.7888975 C14.8551942,14.3982404 14.9880977,13.9782409 15.2224047,13.5290428 C15.4569994,13.0798447 15.6892927,12.7067355 15.91986,12.410003 C16.1504273,12.1131266 16.4414053,11.7732434 16.7927939,11.3904973 C17.5974062,10.5076353 18,9.46080084 18,8.24985017 C18,7.47630311 17.8261036,6.75568749 17.4781671,6.08771565 L17.4781671,6.08771565 Z M15.702957,10.3591971 C15.6247108,10.4450668 15.5056156,10.5739434 15.3455273,10.7458268 C15.1854391,10.9177101 15.0663438,11.0464429 14.9882415,11.1324565 C13.9883014,12.3278729 13.4375577,13.4917894 13.3360103,14.6246374 L10.6639897,14.6246374 C10.5624423,13.4917894 10.0116986,12.3278729 9.01161467,11.1324565 C8.93351233,11.0465867 8.81441705,10.9177101 8.654185,10.7458268 C8.49409678,10.5739434 8.37485766,10.4452107 8.29675532,10.3591971 C7.76557312,9.74199915 7.4999101,9.03878763 7.4999101,8.24985017 C7.4999101,7.68730972 7.63468338,7.16389251 7.90422994,6.6794547 C8.17392034,6.1950169 8.52545278,5.79860639 8.9589711,5.48993551 C9.39248942,5.18126463 9.87289791,4.93918957 10.4003404,4.76342264 C10.9276391,4.58751189 11.460835,4.49977226 11.9999281,4.49977226 C12.5390212,4.49977226 13.0722171,4.58751189 13.5995158,4.76342264 C14.1268144,4.93918957 14.6072229,5.18126463 15.0408851,5.48993551 C15.4744034,5.79860639 15.8260797,6.19516074 16.0954824,6.6794547 C16.3648851,7.16389251 16.4998022,7.68730972 16.4998022,8.24985017 C16.4998022,9.03878763 16.234283,9.74199915 15.702957,10.3591971 L15.702957,10.3591971 Z M13.5410693,6.16674126 C13.1543994,6.05562304 12.7655718,6 12.375018,6 C12.2734596,6 12.185567,6.03286235 12.1113402,6.09897065 C12.0371134,6.16495109 12,6.24307909 12,6.33335464 C12,6.4236302 12.0371134,6.5017582 12.1113402,6.56773864 C12.185567,6.6335912 12.2734596,6.66670929 12.375018,6.66670929 C12.7813953,6.66670929 13.1953968,6.75353238 13.6175977,6.9270507 C14.0393671,7.10069689 14.2501079,7.34722844 14.2501079,7.66677322 C14.2501079,7.75704878 14.2870774,7.83530465 14.3614481,7.90115722 C14.4358187,7.96700978 14.5235675,8 14.624982,8 C14.7266842,8 14.814433,7.96713765 14.8888036,7.90115722 C14.9630304,7.83517678 15,7.75704878 15,7.66677322 C15,7.30554312 14.8532726,6.99303114 14.560537,6.72923726 C14.2678015,6.46544339 13.9277392,6.2777316 13.5410693,6.16674126 L13.5410693,6.16674126 Z"}))}()},{name:"Symbols",icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Symbols",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-symbols",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",d:"M19.1442646,4.83575742 C18.1650678,3.85559657 16.4547374,3.73144287 14.3690482,4.52537315 C13.5381247,4.85169622 12.7411635,5.25877639 11.9896,5.74077261 C11.2380365,5.25877639 10.4410753,4.85169622 9.61015178,4.52537315 C7.52446261,3.73144287 5.82718816,3.83926056 4.8349354,4.83575742 C3.84268265,5.83225429 3.73170701,7.52793255 4.52485642,9.61567516 C4.85085852,10.4474168 5.25753831,11.2451626 5.73906044,11.997466 C5.25753831,12.7497695 4.85085852,13.5475153 4.52485642,14.3792569 C3.73170701,16.4669995 3.83941866,18.165945 4.8349354,19.1591746 C5.4505037,19.7385409 6.27598921,20.04073 7.11972793,19.9955786 C7.98011582,19.972593 8.82930089,19.7943985 9.62647173,19.4695589 C10.4517722,19.142269 11.243226,18.73521 11.9896,18.2541594 C12.7411635,18.7361557 13.5381247,19.1432358 14.3690482,19.4695589 C15.1692842,19.7955535 16.0218905,19.9737698 16.885584,19.9955786 C17.7293227,20.04073 18.5548082,19.7385409 19.1703765,19.1591746 C20.1495733,18.1790138 20.2736049,16.4669995 19.4804555,14.3792569 C19.1461294,13.5464957 18.7306859,12.7487154 18.2401396,11.997466 C18.7216617,11.2451626 19.1283415,10.4474168 19.4543436,9.61567516 C20.247493,7.52793255 20.1495733,5.83225429 19.1442646,4.83575742 Z M5.74558842,9.15173236 C5.15480636,7.59654381 5.15807034,6.36154114 5.74558842,5.76037582 C6.11674164,5.43561893 6.60182527,5.2721976 7.09361601,5.30623463 C7.79440087,5.33070398 8.48521159,5.480066 9.13360934,5.74730701 C9.70769152,5.97226391 10.2631967,6.24209666 10.7949799,6.55430611 C9.18669216,7.76170948 7.7580096,9.19179863 6.55179379,10.8016698 C6.24050431,10.2735668 5.97094753,9.72190607 5.74558842,9.15173236 Z M11.9896,7.30902996 C12.8957173,7.95068414 13.7452817,8.66882467 14.5289837,9.45558222 C15.3149674,10.2400558 16.0324016,11.0904566 16.6734247,11.997466 C16.0324016,12.9044755 15.3149674,13.7548763 14.5289837,14.5393498 C13.7452817,15.3261074 12.8957173,16.0442479 11.9896,16.6859021 C11.0834827,16.0442479 10.2339183,15.3261074 9.45021631,14.5393498 C8.66423258,13.7548763 7.94679839,12.9044755 7.30577532,11.997466 C8.59381135,10.1831894 10.1771079,8.59833411 11.9896,7.30902996 Z M9.1466653,18.247625 C7.59300638,18.8389888 6.35921842,18.8357215 5.75864438,18.247625 C5.15807034,17.6595285 5.15480636,16.411457 5.75864438,14.8562685 C5.98338002,14.2816211 6.25294737,13.725569 6.56484974,13.1932623 C7.77126614,14.8029593 9.19992209,16.2330218 10.8080359,17.4406259 C10.2762527,17.7528354 9.72074748,18.0226681 9.1466653,18.247625 Z M18.2336116,14.8431997 C18.8243937,16.3983882 18.8211297,17.6333909 18.2336116,18.2345562 C17.6460935,18.8357215 16.3992496,18.8389888 14.8455907,18.2345562 C14.2715085,18.0095993 13.7160033,17.7397666 13.1842201,17.4275571 C13.9922383,16.8232472 14.7558043,16.1615663 15.4690126,15.4476322 C16.1822445,14.7337217 16.8432746,13.9694039 17.4469902,13.1605902 C17.753106,13.6998229 18.0161333,14.2624472 18.2336116,14.8431997 Z M18.2336116,9.15173236 C18.0088759,9.72637974 17.7393086,10.2824319 17.4274062,10.8147386 C16.2209564,9.20507058 14.7923049,7.7750125 13.1842201,6.56737492 C13.7160033,6.25516547 14.2715085,5.98533272 14.8455907,5.76037582 C15.4931609,5.48865125 16.184001,5.33485713 16.885584,5.30623463 C17.3773747,5.2721976 17.8624584,5.43561893 18.2336116,5.76037582 C18.8211297,6.36154114 18.8243937,7.59654381 18.2336116,9.15173236 Z M11.9896,14.284508 C13.2514561,14.284508 14.2743925,13.2605644 14.2743925,11.997466 C14.2743925,10.7343676 13.2514561,9.71042404 11.9896,9.71042404 C10.7277439,9.71042404 9.70480748,10.7343676 9.70480748,11.997466 C9.70480748,12.6040273 9.945526,13.1857453 10.3740077,13.6146489 C10.8024894,14.0435525 11.3836353,14.284508 11.9896,14.284508 Z M11.9896,11.0173052 C12.5303955,11.0173052 12.9687968,11.4561381 12.9687968,11.997466 C12.9687968,12.5387939 12.5303955,12.9776269 11.9896,12.9776269 C11.4488045,12.9776269 11.0104032,12.5387939 11.0104032,11.997466 C11.0104032,11.4561381 11.4488045,11.0173052 11.9896,11.0173052 Z"}))}()},{name:"Flags",icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Flags",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=mr();return d.a.createElement("svg",{className:Pe()("emojiGroup-icon","emojiGroup-flags",t,o.icon),viewBox:"0 0 24 24"},d.a.createElement("title",null,Object(Ce.m)(e)),d.a.createElement("path",{fill:"currentColor",d:"M6.32484076,15.8895966 L6.35881104,19.3205945 C6.35881104,19.6942675 6.05307856,20 5.67940552,20 C5.30573248,20 5,19.6942675 5,19.3205945 L5,13.104034 L5,5.63057325 L5,4.67940552 C5,4.30573248 5.30573248,4 5.67940552,4 C6.01910828,4 6.29087049,4.23779193 6.32484076,4.57749469 L6.32484076,15.8895966 Z M18.2144374,12.7643312 C18.2823779,12.866242 18.3163482,12.9681529 18.3163482,13.0700637 C18.3163482,13.4437367 18.0106157,13.7494692 17.6369427,13.7494692 C17.5690021,13.7494692 17.5010616,13.7494692 17.433121,13.7154989 C16.7197452,13.5116773 15.9384289,13.4097665 15.089172,13.4097665 C13.9681529,13.4097665 12.881104,13.5796178 11.7261146,13.7494692 C10.5711253,13.9193206 9.34819533,14.089172 8.15923567,14.089172 C7.98938429,14.089172 7.78556263,14.089172 7.61571125,14.089172 L7.61571125,5.29087049 C7.78556263,5.29087049 7.98938429,5.29087049 8.15923567,5.29087049 C9.28025478,5.29087049 10.3673036,5.12101911 11.522293,4.95116773 C12.6772824,4.78131635 13.9002123,4.61146497 15.089172,4.61146497 C16.07431,4.61146497 16.9575372,4.74734607 17.8067941,4.985138 C18.0106157,5.05307856 18.1804671,5.18895966 18.2484076,5.39278132 C18.3163482,5.59660297 18.3163482,5.80042463 18.2144374,5.97027601 C17.670913,6.88747346 17.1273885,7.90658174 16.5498938,9.06157113 C17.1273885,10.3184713 17.670913,11.5414013 18.2144374,12.7643312 Z"}))}()}],br=[{emoji:"😀",group:0},{emoji:"😁",group:0},{emoji:"😂",group:0},{emoji:"🤣",group:0},{emoji:"😃",group:0},{emoji:"😄",group:0},{emoji:"😅",group:0},{emoji:"😆",group:0},{emoji:"😉",group:0},{emoji:"😊",group:0},{emoji:"😋",group:0},{emoji:"😎",group:0},{emoji:"😍",group:0},{emoji:"😘",group:0},{emoji:"😗",group:0},{emoji:"😙",group:0},{emoji:"😚",group:0},{emoji:"☺️",group:0},{emoji:"🙂",group:0},{emoji:"🤗",group:0},{emoji:"🤩",group:0},{emoji:"🤔",group:0},{emoji:"🤨",group:0},{emoji:"😐️",group:0},{emoji:"😑",group:0},{emoji:"😶",group:0},{emoji:"🙄",group:0},{emoji:"😏",group:0},{emoji:"😣",group:0},{emoji:"😥",group:0},{emoji:"😮",group:0},{emoji:"🤐",group:0},{emoji:"😯",group:0},{emoji:"😪",group:0},{emoji:"😫",group:0},{emoji:"😴",group:0},{emoji:"😌",group:0},{emoji:"😛",group:0},{emoji:"😜",group:0},{emoji:"😝",group:0},{emoji:"🤤",group:0},{emoji:"😒",group:0},{emoji:"😓",group:0},{emoji:"😔",group:0},{emoji:"😕",group:0},{emoji:"🙃",group:0},{emoji:"🤑",group:0},{emoji:"😲",group:0},{emoji:"☹️",group:0},{emoji:"🙁",group:0},{emoji:"😖",group:0},{emoji:"😞",group:0},{emoji:"😟",group:0},{emoji:"😤",group:0},{emoji:"😢",group:0},{emoji:"😭",group:0},{emoji:"😦",group:0},{emoji:"😧",group:0},{emoji:"😨",group:0},{emoji:"😩",group:0},{emoji:"🤯",group:0},{emoji:"😬",group:0},{emoji:"😰",group:0},{emoji:"😱",group:0},{emoji:"😳",group:0},{emoji:"🤪",group:0},{emoji:"😵",group:0},{emoji:"😡",group:0},{emoji:"😠",group:0},{emoji:"🤬",group:0},{emoji:"😷",group:0},{emoji:"🤒",group:0},{emoji:"🤕",group:0},{emoji:"🤢",group:0},{emoji:"🤮",group:0},{emoji:"🤧",group:0},{emoji:"😇",group:0},{emoji:"🤠",group:0},{emoji:"🤡",group:0},{emoji:"🤥",group:0},{emoji:"🤫",group:0},{emoji:"🤭",group:0},{emoji:"🧐",group:0},{emoji:"🤓",group:0},{emoji:"😈",group:0},{emoji:"👿",group:0},{emoji:"👹",group:0},{emoji:"👺",group:0},{emoji:"💀",group:0},{emoji:"☠️",group:0},{emoji:"👻",group:0},{emoji:"👽️",group:0},{emoji:"👾",group:0},{emoji:"🤖",group:0},{emoji:"💩",group:0},{emoji:"😺",group:0},{emoji:"😸",group:0},{emoji:"😹",group:0},{emoji:"😻",group:0},{emoji:"😼",group:0},{emoji:"😽",group:0},{emoji:"🙀",group:0},{emoji:"😿",group:0},{emoji:"😾",group:0},{emoji:"🙈",group:0},{emoji:"🙉",group:0},{emoji:"🙊",group:0},{emoji:"👶",group:0},{emoji:"🧒",group:0},{emoji:"👦",group:0},{emoji:"👧",group:0},{emoji:"🧑",group:0},{emoji:"👨",group:0},{emoji:"👩",group:0},{emoji:"🧓",group:0},{emoji:"👴",group:0},{emoji:"👵",group:0},{emoji:"👨‍⚕️",group:0},{emoji:"👩‍⚕️",group:0},{emoji:"👨‍🎓",group:0},{emoji:"👩‍🎓",group:0},{emoji:"👨‍🏫",group:0},{emoji:"👩‍🏫",group:0},{emoji:"👨‍⚖️",group:0},{emoji:"👩‍⚖️",group:0},{emoji:"👨‍🌾",group:0},{emoji:"👩‍🌾",group:0},{emoji:"👨‍🍳",group:0},{emoji:"👩‍🍳",group:0},{emoji:"👨‍🔧",group:0},{emoji:"👩‍🔧",group:0},{emoji:"👨‍🏭",group:0},{emoji:"👩‍🏭",group:0},{emoji:"👨‍💼",group:0},{emoji:"👩‍💼",group:0},{emoji:"👨‍🔬",group:0},{emoji:"👩‍🔬",group:0},{emoji:"👨‍💻",group:0},{emoji:"👩‍💻",group:0},{emoji:"👨‍🎤",group:0},{emoji:"👩‍🎤",group:0},{emoji:"👨‍🎨",group:0},{emoji:"👩‍🎨",group:0},{emoji:"👨‍✈️",group:0},{emoji:"👩‍✈️",group:0},{emoji:"👨‍🚀",group:0},{emoji:"👩‍🚀",group:0},{emoji:"👨‍🚒",group:0},{emoji:"👩‍🚒",group:0},{emoji:"👮",group:0},{emoji:"👮‍♂️",group:0},{emoji:"👮‍♀️",group:0},{emoji:"🕵️",group:0},{emoji:"🕵️‍♂️",group:0},{emoji:"🕵️‍♀️",group:0},{emoji:"💂",group:0},{emoji:"💂‍♂️",group:0},{emoji:"💂‍♀️",group:0},{emoji:"👷",group:0},{emoji:"👷‍♂️",group:0},{emoji:"👷‍♀️",group:0},{emoji:"🤴",group:0},{emoji:"👸",group:0},{emoji:"👳",group:0},{emoji:"👳‍♂️",group:0},{emoji:"👳‍♀️",group:0},{emoji:"👲",group:0},{emoji:"🧕",group:0},{emoji:"🧔",group:0},{emoji:"👱",group:0},{emoji:"👱‍♂️",group:0},{emoji:"👱‍♀️",group:0},{emoji:"🤵",group:0},{emoji:"👰",group:0},{emoji:"🤰",group:0},{emoji:"🤱",group:0},{emoji:"👼",group:0},{emoji:"🎅",group:0},{emoji:"🤶",group:0},{emoji:"🧙",group:0},{emoji:"🧙‍♀️",group:0},{emoji:"🧙‍♂️",group:0},{emoji:"🧚",group:0},{emoji:"🧚‍♀️",group:0},{emoji:"🧚‍♂️",group:0},{emoji:"🧛",group:0},{emoji:"🧛‍♀️",group:0},{emoji:"🧛‍♂️",group:0},{emoji:"🧜",group:0},{emoji:"🧜‍♀️",group:0},{emoji:"🧜‍♂️",group:0},{emoji:"🧝",group:0},{emoji:"🧝‍♀️",group:0},{emoji:"🧝‍♂️",group:0},{emoji:"🧞",group:0},{emoji:"🧞‍♀️",group:0},{emoji:"🧞‍♂️",group:0},{emoji:"🧟",group:0},{emoji:"🧟‍♀️",group:0},{emoji:"🧟‍♂️",group:0},{emoji:"🙍",group:0},{emoji:"🙍‍♂️",group:0},{emoji:"🙍‍♀️",group:0},{emoji:"🙎",group:0},{emoji:"🙎‍♂️",group:0},{emoji:"🙎‍♀️",group:0},{emoji:"🙅",group:0},{emoji:"🙅‍♂️",group:0},{emoji:"🙅‍♀️",group:0},{emoji:"🙆",group:0},{emoji:"🙆‍♂️",group:0},{emoji:"🙆‍♀️",group:0},{emoji:"💁",group:0},{emoji:"💁‍♂️",group:0},{emoji:"💁‍♀️",group:0},{emoji:"🙋",group:0},{emoji:"🙋‍♂️",group:0},{emoji:"🙋‍♀️",group:0},{emoji:"🙇",group:0},{emoji:"🙇‍♂️",group:0},{emoji:"🙇‍♀️",group:0},{emoji:"🤦",group:0},{emoji:"🤦‍♂️",group:0},{emoji:"🤦‍♀️",group:0},{emoji:"🤷",group:0},{emoji:"🤷‍♂️",group:0},{emoji:"🤷‍♀️",group:0},{emoji:"💆",group:0},{emoji:"💆‍♂️",group:0},{emoji:"💆‍♀️",group:0},{emoji:"💇",group:0},{emoji:"💇‍♂️",group:0},{emoji:"💇‍♀️",group:0},{emoji:"🚶",group:0},{emoji:"🚶‍♂️",group:0},{emoji:"🚶‍♀️",group:0},{emoji:"🏃",group:0},{emoji:"🏃‍♂️",group:0},{emoji:"🏃‍♀️",group:0},{emoji:"💃",group:0},{emoji:"🕺",group:0},{emoji:"👯",group:0},{emoji:"👯‍♂️",group:0},{emoji:"👯‍♀️",group:0},{emoji:"🧖",group:0},{emoji:"🧖‍♀️",group:0},{emoji:"🧖‍♂️",group:0},{emoji:"🧗",group:0},{emoji:"🧗‍♀️",group:0},{emoji:"🧗‍♂️",group:0},{emoji:"🧘",group:0},{emoji:"🧘‍♀️",group:0},{emoji:"🧘‍♂️",group:0},{emoji:"🛀",group:0},{emoji:"🛌",group:0},{emoji:"🕴️",group:0},{emoji:"🗣️",group:0},{emoji:"👤",group:0},{emoji:"👥",group:0},{emoji:"🤺",group:0},{emoji:"🏇",group:0},{emoji:"⛷️",group:0},{emoji:"🏂️",group:0},{emoji:"🏌️",group:0},{emoji:"🏌️‍♂️",group:0},{emoji:"🏌️‍♀️",group:0},{emoji:"🏄️",group:0},{emoji:"🏄‍♂️",group:0},{emoji:"🏄‍♀️",group:0},{emoji:"🚣",group:0},{emoji:"🚣‍♂️",group:0},{emoji:"🚣‍♀️",group:0},{emoji:"🏊️",group:0},{emoji:"🏊‍♂️",group:0},{emoji:"🏊‍♀️",group:0},{emoji:"⛹️",group:0},{emoji:"⛹️‍♂️",group:0},{emoji:"⛹️‍♀️",group:0},{emoji:"🏋️",group:0},{emoji:"🏋️‍♂️",group:0},{emoji:"🏋️‍♀️",group:0},{emoji:"🚴",group:0},{emoji:"🚴‍♂️",group:0},{emoji:"🚴‍♀️",group:0},{emoji:"🚵",group:0},{emoji:"🚵‍♂️",group:0},{emoji:"🚵‍♀️",group:0},{emoji:"🏎️",group:0},{emoji:"🏍️",group:0},{emoji:"🤸",group:0},{emoji:"🤸‍♂️",group:0},{emoji:"🤸‍♀️",group:0},{emoji:"🤼",group:0},{emoji:"🤼‍♂️",group:0},{emoji:"🤼‍♀️",group:0},{emoji:"🤽",group:0},{emoji:"🤽‍♂️",group:0},{emoji:"🤽‍♀️",group:0},{emoji:"🤾",group:0},{emoji:"🤾‍♂️",group:0},{emoji:"🤾‍♀️",group:0},{emoji:"🤹",group:0},{emoji:"🤹‍♂️",group:0},{emoji:"🤹‍♀️",group:0},{emoji:"👫",group:0},{emoji:"👬",group:0},{emoji:"👭",group:0},{emoji:"💏",group:0},{emoji:"👩‍❤️‍💋‍👨",group:0},{emoji:"👨‍❤️‍💋‍👨",group:0},{emoji:"👩‍❤️‍💋‍👩",group:0},{emoji:"💑",group:0},{emoji:"👩‍❤️‍👨",group:0},{emoji:"👨‍❤️‍👨",group:0},{emoji:"👩‍❤️‍👩",group:0},{emoji:"👪️",group:0},{emoji:"👨‍👩‍👦",group:0},{emoji:"👨‍👩‍👧",group:0},{emoji:"👨‍👩‍👧‍👦",group:0},{emoji:"👨‍👩‍👦‍👦",group:0},{emoji:"👨‍👩‍👧‍👧",group:0},{emoji:"👨‍👨‍👦",group:0},{emoji:"👨‍👨‍👧",group:0},{emoji:"👨‍👨‍👧‍👦",group:0},{emoji:"👨‍👨‍👦‍👦",group:0},{emoji:"👨‍👨‍👧‍👧",group:0},{emoji:"👩‍👩‍👦",group:0},{emoji:"👩‍👩‍👧",group:0},{emoji:"👩‍👩‍👧‍👦",group:0},{emoji:"👩‍👩‍👦‍👦",group:0},{emoji:"👩‍👩‍👧‍👧",group:0},{emoji:"👨‍👦",group:0},{emoji:"👨‍👦‍👦",group:0},{emoji:"👨‍👧",group:0},{emoji:"👨‍👧‍👦",group:0},{emoji:"👨‍👧‍👧",group:0},{emoji:"👩‍👦",group:0},{emoji:"👩‍👦‍👦",group:0},{emoji:"👩‍👧",group:0},{emoji:"👩‍👧‍👦",group:0},{emoji:"👩‍👧‍👧",group:0},{emoji:"🤳",group:0},{emoji:"💪",group:0},{emoji:"👈️",group:0},{emoji:"👉️",group:0},{emoji:"☝️",group:0},{emoji:"👆️",group:0},{emoji:"🖕",group:0},{emoji:"👇️",group:0},{emoji:"✌️",group:0},{emoji:"🤞",group:0},{emoji:"🖖",group:0},{emoji:"🤘",group:0},{emoji:"🤙",group:0},{emoji:"🖐️",group:0},{emoji:"✋",group:0},{emoji:"👌",group:0},{emoji:"👍️",group:0},{emoji:"👎️",group:0},{emoji:"✊",group:0},{emoji:"👊",group:0},{emoji:"🤛",group:0},{emoji:"🤜",group:0},{emoji:"🤚",group:0},{emoji:"👋",group:0},{emoji:"🤟",group:0},{emoji:"✍️",group:0},{emoji:"👏",group:0},{emoji:"👐",group:0},{emoji:"🙌",group:0},{emoji:"🤲",group:0},{emoji:"🙏",group:0},{emoji:"🤝",group:0},{emoji:"💅",group:0},{emoji:"👂️",group:0},{emoji:"👃",group:0},{emoji:"👣",group:0},{emoji:"👀",group:0},{emoji:"👁️",group:0},{emoji:"👁️‍🗨️",group:0},{emoji:"🧠",group:0},{emoji:"👅",group:0},{emoji:"👄",group:0},{emoji:"💋",group:0},{emoji:"💘",group:0},{emoji:"❤️",group:0},{emoji:"💓",group:0},{emoji:"💔",group:0},{emoji:"💕",group:0},{emoji:"💖",group:0},{emoji:"💗",group:0},{emoji:"💙",group:0},{emoji:"💚",group:0},{emoji:"💛",group:0},{emoji:"🧡",group:0},{emoji:"💜",group:0},{emoji:"🖤",group:0},{emoji:"💝",group:0},{emoji:"💞",group:0},{emoji:"💟",group:0},{emoji:"❣️",group:0},{emoji:"💌",group:0},{emoji:"💤",group:0},{emoji:"💢",group:0},{emoji:"💣️",group:0},{emoji:"💥",group:0},{emoji:"💦",group:0},{emoji:"💨",group:0},{emoji:"💫",group:0},{emoji:"💬",group:0},{emoji:"🗨️",group:0},{emoji:"🗯️",group:0},{emoji:"💭",group:0},{emoji:"🕳️",group:0},{emoji:"👓️",group:0},{emoji:"🕶️",group:0},{emoji:"👔",group:0},{emoji:"👕",group:0},{emoji:"👖",group:0},{emoji:"🧣",group:0},{emoji:"🧤",group:0},{emoji:"🧥",group:0},{emoji:"🧦",group:0},{emoji:"👗",group:0},{emoji:"👘",group:0},{emoji:"👙",group:0},{emoji:"👚",group:0},{emoji:"👛",group:0},{emoji:"👜",group:0},{emoji:"👝",group:0},{emoji:"🛍️",group:0},{emoji:"🎒",group:0},{emoji:"👞",group:0},{emoji:"👟",group:0},{emoji:"👠",group:0},{emoji:"👡",group:0},{emoji:"👢",group:0},{emoji:"👑",group:0},{emoji:"👒",group:0},{emoji:"🎩",group:0},{emoji:"🎓️",group:0},{emoji:"🧢",group:0},{emoji:"⛑️",group:0},{emoji:"📿",group:0},{emoji:"💄",group:0},{emoji:"💍",group:0},{emoji:"💎",group:0},{emoji:"🐵",group:1},{emoji:"🐒",group:1},{emoji:"🦍",group:1},{emoji:"🐶",group:1},{emoji:"🐕️",group:1},{emoji:"🐩",group:1},{emoji:"🐺",group:1},{emoji:"🦊",group:1},{emoji:"🐱",group:1},{emoji:"🐈️",group:1},{emoji:"🦁",group:1},{emoji:"🐯",group:1},{emoji:"🐅",group:1},{emoji:"🐆",group:1},{emoji:"🐴",group:1},{emoji:"🐎",group:1},{emoji:"🦄",group:1},{emoji:"🦓",group:1},{emoji:"🦌",group:1},{emoji:"🐮",group:1},{emoji:"🐂",group:1},{emoji:"🐃",group:1},{emoji:"🐄",group:1},{emoji:"🐷",group:1},{emoji:"🐖",group:1},{emoji:"🐗",group:1},{emoji:"🐽",group:1},{emoji:"🐏",group:1},{emoji:"🐑",group:1},{emoji:"🐐",group:1},{emoji:"🐪",group:1},{emoji:"🐫",group:1},{emoji:"🦒",group:1},{emoji:"🐘",group:1},{emoji:"🦏",group:1},{emoji:"🐭",group:1},{emoji:"🐁",group:1},{emoji:"🐀",group:1},{emoji:"🐹",group:1},{emoji:"🐰",group:1},{emoji:"🐇",group:1},{emoji:"🐿️",group:1},{emoji:"🦔",group:1},{emoji:"🦇",group:1},{emoji:"🐻",group:1},{emoji:"🐨",group:1},{emoji:"🐼",group:1},{emoji:"🐾",group:1},{emoji:"🦃",group:1},{emoji:"🐔",group:1},{emoji:"🐓",group:1},{emoji:"🐣",group:1},{emoji:"🐤",group:1},{emoji:"🐥",group:1},{emoji:"🐦️",group:1},{emoji:"🐧",group:1},{emoji:"🕊️",group:1},{emoji:"🦅",group:1},{emoji:"🦆",group:1},{emoji:"🦉",group:1},{emoji:"🐸",group:1},{emoji:"🐊",group:1},{emoji:"🐢",group:1},{emoji:"🦎",group:1},{emoji:"🐍",group:1},{emoji:"🐲",group:1},{emoji:"🐉",group:1},{emoji:"🦕",group:1},{emoji:"🦖",group:1},{emoji:"🐳",group:1},{emoji:"🐋",group:1},{emoji:"🐬",group:1},{emoji:"🐟️",group:1},{emoji:"🐠",group:1},{emoji:"🐡",group:1},{emoji:"🦈",group:1},{emoji:"🐙",group:1},{emoji:"🐚",group:1},{emoji:"🦀",group:1},{emoji:"🦐",group:1},{emoji:"🦑",group:1},{emoji:"🐌",group:1},{emoji:"🦋",group:1},{emoji:"🐛",group:1},{emoji:"🐜",group:1},{emoji:"🐝",group:1},{emoji:"🐞",group:1},{emoji:"🦗",group:1},{emoji:"🕷️",group:1},{emoji:"🕸️",group:1},{emoji:"🦂",group:1},{emoji:"💐",group:1},{emoji:"🌸",group:1},{emoji:"💮",group:1},{emoji:"🏵️",group:1},{emoji:"🌹",group:1},{emoji:"🥀",group:1},{emoji:"🌺",group:1},{emoji:"🌻",group:1},{emoji:"🌼",group:1},{emoji:"🌷",group:1},{emoji:"🌱",group:1},{emoji:"🌲",group:1},{emoji:"🌳",group:1},{emoji:"🌴",group:1},{emoji:"🌵",group:1},{emoji:"🌾",group:1},{emoji:"🌿",group:1},{emoji:"☘️",group:1},{emoji:"🍀",group:1},{emoji:"🍁",group:1},{emoji:"🍂",group:1},{emoji:"🍃",group:1},{emoji:"🍇",group:2},{emoji:"🍈",group:2},{emoji:"🍉",group:2},{emoji:"🍊",group:2},{emoji:"🍋",group:2},{emoji:"🍌",group:2},{emoji:"🍍",group:2},{emoji:"🍎",group:2},{emoji:"🍏",group:2},{emoji:"🍐",group:2},{emoji:"🍑",group:2},{emoji:"🍒",group:2},{emoji:"🍓",group:2},{emoji:"🥝",group:2},{emoji:"🍅",group:2},{emoji:"🥥",group:2},{emoji:"🥑",group:2},{emoji:"🍆",group:2},{emoji:"🥔",group:2},{emoji:"🥕",group:2},{emoji:"🌽",group:2},{emoji:"🌶️",group:2},{emoji:"🥒",group:2},{emoji:"🥦",group:2},{emoji:"🍄",group:2},{emoji:"🥜",group:2},{emoji:"🌰",group:2},{emoji:"🍞",group:2},{emoji:"🥐",group:2},{emoji:"🥖",group:2},{emoji:"🥨",group:2},{emoji:"🥞",group:2},{emoji:"🧀",group:2},{emoji:"🍖",group:2},{emoji:"🍗",group:2},{emoji:"🥩",group:2},{emoji:"🥓",group:2},{emoji:"🍔",group:2},{emoji:"🍟",group:2},{emoji:"🍕",group:2},{emoji:"🌭",group:2},{emoji:"🥪",group:2},{emoji:"🌮",group:2},{emoji:"🌯",group:2},{emoji:"🥙",group:2},{emoji:"🥚",group:2},{emoji:"🍳",group:2},{emoji:"🥘",group:2},{emoji:"🍲",group:2},{emoji:"🥣",group:2},{emoji:"🥗",group:2},{emoji:"🍿",group:2},{emoji:"🥫",group:2},{emoji:"🍱",group:2},{emoji:"🍘",group:2},{emoji:"🍙",group:2},{emoji:"🍚",group:2},{emoji:"🍛",group:2},{emoji:"🍜",group:2},{emoji:"🍝",group:2},{emoji:"🍠",group:2},{emoji:"🍢",group:2},{emoji:"🍣",group:2},{emoji:"🍤",group:2},{emoji:"🍥",group:2},{emoji:"🍡",group:2},{emoji:"🥟",group:2},{emoji:"🥠",group:2},{emoji:"🥡",group:2},{emoji:"🍦",group:2},{emoji:"🍧",group:2},{emoji:"🍨",group:2},{emoji:"🍩",group:2},{emoji:"🍪",group:2},{emoji:"🎂",group:2},{emoji:"🍰",group:2},{emoji:"🥧",group:2},{emoji:"🍫",group:2},{emoji:"🍬",group:2},{emoji:"🍭",group:2},{emoji:"🍮",group:2},{emoji:"🍯",group:2},{emoji:"🍼",group:2},{emoji:"🥛",group:2},{emoji:"☕️",group:2},{emoji:"🍵",group:2},{emoji:"🍶",group:2},{emoji:"🍾",group:2},{emoji:"🍷",group:2},{emoji:"🍸️",group:2},{emoji:"🍹",group:2},{emoji:"🍺",group:2},{emoji:"🍻",group:2},{emoji:"🥂",group:2},{emoji:"🥃",group:2},{emoji:"🥤",group:2},{emoji:"🥢",group:2},{emoji:"🍽️",group:2},{emoji:"🍴",group:2},{emoji:"🥄",group:2},{emoji:"🔪",group:2},{emoji:"🏺",group:2},{emoji:"🌍️",group:3},{emoji:"🌎️",group:3},{emoji:"🌏️",group:3},{emoji:"🌐",group:3},{emoji:"🗺️",group:3},{emoji:"🗾",group:3},{emoji:"🏔️",group:3},{emoji:"⛰️",group:3},{emoji:"🌋",group:3},{emoji:"🗻",group:3},{emoji:"🏕️",group:3},{emoji:"🏖️",group:3},{emoji:"🏜️",group:3},{emoji:"🏝️",group:3},{emoji:"🏞️",group:3},{emoji:"🏟️",group:3},{emoji:"🏛️",group:3},{emoji:"🏗️",group:3},{emoji:"🏘️",group:3},{emoji:"🏙️",group:3},{emoji:"🏚️",group:3},{emoji:"🏠️",group:3},{emoji:"🏡",group:3},{emoji:"🏢",group:3},{emoji:"🏣",group:3},{emoji:"🏤",group:3},{emoji:"🏥",group:3},{emoji:"🏦",group:3},{emoji:"🏨",group:3},{emoji:"🏩",group:3},{emoji:"🏪",group:3},{emoji:"🏫",group:3},{emoji:"🏬",group:3},{emoji:"🏭️",group:3},{emoji:"🏯",group:3},{emoji:"🏰",group:3},{emoji:"💒",group:3},{emoji:"🗼",group:3},{emoji:"🗽",group:3},{emoji:"⛪️",group:3},{emoji:"🕌",group:3},{emoji:"🕍",group:3},{emoji:"⛩️",group:3},{emoji:"🕋",group:3},{emoji:"⛲️",group:3},{emoji:"⛺️",group:3},{emoji:"🌁",group:3},{emoji:"🌃",group:3},{emoji:"🌄",group:3},{emoji:"🌅",group:3},{emoji:"🌆",group:3},{emoji:"🌇",group:3},{emoji:"🌉",group:3},{emoji:"♨️",group:3},{emoji:"🌌",group:3},{emoji:"🎠",group:3},{emoji:"🎡",group:3},{emoji:"🎢",group:3},{emoji:"💈",group:3},{emoji:"🎪",group:3},{emoji:"🎭️",group:3},{emoji:"🖼️",group:3},{emoji:"🎨",group:3},{emoji:"🎰",group:3},{emoji:"🚂",group:3},{emoji:"🚃",group:3},{emoji:"🚄",group:3},{emoji:"🚅",group:3},{emoji:"🚆",group:3},{emoji:"🚇️",group:3},{emoji:"🚈",group:3},{emoji:"🚉",group:3},{emoji:"🚊",group:3},{emoji:"🚝",group:3},{emoji:"🚞",group:3},{emoji:"🚋",group:3},{emoji:"🚌",group:3},{emoji:"🚍️",group:3},{emoji:"🚎",group:3},{emoji:"🚐",group:3},{emoji:"🚑️",group:3},{emoji:"🚒",group:3},{emoji:"🚓",group:3},{emoji:"🚔️",group:3},{emoji:"🚕",group:3},{emoji:"🚖",group:3},{emoji:"🚗",group:3},{emoji:"🚘️",group:3},{emoji:"🚙",group:3},{emoji:"🚚",group:3},{emoji:"🚛",group:3},{emoji:"🚜",group:3},{emoji:"🚲️",group:3},{emoji:"🛴",group:3},{emoji:"🛵",group:3},{emoji:"🚏",group:3},{emoji:"🛣️",group:3},{emoji:"🛤️",group:3},{emoji:"⛽️",group:3},{emoji:"🚨",group:3},{emoji:"🚥",group:3},{emoji:"🚦",group:3},{emoji:"🚧",group:3},{emoji:"🛑",group:3},{emoji:"⚓️",group:3},{emoji:"⛵️",group:3},{emoji:"🛶",group:3},{emoji:"🚤",group:3},{emoji:"🛳️",group:3},{emoji:"⛴️",group:3},{emoji:"🛥️",group:3},{emoji:"🚢",group:3},{emoji:"✈️",group:3},{emoji:"🛩️",group:3},{emoji:"🛫",group:3},{emoji:"🛬",group:3},{emoji:"💺",group:3},{emoji:"🚁",group:3},{emoji:"🚟",group:3},{emoji:"🚠",group:3},{emoji:"🚡",group:3},{emoji:"🛰️",group:3},{emoji:"🚀",group:3},{emoji:"🛸",group:3},{emoji:"🛎️",group:3},{emoji:"🚪",group:3},{emoji:"🛏️",group:3},{emoji:"🛋️",group:3},{emoji:"🚽",group:3},{emoji:"🚿",group:3},{emoji:"🛁",group:3},{emoji:"⌛️",group:3},{emoji:"⏳️",group:3},{emoji:"⌚️",group:3},{emoji:"⏰",group:3},{emoji:"⏱️",group:3},{emoji:"⏲️",group:3},{emoji:"🕰️",group:3},{emoji:"🕛️",group:3},{emoji:"🕧️",group:3},{emoji:"🕐️",group:3},{emoji:"🕜️",group:3},{emoji:"🕑️",group:3},{emoji:"🕝️",group:3},{emoji:"🕒️",group:3},{emoji:"🕞️",group:3},{emoji:"🕓️",group:3},{emoji:"🕟️",group:3},{emoji:"🕔️",group:3},{emoji:"🕠️",group:3},{emoji:"🕕️",group:3},{emoji:"🕡️",group:3},{emoji:"🕖️",group:3},{emoji:"🕢️",group:3},{emoji:"🕗️",group:3},{emoji:"🕣️",group:3},{emoji:"🕘️",group:3},{emoji:"🕤️",group:3},{emoji:"🕙️",group:3},{emoji:"🕥️",group:3},{emoji:"🕚️",group:3},{emoji:"🕦️",group:3},{emoji:"🌑",group:3},{emoji:"🌒",group:3},{emoji:"🌓",group:3},{emoji:"🌔",group:3},{emoji:"🌕️",group:3},{emoji:"🌖",group:3},{emoji:"🌗",group:3},{emoji:"🌘",group:3},{emoji:"🌙",group:3},{emoji:"🌚",group:3},{emoji:"🌛",group:3},{emoji:"🌜️",group:3},{emoji:"🌡️",group:3},{emoji:"☀️",group:3},{emoji:"🌝",group:3},{emoji:"🌞",group:3},{emoji:"⭐️",group:3},{emoji:"🌟",group:3},{emoji:"🌠",group:3},{emoji:"☁️",group:3},{emoji:"⛅️",group:3},{emoji:"⛈️",group:3},{emoji:"🌤️",group:3},{emoji:"🌥️",group:3},{emoji:"🌦️",group:3},{emoji:"🌧️",group:3},{emoji:"🌨️",group:3},{emoji:"🌩️",group:3},{emoji:"🌪️",group:3},{emoji:"🌫️",group:3},{emoji:"🌬️",group:3},{emoji:"🌀",group:3},{emoji:"🌈",group:3},{emoji:"🌂",group:3},{emoji:"☂️",group:3},{emoji:"☔️",group:3},{emoji:"⛱️",group:3},{emoji:"⚡️",group:3},{emoji:"❄️",group:3},{emoji:"☃️",group:3},{emoji:"⛄️",group:3},{emoji:"☄️",group:3},{emoji:"🔥",group:3},{emoji:"💧",group:3},{emoji:"🌊",group:3},{emoji:"🎃",group:4},{emoji:"🎄",group:4},{emoji:"🎆",group:4},{emoji:"🎇",group:4},{emoji:"✨",group:4},{emoji:"🎈",group:4},{emoji:"🎉",group:4},{emoji:"🎊",group:4},{emoji:"🎋",group:4},{emoji:"🎍",group:4},{emoji:"🎎",group:4},{emoji:"🎏",group:4},{emoji:"🎐",group:4},{emoji:"🎑",group:4},{emoji:"🎀",group:4},{emoji:"🎁",group:4},{emoji:"🎗️",group:4},{emoji:"🎟️",group:4},{emoji:"🎫",group:4},{emoji:"🎖️",group:4},{emoji:"🏆️",group:4},{emoji:"🏅",group:4},{emoji:"🥇",group:4},{emoji:"🥈",group:4},{emoji:"🥉",group:4},{emoji:"⚽️",group:4},{emoji:"⚾️",group:4},{emoji:"🏀",group:4},{emoji:"🏐",group:4},{emoji:"🏈",group:4},{emoji:"🏉",group:4},{emoji:"🎾",group:4},{emoji:"🎱",group:4},{emoji:"🎳",group:4},{emoji:"🏏",group:4},{emoji:"🏑",group:4},{emoji:"🏒",group:4},{emoji:"🏓",group:4},{emoji:"🏸",group:4},{emoji:"🥊",group:4},{emoji:"🥋",group:4},{emoji:"🥅",group:4},{emoji:"🎯",group:4},{emoji:"⛳️",group:4},{emoji:"⛸️",group:4},{emoji:"🎣",group:4},{emoji:"🎽",group:4},{emoji:"🎿",group:4},{emoji:"🛷",group:4},{emoji:"🥌",group:4},{emoji:"🎮️",group:4},{emoji:"🕹️",group:4},{emoji:"🎲",group:4},{emoji:"♠️",group:4},{emoji:"♥️",group:4},{emoji:"♦️",group:4},{emoji:"♣️",group:4},{emoji:"🃏",group:4},{emoji:"🀄️",group:4},{emoji:"🎴",group:4},{emoji:"🔇",group:5},{emoji:"🔈️",group:5},{emoji:"🔉",group:5},{emoji:"🔊",group:5},{emoji:"📢",group:5},{emoji:"📣",group:5},{emoji:"📯",group:5},{emoji:"🔔",group:5},{emoji:"🔕",group:5},{emoji:"🎼",group:5},{emoji:"🎵",group:5},{emoji:"🎶",group:5},{emoji:"🎙️",group:5},{emoji:"🎚️",group:5},{emoji:"🎛️",group:5},{emoji:"🎤",group:5},{emoji:"🎧️",group:5},{emoji:"📻️",group:5},{emoji:"🎷",group:5},{emoji:"🎸",group:5},{emoji:"🎹",group:5},{emoji:"🎺",group:5},{emoji:"🎻",group:5},{emoji:"🥁",group:5},{emoji:"📱",group:5},{emoji:"📲",group:5},{emoji:"☎️",group:5},{emoji:"📞",group:5},{emoji:"📟️",group:5},{emoji:"📠",group:5},{emoji:"🔋",group:5},{emoji:"🔌",group:5},{emoji:"💻️",group:5},{emoji:"🖥️",group:5},{emoji:"🖨️",group:5},{emoji:"⌨️",group:5},{emoji:"🖱️",group:5},{emoji:"🖲️",group:5},{emoji:"💽",group:5},{emoji:"💾",group:5},{emoji:"💿️",group:5},{emoji:"📀",group:5},{emoji:"🎥",group:5},{emoji:"🎞️",group:5},{emoji:"📽️",group:5},{emoji:"🎬️",group:5},{emoji:"📺️",group:5},{emoji:"📷️",group:5},{emoji:"📸",group:5},{emoji:"📹️",group:5},{emoji:"📼",group:5},{emoji:"🔍️",group:5},{emoji:"🔎",group:5},{emoji:"🔬",group:5},{emoji:"🔭",group:5},{emoji:"📡",group:5},{emoji:"🕯️",group:5},{emoji:"💡",group:5},{emoji:"🔦",group:5},{emoji:"🏮",group:5},{emoji:"📔",group:5},{emoji:"📕",group:5},{emoji:"📖",group:5},{emoji:"📗",group:5},{emoji:"📘",group:5},{emoji:"📙",group:5},{emoji:"📚️",group:5},{emoji:"📓",group:5},{emoji:"📒",group:5},{emoji:"📃",group:5},{emoji:"📜",group:5},{emoji:"📄",group:5},{emoji:"📰",group:5},{emoji:"🗞️",group:5},{emoji:"📑",group:5},{emoji:"🔖",group:5},{emoji:"🏷️",group:5},{emoji:"💰️",group:5},{emoji:"💴",group:5},{emoji:"💵",group:5},{emoji:"💶",group:5},{emoji:"💷",group:5},{emoji:"💸",group:5},{emoji:"💳️",group:5},{emoji:"💹",group:5},{emoji:"💱",group:5},{emoji:"💲",group:5},{emoji:"✉️",group:5},{emoji:"📧",group:5},{emoji:"📨",group:5},{emoji:"📩",group:5},{emoji:"📤️",group:5},{emoji:"📥️",group:5},{emoji:"📦️",group:5},{emoji:"📫️",group:5},{emoji:"📪️",group:5},{emoji:"📬️",group:5},{emoji:"📭️",group:5},{emoji:"📮",group:5},{emoji:"🗳️",group:5},{emoji:"✏️",group:5},{emoji:"✒️",group:5},{emoji:"🖋️",group:5},{emoji:"🖊️",group:5},{emoji:"🖌️",group:5},{emoji:"🖍️",group:5},{emoji:"📝",group:5},{emoji:"💼",group:5},{emoji:"📁",group:5},{emoji:"📂",group:5},{emoji:"🗂️",group:5},{emoji:"📅",group:5},{emoji:"📆",group:5},{emoji:"🗒️",group:5},{emoji:"🗓️",group:5},{emoji:"📇",group:5},{emoji:"📈",group:5},{emoji:"📉",group:5},{emoji:"📊",group:5},{emoji:"📋️",group:5},{emoji:"📌",group:5},{emoji:"📍",group:5},{emoji:"📎",group:5},{emoji:"🖇️",group:5},{emoji:"📏",group:5},{emoji:"📐",group:5},{emoji:"✂️",group:5},{emoji:"🗃️",group:5},{emoji:"🗄️",group:5},{emoji:"🗑️",group:5},{emoji:"🔒️",group:5},{emoji:"🔓️",group:5},{emoji:"🔏",group:5},{emoji:"🔐",group:5},{emoji:"🔑",group:5},{emoji:"🗝️",group:5},{emoji:"🔨",group:5},{emoji:"⛏️",group:5},{emoji:"⚒️",group:5},{emoji:"🛠️",group:5},{emoji:"🗡️",group:5},{emoji:"⚔️",group:5},{emoji:"🔫",group:5},{emoji:"🏹",group:5},{emoji:"🛡️",group:5},{emoji:"🔧",group:5},{emoji:"🔩",group:5},{emoji:"⚙️",group:5},{emoji:"🗜️",group:5},{emoji:"⚗️",group:5},{emoji:"⚖️",group:5},{emoji:"🔗",group:5},{emoji:"⛓️",group:5},{emoji:"💉",group:5},{emoji:"💊",group:5},{emoji:"🚬",group:5},{emoji:"⚰️",group:5},{emoji:"⚱️",group:5},{emoji:"🗿",group:5},{emoji:"🛢️",group:5},{emoji:"🔮",group:5},{emoji:"🛒",group:5},{emoji:"🏧",group:6},{emoji:"🚮",group:6},{emoji:"🚰",group:6},{emoji:"♿️",group:6},{emoji:"🚹️",group:6},{emoji:"🚺️",group:6},{emoji:"🚻",group:6},{emoji:"🚼️",group:6},{emoji:"🚾",group:6},{emoji:"🛂",group:6},{emoji:"🛃",group:6},{emoji:"🛄",group:6},{emoji:"🛅",group:6},{emoji:"⚠️",group:6},{emoji:"🚸",group:6},{emoji:"⛔️",group:6},{emoji:"🚫",group:6},{emoji:"🚳",group:6},{emoji:"🚭️",group:6},{emoji:"🚯",group:6},{emoji:"🚱",group:6},{emoji:"🚷",group:6},{emoji:"📵",group:6},{emoji:"🔞",group:6},{emoji:"☢️",group:6},{emoji:"☣️",group:6},{emoji:"⬆️",group:6},{emoji:"↗️",group:6},{emoji:"➡️",group:6},{emoji:"↘️",group:6},{emoji:"⬇️",group:6},{emoji:"↙️",group:6},{emoji:"⬅️",group:6},{emoji:"↖️",group:6},{emoji:"↕️",group:6},{emoji:"↔️",group:6},{emoji:"↩️",group:6},{emoji:"↪️",group:6},{emoji:"⤴️",group:6},{emoji:"⤵️",group:6},{emoji:"🔃",group:6},{emoji:"🔄",group:6},{emoji:"🔙",group:6},{emoji:"🔚",group:6},{emoji:"🔛",group:6},{emoji:"🔜",group:6},{emoji:"🔝",group:6},{emoji:"🛐",group:6},{emoji:"⚛️",group:6},{emoji:"🕉️",group:6},{emoji:"✡️",group:6},{emoji:"☸️",group:6},{emoji:"☯️",group:6},{emoji:"✝️",group:6},{emoji:"☦️",group:6},{emoji:"☪️",group:6},{emoji:"☮️",group:6},{emoji:"🕎",group:6},{emoji:"🔯",group:6},{emoji:"♈️",group:6},{emoji:"♉️",group:6},{emoji:"♊️",group:6},{emoji:"♋️",group:6},{emoji:"♌️",group:6},{emoji:"♍️",group:6},{emoji:"♎️",group:6},{emoji:"♏️",group:6},{emoji:"♐️",group:6},{emoji:"♑️",group:6},{emoji:"♒️",group:6},{emoji:"♓️",group:6},{emoji:"⛎",group:6},{emoji:"🔀",group:6},{emoji:"🔁",group:6},{emoji:"🔂",group:6},{emoji:"▶️",group:6},{emoji:"⏩️",group:6},{emoji:"⏭️",group:6},{emoji:"⏯️",group:6},{emoji:"◀️",group:6},{emoji:"⏪️",group:6},{emoji:"⏮️",group:6},{emoji:"🔼",group:6},{emoji:"⏫",group:6},{emoji:"🔽",group:6},{emoji:"⏬",group:6},{emoji:"⏸️",group:6},{emoji:"⏹️",group:6},{emoji:"⏺️",group:6},{emoji:"⏏️",group:6},{emoji:"🎦",group:6},{emoji:"🔅",group:6},{emoji:"🔆",group:6},{emoji:"📶",group:6},{emoji:"📳",group:6},{emoji:"📴",group:6},{emoji:"♀️",group:6},{emoji:"♂️",group:6},{emoji:"⚕️",group:6},{emoji:"♻️",group:6},{emoji:"⚜️",group:6},{emoji:"🔱",group:6},{emoji:"📛",group:6},{emoji:"🔰",group:6},{emoji:"⭕️",group:6},{emoji:"✅",group:6},{emoji:"☑️",group:6},{emoji:"✔️",group:6},{emoji:"✖️",group:6},{emoji:"❌",group:6},{emoji:"❎",group:6},{emoji:"➕",group:6},{emoji:"➖",group:6},{emoji:"➗",group:6},{emoji:"➰",group:6},{emoji:"➿",group:6},{emoji:"〽️",group:6},{emoji:"✳️",group:6},{emoji:"✴️",group:6},{emoji:"❇️",group:6},{emoji:"‼️",group:6},{emoji:"⁉️",group:6},{emoji:"❓️",group:6},{emoji:"❔",group:6},{emoji:"❕",group:6},{emoji:"❗️",group:6},{emoji:"〰️",group:6},{emoji:"©️",group:6},{emoji:"®️",group:6},{emoji:"™️",group:6},{emoji:"#️⃣",group:6},{emoji:"*️⃣",group:6},{emoji:"0️⃣",group:6},{emoji:"1️⃣",group:6},{emoji:"2️⃣",group:6},{emoji:"3️⃣",group:6},{emoji:"4️⃣",group:6},{emoji:"5️⃣",group:6},{emoji:"6️⃣",group:6},{emoji:"7️⃣",group:6},{emoji:"8️⃣",group:6},{emoji:"9️⃣",group:6},{emoji:"🔟",group:6},{emoji:"💯",group:6},{emoji:"🔠",group:6},{emoji:"🔡",group:6},{emoji:"🔢",group:6},{emoji:"🔣",group:6},{emoji:"🔤",group:6},{emoji:"🅰️",group:6},{emoji:"🆎",group:6},{emoji:"🅱️",group:6},{emoji:"🆑",group:6},{emoji:"🆒",group:6},{emoji:"🆓",group:6},{emoji:"ℹ️",group:6},{emoji:"🆔",group:6},{emoji:"Ⓜ️",group:6},{emoji:"🆕",group:6},{emoji:"🆖",group:6},{emoji:"🅾️",group:6},{emoji:"🆗",group:6},{emoji:"🅿️",group:6},{emoji:"🆘",group:6},{emoji:"🆙",group:6},{emoji:"🆚",group:6},{emoji:"🈁",group:6},{emoji:"🈂️",group:6},{emoji:"🈷️",group:6},{emoji:"🈶",group:6},{emoji:"🈯️",group:6},{emoji:"🉐",group:6},{emoji:"🈹",group:6},{emoji:"🈚️",group:6},{emoji:"🈲",group:6},{emoji:"🉑",group:6},{emoji:"🈸",group:6},{emoji:"🈴",group:6},{emoji:"🈳",group:6},{emoji:"㊗️",group:6},{emoji:"㊙️",group:6},{emoji:"🈺",group:6},{emoji:"🈵",group:6},{emoji:"▪️",group:6},{emoji:"▫️",group:6},{emoji:"◻️",group:6},{emoji:"◼️",group:6},{emoji:"◽️",group:6},{emoji:"◾️",group:6},{emoji:"⬛️",group:6},{emoji:"⬜️",group:6},{emoji:"🔶",group:6},{emoji:"🔷",group:6},{emoji:"🔸",group:6},{emoji:"🔹",group:6},{emoji:"🔺",group:6},{emoji:"🔻",group:6},{emoji:"💠",group:6},{emoji:"🔘",group:6},{emoji:"🔲",group:6},{emoji:"🔳",group:6},{emoji:"⚪️",group:6},{emoji:"⚫️",group:6},{emoji:"🔴",group:6},{emoji:"🔵",group:6},{emoji:"🏁",group:7},{emoji:"🚩",group:7},{emoji:"🎌",group:7},{emoji:"🏴",group:7},{emoji:"🏳️",group:7},{emoji:"🏳️‍🌈",group:7},{emoji:"🇦🇨",group:7},{emoji:"🇦🇩",group:7},{emoji:"🇦🇪",group:7},{emoji:"🇦🇫",group:7},{emoji:"🇦🇬",group:7},{emoji:"🇦🇮",group:7},{emoji:"🇦🇱",group:7},{emoji:"🇦🇲",group:7},{emoji:"🇦🇴",group:7},{emoji:"🇦🇶",group:7},{emoji:"🇦🇷",group:7},{emoji:"🇦🇸",group:7},{emoji:"🇦🇹",group:7},{emoji:"🇦🇺",group:7},{emoji:"🇦🇼",group:7},{emoji:"🇦🇽",group:7},{emoji:"🇦🇿",group:7},{emoji:"🇧🇦",group:7},{emoji:"🇧🇧",group:7},{emoji:"🇧🇩",group:7},{emoji:"🇧🇪",group:7},{emoji:"🇧🇫",group:7},{emoji:"🇧🇬",group:7},{emoji:"🇧🇭",group:7},{emoji:"🇧🇮",group:7},{emoji:"🇧🇯",group:7},{emoji:"🇧🇱",group:7},{emoji:"🇧🇲",group:7},{emoji:"🇧🇳",group:7},{emoji:"🇧🇴",group:7},{emoji:"🇧🇶",group:7},{emoji:"🇧🇷",group:7},{emoji:"🇧🇸",group:7},{emoji:"🇧🇹",group:7},{emoji:"🇧🇻",group:7},{emoji:"🇧🇼",group:7},{emoji:"🇧🇾",group:7},{emoji:"🇧🇿",group:7},{emoji:"🇨🇦",group:7},{emoji:"🇨🇨",group:7},{emoji:"🇨🇩",group:7},{emoji:"🇨🇫",group:7},{emoji:"🇨🇬",group:7},{emoji:"🇨🇭",group:7},{emoji:"🇨🇮",group:7},{emoji:"🇨🇰",group:7},{emoji:"🇨🇱",group:7},{emoji:"🇨🇲",group:7},{emoji:"🇨🇳",group:7},{emoji:"🇨🇴",group:7},{emoji:"🇨🇵",group:7},{emoji:"🇨🇷",group:7},{emoji:"🇨🇺",group:7},{emoji:"🇨🇻",group:7},{emoji:"🇨🇼",group:7},{emoji:"🇨🇽",group:7},{emoji:"🇨🇾",group:7},{emoji:"🇨🇿",group:7},{emoji:"🇩🇪",group:7},{emoji:"🇩🇬",group:7},{emoji:"🇩🇯",group:7},{emoji:"🇩🇰",group:7},{emoji:"🇩🇲",group:7},{emoji:"🇩🇴",group:7},{emoji:"🇩🇿",group:7},{emoji:"🇪🇦",group:7},{emoji:"🇪🇨",group:7},{emoji:"🇪🇪",group:7},{emoji:"🇪🇬",group:7},{emoji:"🇪🇭",group:7},{emoji:"🇪🇷",group:7},{emoji:"🇪🇸",group:7},{emoji:"🇪🇹",group:7},{emoji:"🇪🇺",group:7},{emoji:"🇫🇮",group:7},{emoji:"🇫🇯",group:7},{emoji:"🇫🇰",group:7},{emoji:"🇫🇲",group:7},{emoji:"🇫🇴",group:7},{emoji:"🇫🇷",group:7},{emoji:"🇬🇦",group:7},{emoji:"🇬🇧",group:7},{emoji:"🇬🇩",group:7},{emoji:"🇬🇪",group:7},{emoji:"🇬🇫",group:7},{emoji:"🇬🇬",group:7},{emoji:"🇬🇭",group:7},{emoji:"🇬🇮",group:7},{emoji:"🇬🇱",group:7},{emoji:"🇬🇲",group:7},{emoji:"🇬🇳",group:7},{emoji:"🇬🇵",group:7},{emoji:"🇬🇶",group:7},{emoji:"🇬🇷",group:7},{emoji:"🇬🇸",group:7},{emoji:"🇬🇹",group:7},{emoji:"🇬🇺",group:7},{emoji:"🇬🇼",group:7},{emoji:"🇬🇾",group:7},{emoji:"🇭🇰",group:7},{emoji:"🇭🇲",group:7},{emoji:"🇭🇳",group:7},{emoji:"🇭🇷",group:7},{emoji:"🇭🇹",group:7},{emoji:"🇭🇺",group:7},{emoji:"🇮🇨",group:7},{emoji:"🇮🇩",group:7},{emoji:"🇮🇪",group:7},{emoji:"🇮🇱",group:7},{emoji:"🇮🇲",group:7},{emoji:"🇮🇳",group:7},{emoji:"🇮🇴",group:7},{emoji:"🇮🇶",group:7},{emoji:"🇮🇷",group:7},{emoji:"🇮🇸",group:7},{emoji:"🇮🇹",group:7},{emoji:"🇯🇪",group:7},{emoji:"🇯🇲",group:7},{emoji:"🇯🇴",group:7},{emoji:"🇯🇵",group:7},{emoji:"🇰🇪",group:7},{emoji:"🇰🇬",group:7},{emoji:"🇰🇭",group:7},{emoji:"🇰🇮",group:7},{emoji:"🇰🇲",group:7},{emoji:"🇰🇳",group:7},{emoji:"🇰🇵",group:7},{emoji:"🇰🇷",group:7},{emoji:"🇰🇼",group:7},{emoji:"🇰🇾",group:7},{emoji:"🇰🇿",group:7},{emoji:"🇱🇦",group:7},{emoji:"🇱🇧",group:7},{emoji:"🇱🇨",group:7},{emoji:"🇱🇮",group:7},{emoji:"🇱🇰",group:7},{emoji:"🇱🇷",group:7},{emoji:"🇱🇸",group:7},{emoji:"🇱🇹",group:7},{emoji:"🇱🇺",group:7},{emoji:"🇱🇻",group:7},{emoji:"🇱🇾",group:7},{emoji:"🇲🇦",group:7},{emoji:"🇲🇨",group:7},{emoji:"🇲🇩",group:7},{emoji:"🇲🇪",group:7},{emoji:"🇲🇫",group:7},{emoji:"🇲🇬",group:7},{emoji:"🇲🇭",group:7},{emoji:"🇲🇰",group:7},{emoji:"🇲🇱",group:7},{emoji:"🇲🇲",group:7},{emoji:"🇲🇳",group:7},{emoji:"🇲🇴",group:7},{emoji:"🇲🇵",group:7},{emoji:"🇲🇶",group:7},{emoji:"🇲🇷",group:7},{emoji:"🇲🇸",group:7},{emoji:"🇲🇹",group:7},{emoji:"🇲🇺",group:7},{emoji:"🇲🇻",group:7},{emoji:"🇲🇼",group:7},{emoji:"🇲🇽",group:7},{emoji:"🇲🇾",group:7},{emoji:"🇲🇿",group:7},{emoji:"🇳🇦",group:7},{emoji:"🇳🇨",group:7},{emoji:"🇳🇪",group:7},{emoji:"🇳🇫",group:7},{emoji:"🇳🇬",group:7},{emoji:"🇳🇮",group:7},{emoji:"🇳🇱",group:7},{emoji:"🇳🇴",group:7},{emoji:"🇳🇵",group:7},{emoji:"🇳🇷",group:7},{emoji:"🇳🇺",group:7},{emoji:"🇳🇿",group:7},{emoji:"🇴🇲",group:7},{emoji:"🇵🇦",group:7},{emoji:"🇵🇪",group:7},{emoji:"🇵🇫",group:7},{emoji:"🇵🇬",group:7},{emoji:"🇵🇭",group:7},{emoji:"🇵🇰",group:7},{emoji:"🇵🇱",group:7},{emoji:"🇵🇲",group:7},{emoji:"🇵🇳",group:7},{emoji:"🇵🇷",group:7},{emoji:"🇵🇸",group:7},{emoji:"🇵🇹",group:7},{emoji:"🇵🇼",group:7},{emoji:"🇵🇾",group:7},{emoji:"🇶🇦",group:7},{emoji:"🇷🇪",group:7},{emoji:"🇷🇴",group:7},{emoji:"🇷🇸",group:7},{emoji:"🇷🇺",group:7},{emoji:"🇷🇼",group:7},{emoji:"🇸🇦",group:7},{emoji:"🇸🇧",group:7},{emoji:"🇸🇨",group:7},{emoji:"🇸🇩",group:7},{emoji:"🇸🇪",group:7},{emoji:"🇸🇬",group:7},{emoji:"🇸🇭",group:7},{emoji:"🇸🇮",group:7},{emoji:"🇸🇯",group:7},{emoji:"🇸🇰",group:7},{emoji:"🇸🇱",group:7},{emoji:"🇸🇲",group:7},{emoji:"🇸🇳",group:7},{emoji:"🇸🇴",group:7},{emoji:"🇸🇷",group:7},{emoji:"🇸🇸",group:7},{emoji:"🇸🇹",group:7},{emoji:"🇸🇻",group:7},{emoji:"🇸🇽",group:7},{emoji:"🇸🇾",group:7},{emoji:"🇸🇿",group:7},{emoji:"🇹🇦",group:7},{emoji:"🇹🇨",group:7},{emoji:"🇹🇩",group:7},{emoji:"🇹🇫",group:7},{emoji:"🇹🇬",group:7},{emoji:"🇹🇭",group:7},{emoji:"🇹🇯",group:7},{emoji:"🇹🇰",group:7},{emoji:"🇹🇱",group:7},{emoji:"🇹🇲",group:7},{emoji:"🇹🇳",group:7},{emoji:"🇹🇴",group:7},{emoji:"🇹🇷",group:7},{emoji:"🇹🇹",group:7},{emoji:"🇹🇻",group:7},{emoji:"🇹🇼",group:7},{emoji:"🇹🇿",group:7},{emoji:"🇺🇦",group:7},{emoji:"🇺🇬",group:7},{emoji:"🇺🇲",group:7},{emoji:"🇺🇳",group:7},{emoji:"🇺🇸",group:7},{emoji:"🇺🇾",group:7},{emoji:"🇺🇿",group:7},{emoji:"🇻🇦",group:7},{emoji:"🇻🇨",group:7},{emoji:"🇻🇪",group:7},{emoji:"🇻🇬",group:7},{emoji:"🇻🇮",group:7},{emoji:"🇻🇳",group:7},{emoji:"🇻🇺",group:7},{emoji:"🇼🇫",group:7},{emoji:"🇼🇸",group:7},{emoji:"🇽🇰",group:7},{emoji:"🇾🇪",group:7},{emoji:"🇾🇹",group:7},{emoji:"🇿🇦",group:7},{emoji:"🇿🇲",group:7},{emoji:"🇿🇼",group:7},{emoji:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",group:7},{emoji:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",group:7},{emoji:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",group:7}],vr=Object(S.c)(function(){var e=Object(U.b)(),t=Q(),o=Object(S.b)("insertEmoji");return{root:o(Object(c.a)({},Object(W.d)(),{display:"flex",alignItems:"center",justifyContent:"center",fontSize:Object(W.B)(e.icon.sizes.default),textAlign:"center",overflow:"hidden",border:0,opacity:e.states.text.opacity,cursor:"pointer",borderRadius:Object(W.B)(3),$nest:Object(c.a)({},Object(W.f)({allStates:{outline:0},hover:{opacity:1},focus:{opacity:1},active:{opacity:1},accessibleFocus:{backgroundColor:Object(W.g)(e.states.hover.color)}},{".fallBackEmoji":{display:"block",margin:"auto"},".safeEmoji":{display:"block",height:Object(W.B)(e.icon.sizes.default),width:Object(W.B)(e.icon.sizes.default),margin:"auto"}}))})),body:o("body",{height:Object(W.B)(t.emojiBody.height),maxHeight:Object(x.m)(80)}),popoverDescription:o("popoverDescription",{marginBottom:".5em"})}}),jr=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"handleClick",function(e){e.preventDefault(),e.stopPropagation(),o.props.navigateToGroup(o.props.groupIndex)}),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=J(this.props.legacyMode),t=this.props,o=t.name,n=t.icon,i=(t.groupIndex,t.isSelected),r=Pe()("richEditor-button",{isSelected:i},e.button,e.emojiGroup);return d.a.createElement("button",{type:"button",onClick:this.handleClick,"aria-current":i,"aria-label":Object(Ce.m)("Jump to emoji category: ")+Object(Ce.m)(o),title:Object(Ce.m)(o),className:r},d.a.createElement(ao,{icon:n}),d.a.createElement("span",{className:"sr-only"},Object(Ce.m)("Jump to emoji category: ")+Object(Ce.m)(o)))}}]),t}(d.a.Component),yr=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"emojiChar",void 0),Object(_.a)(Object(y.a)(o),"quill",void 0),Object(_.a)(Object(y.a)(o),"domButton",void 0),Object(_.a)(Object(y.a)(o),"insertEmojiBlot",function(e){var t=o.quill.getSelection(!0);o.quill.insertEmbed(t.index,"emoji",{emojiChar:o.emojiChar},ae.a.sources.USER),o.quill.setSelection(t.index+1,0,ae.a.sources.SILENT),o.props.closeMenuHandler(e)}),Object(_.a)(Object(y.a)(o),"handleKeyPress",function(e){switch(e.key){case"ArrowDown":e.stopPropagation(),e.preventDefault(),o.props.onKeyDown();break;case"ArrowUp":e.stopPropagation(),e.preventDefault(),o.props.onKeyUp();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),o.props.onKeyRight();break;case"ArrowLeft":e.stopPropagation(),e.preventDefault(),o.props.onKeyLeft()}}),o.emojiChar=e.emojiData.emoji,o.quill=e.quill,o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=vr(),o=Pe()("richEditor-insertEmoji",t.root,"emojiChar-"+this.emojiChar);return d.a.createElement("button",{ref:function(t){e.domButton=t},onKeyDown:this.handleKeyPress,style:this.props.style,className:o,type:"button",onClick:this.insertEmojiBlot},d.a.createElement("span",{className:"safeEmoji",dangerouslySetInnerHTML:{__html:Object(n.a)(this.emojiChar)}}))}},{key:"componentDidUpdate",value:function(){this.checkFocus()}},{key:"componentDidMount",value:function(){this.checkFocus()}},{key:"checkFocus",value:function(){this.domButton&&this.props.activeIndex===this.props.index&&this.domButton.focus()}}]),t}(d.a.Component)),Or=Object(S.c)(function(){var e=Q(),t=Object(S.b)("richEditorFlyout"),o=Object(G.a)(),n=Object(U.b)(),i=t(Object(c.a)({},o.dropDown(),{position:"absolute",left:0,width:Object(W.B)(e.richEditorWidth+2*e.emojiBody.padding.horizontal),zIndex:6,overflow:"hidden",backgroundColor:Object(W.g)(e.colors.bg)},Object(W.e)(),{$nest:{"&& .ReactVirtualized__Grid":{width:Object(x.f)(Object(W.B)(e.richEditorWidth))}}})),r=t("header",Object(c.a)({position:"relative",borderBottom:Object(W.v)()},Object(W.r)(e.emojiHeader.padding))),a=t("title",Object(c.a)({display:"flex",alignItems:"center"},Object(W.n)(),{margin:0,maxWidth:Object(x.b)("100% - ".concat(Object(W.B)(e.menuButton.size))),minHeight:e.menuButton.size-e.emojiBody.padding.horizontal,fontSize:Object(x.g)(100),lineHeight:"inherit",color:Object(W.g)(n.mainColors.fg),$nest:{"&:focus":{outline:0}}}));return{root:i,header:r,body:t("body",Object(c.a)({},Object(W.r)(e.emojiBody.padding),{width:Object(W.B)(e.richEditorWidth+2*e.emojiBody.padding.horizontal)})),footer:t("footer",{borderTop:Object(W.v)()}),title:a}}),_r=o(31),Cr=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),(o=Object(v.a)(this,Object(j.a)(t).call(this,e))).state={id:e.id,descriptionID:e.descriptionID,titleID:e.titleID},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e,t=this.props.additionalClassRoot,o=J(this.props.legacyMode),n=Or(),i=Pe()("richEditor-menu","richEditorFlyout",n.root,(e={},Object(_.a)(e,t,!!t),Object(_.a)(e,"isHidden",!this.props.isVisible),e));i+=this.props.className?" ".concat(this.props.className):"";var r=Pe()("richEditorFlyout-header",n.header,this.props.headerClass,Object(_.a)({},t+"-header",!!t)),a=Pe()("richEditorFlyout-body",n.body,this.props.bodyClass,Object(_.a)({},t+"-body",!!t)),s=Pe()("richEditorFlyout-footer",n.footer,this.props.footerClass,Object(_.a)({},t+"-footer",!!t)),l=this.props.alertMessage?d.a.createElement("span",{"aria-live":"assertive",role:"alert",className:"sr-only"},this.props.alertMessage):null,c=this.props.accessibleDescription?d.a.createElement("div",{id:this.state.descriptionID,className:"sr-only"},this.props.accessibleDescription):null;return d.a.createElement("div",{id:this.state.id,"aria-describedby":this.state.descriptionID,"aria-labelledby":this.state.titleID,className:i,role:"dialog","aria-hidden":!this.props.isVisible,style:ro(!!this.props.renderAbove,!!this.props.renderLeft,this.props.legacyMode)},l,d.a.createElement("div",{className:r},d.a.createElement("h2",{id:this.props.titleID,tabIndex:-1,className:Pe()("richEditorFlyout-title",n.title),ref:this.props.titleRef},this.props.title),c,d.a.createElement(uo.a,{baseClass:_r.a.ICON,onClick:this.props.onCloseClick,className:Pe()("richEditor-close",o.close)}),this.props.additionalHeaderContent&&this.props.additionalHeaderContent),d.a.createElement("div",{className:a},this.props.body&&this.props.body),d.a.createElement("div",{className:s},this.props.footer&&this.props.footer))}}]),t}(d.a.Component)),wr=Q().sizing.emojiSize,Sr=8,xr=8,Er={},kr={};br.forEach(function(e,t){var o=e.group;o in Er||(Er[o]=Math.floor(t/Sr),kr[o]=t)});var Lr=br.length-1,Ir=Yt(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"categoryPickerID",void 0),Object(_.a)(Object(y.a)(o),"gridEl",void 0),Object(_.a)(Object(y.a)(o),"lastRowIndex",o.getRowFromIndex(br.length)),Object(_.a)(Object(y.a)(o),"handleOnSectionRendered",function(e){var t=e.rowStartIndex,n=0;Object.values(Er).map(function(e,o){t>=e&&(n=o)}),o.setState({rowStartIndex:e.rowStartIndex,selectedGroupIndex:n,alertMessage:Object(Ce.m)("In emoji category: ")+Object(Ce.m)(gr[n].name),title:Object(Ce.m)(gr[n].name)})}),Object(_.a)(Object(y.a)(o),"scrollToCategory",function(e){var t=kr[e];o.setState({activeIndex:t,scrollToRow:o.getRowFromIndex(t),alertMessage:Object(Ce.m)("Jumped to emoji category: ")+Object(Ce.m)(gr[e].name)})}),Object(_.a)(Object(y.a)(o),"cellRenderer",function(e){var t=e.columnIndex,n=e.rowIndex,i=e.style,r=n*xr+t,a=br[r];return a?d.a.createElement(yr,{activeIndex:o.state.activeIndex,style:i,closeMenuHandler:o.props.closeMenuHandler,key:"emoji-".concat(r,"-").concat(a.emoji),emojiData:a,index:r,onKeyUp:o.jumpRowUp,onKeyDown:o.jumpRowDown,onKeyLeft:o.jumpIndexLeft,onKeyRight:o.jumpIndexRight}):null}),Object(_.a)(Object(y.a)(o),"focusOnCategories",function(){var e=document.getElementById(o.categoryPickerID);if(e){var t=e.querySelector(".richEditor-button");t instanceof HTMLElement&&t.focus()}}),Object(_.a)(Object(y.a)(o),"jumpIndex",function(e){var t,n=o.keepEmojiIndexInBounds(o.state.activeIndex+e),i=o.getRowFromIndex(n);i>=o.state.rowStartIndex+xr?t=o.keepRowIndexInBounds(i-xr+1):i<o.state.rowStartIndex&&(t=i),o.setState({activeIndex:n,scrollToRow:t},function(){o.gridEl.forceUpdate()})}),Object(_.a)(Object(y.a)(o),"jumpRowDown",function(){o.jumpIndex(Sr)}),Object(_.a)(Object(y.a)(o),"jumpRowUp",function(){o.jumpIndex(-Sr)}),Object(_.a)(Object(y.a)(o),"jumpIndexRight",function(){o.jumpIndex(1)}),Object(_.a)(Object(y.a)(o),"jumpIndexLeft",function(){o.jumpIndex(-1)}),Object(_.a)(Object(y.a)(o),"handleKeyDown",function(e){if(o.props.isVisible)switch(e.code){case"PageUp":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(-xr*Sr);break;case"PageDown":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(xr*Sr);break;case"Home":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(-Lr),e.stopImmediatePropagation();break;case"End":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(Lr)}}),o.state={id:e.id,contentID:e.contentID,activeIndex:0,title:Object(Ce.m)("Emojis"),scrollToRow:0,rowStartIndex:0,selectedGroupIndex:0},o.categoryPickerID="emojiPicker-categories-"+e.editorID,o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=[Object(Ce.m)("Insert an emoji in your message."),Object(Ce.m)("richEditor.emoji.pagingInstructions")].join(" "),o=mr(),n=vr(),i=J(this.props.legacyMode),r=d.a.createElement("button",{type:"button",className:"accessibility-jumpTo",onClick:this.focusOnCategories},Object(Ce.m)("Jump past emoji list, to emoji categories.")),a=d.a.createElement("div",{id:this.categoryPickerID,className:Pe()("emojiGroups",o.root),"aria-label":Object(Ce.m)("Emoji Categories"),tabIndex:-1},Object.values(gr).map(function(t,o){var n=t.name,i=t.icon,r=e.state.selectedGroupIndex===o;return d.a.createElement(jr,{key:o,name:n,icon:i,isSelected:r,navigateToGroup:e.scrollToCategory,groupIndex:o,legacyMode:e.props.legacyMode})})),s=d.a.createElement(ti,null,function(t){var o=t.height,n=t.width;return d.a.createElement(Zn,{containerRole:"",cellRenderer:e.cellRenderer,columnCount:Sr,columnWidth:wr,rowCount:e.lastRowIndex+1,rowHeight:wr,height:o,width:n,overscanRowCount:20,tabIndex:-1,scrollToAlignment:"start",scrollToRow:e.state.scrollToRow,"aria-readonly":void 0,"aria-label":"",role:"",onSectionRendered:e.handleOnSectionRendered,ref:function(t){e.gridEl=t}})});return d.a.createElement(Cr,{id:this.state.id,descriptionID:this.descriptionID,titleID:this.titleID,title:this.state.title,titleRef:this.props.titleRef,accessibleDescription:t,alertMessage:this.state.alertMessage,additionalHeaderContent:r,body:s,footer:a,additionalClassRoot:"insertEmoji",onCloseClick:this.props.closeMenuHandler,isVisible:this.props.isVisible,renderAbove:this.props.renderAbove,renderLeft:this.props.renderLeft,bodyClass:n.body,className:this.props.legacyMode?"":i.flyoutOffset})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"getRowFromIndex",value:function(e){return Math.floor(e/Sr)}},{key:"keepRowIndexInBounds",value:function(e){return e<0?0:e>this.lastRowIndex-1?this.lastRowIndex-1:e}},{key:"keepEmojiIndexInBounds",value:function(e){return e<0?0:e>Lr?Lr:e}},{key:"descriptionID",get:function(){return this.state.id+"-description"}},{key:"titleID",get:function(){return this.state.id+"-title"}}]),t}(d.a.PureComponent)),Tr=function(e){function t(){var e,o;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=Object(v.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(i))),Object(_.a)(Object(y.a)(o),"titleRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"id",Object(M.c)("emojiPopover")),o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=J(this.props.legacyMode);return d.a.createElement(on,{id:this.id,className:"emojiPicker",buttonClassName:Pe()("richEditor-button","richEditor-embedButton",t.button),onVisibilityChange:A.c,disabled:this.props.disabled,name:Object(Ce.m)("Emoji Picker"),buttonContents:d.a.createElement(ao,{icon:Ue()}),buttonBaseClass:_r.a.ICON,renderAbove:this.props.renderAbove,renderLeft:this.props.renderLeft,openAsModal:!1,initialFocusElement:this.titleRef.current},function(t){return d.a.createElement(Ir,Object(m.a)({},t,{titleRef:e.titleRef,renderAbove:e.props.renderAbove,renderLeft:e.props.renderLeft,contentID:t.id}))})}}]),t}(d.a.Component),Rr=Object(S.c)(function(){var e=Object(U.b)(),t=Object(S.d)("frame"),o=t("colors",{bg:e.mainColors.bg,fg:e.mainColors.fg}),n=t("sizing",{large:720,medium:516,small:375}),i=t("border",{radius:e.border.radius}),r=t("spacing",{padding:16}),a=t("header",{spacing:r.padding,minHeight:44,fontSize:e.fonts.size.subTitle});return{colors:o,sizing:n,border:i,spacing:r,header:a,footer:t("footer",{spacing:r.padding,minHeight:a.minHeight})}}),Nr=Object(S.c)(function(){var e=Rr(),t=Object(S.b)("frame"),o=t("headerWrap",{background:Object(W.g)(e.colors.bg),zIndex:2,willChange:"height"}),n=t("bodyWrap",{background:Object(W.g)(e.colors.bg)}),i=t("footerWrap",{background:Object(W.g)(e.colors.bg),zIndex:2,willChange:"height"});return{root:t({backgroundColor:Object(W.g)(e.colors.bg),maxHeight:Object(x.g)(100),height:Object(x.g)(100),borderRadius:Object(W.B)(e.border.radius),width:Object(x.g)(100),position:"relative",display:"flex",flexDirection:"column",$nest:Object(_.a)({},".".concat(n),{flex:1,overflow:"auto"})}),headerWrap:o,bodyWrap:n,footerWrap:i}}),Mr=Object(S.c)(function(){var e=Rr(),t=Object(U.b)(),o=Object(X.a)(),n=Object(S.b)("frameHeader"),i=n(Object(c.a)({display:"flex",position:"relative",alignItems:"center",flexWrap:"nowrap",width:Object(x.g)(100),color:Object(W.g)(e.colors.fg),zIndex:1,borderBottom:Object(W.v)()},Object(W.r)({top:4,right:e.footer.spacing,bottom:4,left:e.footer.spacing}),{$nest:{"& .button + .button":{marginLeft:Object(W.B)(12-o.border.width)}}})),r=n("backButton",{display:"flex",flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-end",flexShrink:1,transform:"translateX(-6px) translateY(-1px)"}),a=n("heading",{display:"flex",alignItems:"center",flexGrow:1,margin:0,textOverflow:"ellipsis",width:Object(x.b)("100% - ".concat(o.sizing.height)),flexBasis:Object(x.b)("100% - ".concat(o.sizing.height)),fontWeight:t.fonts.weights.semiBold,fontSize:Object(W.B)(t.fonts.size.large)}),s=n("left",{fontSize:Object(W.B)(e.header.fontSize)}),l=n("centred",{textAlign:"center",textTransform:"uppercase",fontSize:Object(W.B)(t.fonts.size.small),color:Object(W.g)(t.mixBgAndFg(.6)),fontWeight:t.fonts.weights.semiBold}),u=t.icon.sizes.large-(t.gutter.half+t.gutter.quarter);return{root:i,backButton:r,heading:a,left:s,centred:l,leftSpacer:n("leftSpacer",{display:"block",height:Object(W.B)(u),flexBasis:Object(W.B)(u),width:Object(W.B)(u)}),action:n("action",{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",flexShrink:1,height:Object(W.B)(o.sizing.height),width:Object(W.B)(o.sizing.height),flexBasis:Object(W.B)(o.sizing.height),color:Object(W.g)(e.colors.fg),transform:"translateX(10px)",$nest:{"&:not(.focus-visible)":{outline:0},"&:hover, &:focus, &.focus-visible":{color:Object(W.g)(t.mainColors.primary)}}}),backButtonIcon:n("backButtonIcon",{display:"block"}),close:n("close",{height:Object(W.B)(o.sizing.height),width:Object(W.B)(o.sizing.height),flexBasis:Object(W.B)(o.sizing.height),padding:0})}}),Ar=Object(S.c)(function(){var e=Object(E.a)(),t=Object(U.b)(),o=Object(S.d)("containerVariables"),n=o("spacing",{padding:{horizontal:e.gutter.size}});return{sizing:o("sizes",{full:e.contentSizes.full,narrowContentSize:e.contentSizes.narrow}),colors:o("colors",{bg:t.mainColors.bg}),spacing:n}}),zr=(Object(S.c)(function(){var e=Object(S.b)("container"),t=Object(U.b)(),o=Ar(),n=Object(E.a)().mediaQueries();return{root:e(Object(c.a)({display:"flex",flexDirection:"column",position:"relative",boxSizing:"border-box",width:Object(x.g)(100),maxWidth:t.content.width,marginLeft:"auto",marginRight:"auto"},Object(W.r)(o.spacing.padding)),n.oneColumnDown(Object(c.a)({},Object(W.r)({horizontal:8}))))}}),Object(S.c)(function(){var e=Object(S.b)("typography"),t=Object(U.b)(),o=(Ar(),Object(E.a)().mediaQueries());return{pageTitle:e("pageTitle",{fontSize:Object(W.B)(t.fonts.size.title),lineHeight:t.lineHeights.condensed,transform:"translateX(".concat(Object(x.e)(t.fonts.alignment.headings.horizontal),")"),$nest:Object(V.a)()},o.oneColumnDown({fontSize:Object(W.B)(t.fonts.mobile.size.title)})),subTitle:e("subTitle",{fontSize:Object(W.B)(t.fonts.size.subTitle)}),componentSubTitle:e("componentSubTitle",{fontSize:Object(W.B)(t.fonts.size.large)})}})),Pr=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.title,n="h".concat(this.props.depth),i=zr();return d.a.createElement(n,{id:this.props.id,ref:this.props.titleRef,className:Pe()("heading","heading-".concat(this.renderAsDepth),Object(_.a)({},"".concat(i.pageTitle),1===this.renderAsDepth),this.props.className)},t||o)}},{key:"renderAsDepth",get:function(){return this.props.renderAsDepth?this.props.renderAsDepth:this.props.depth}}]),t}(d.a.Component);Object(_.a)(Pr,"defaultProps",{depth:2});
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var Br,Dr=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=Xt(),t=this.props.flyoutSize?this.props.flyoutSize:Br.DEFAULT,o=this.props.openAsModal?void 0:Pe()("dropDown-contents",e.contents,{isMedium:t===Br.MEDIUM}),n=this.props.openAsModal?Pe()("dropDown-asModal",e.asModal):void 0;return this.props.isVisible?h.createElement("div",{id:this.props.id,"aria-labelledby":this.props.parentID,className:Pe()(o,n,this.props.className,this.props.selfPadded?"":e.verticalPadding),style:ro(this.props.renderAbove,this.props.renderLeft,!!this.props.legacyMode),onClick:this.props.onClick},this.props.children):h.createElement("div",{id:this.props.id,"aria-hidden":!0,"aria-labelledby":this.props.parentID,className:"sr-only"})}}]),t}(h.Component),qr=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.tag||"div";return d.a.createElement(e,{className:Pe()(this.props.className),"aria-hidden":!0,tabIndex:-1}," ",this.props.children&&d.a.createElement("span",{className:"sr-only"},this.props.children))}}]),t}(d.a.Component),Hr=Object(S.c)(function(){var e=Object(S.b)("smartAlign");return{root:e({display:"flex",alignItems:"center",justifyContent:"center",width:Object(x.g)(100)}),inner:e("inner",{textAlign:"left"})}}),Fr=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.outerTag||"div",t=this.props.outerTag||"div",o=Hr();return d.a.createElement(e,{className:Pe()("smartAlign-outer",this.props.className,o.root)},d.a.createElement(t,{className:Pe()("smartAlign-inner",o.inner)},this.props.children))}}]),t}(d.a.Component);
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */!function(e){e.DEFAULT="default",e.MEDIUM="medium"}(Br||(Br={}));var Ur=N(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"id",void 0),Object(_.a)(Object(y.a)(o),"doNothing",function(e){e.stopPropagation()}),o.id=Object(M.b)(e,"dropDown"),o.state={selectedText:""},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"setSelectedText",value:function(e){this.setState({selectedText:e})}},{key:"render",value:function(){var e=this,t=this.props.title,o=Xt(),n=Mr(),i=Xt(),r=this.props.openAsModal||this.props.device===k.MOBILE||this.props.device===k.XS;return d.a.createElement(on,{id:this.id,className:Pe()(this.props.className),buttonBaseClass:this.props.buttonBaseClass||_r.a.ICON,name:this.props.name,buttonContents:this.props.buttonContents||Object(Ao.d)(),buttonClassName:this.props.buttonClassName,selectedItemLabel:this.selectedText,disabled:this.props.disabled,buttonRef:this.props.buttonRef,toggleButtonClassName:this.props.toggleButtonClassName,onVisibilityChange:this.props.onVisibilityChange,openAsModal:r,initialFocusElement:this.props.initialFocusElement},function(a){return d.a.createElement(Dr,Object(m.a)({},a,{id:e.id+"-handle",parentID:e.id,className:Pe()(e.props.contentsClassName),onClick:e.doNothing,renderLeft:!!e.props.renderLeft,renderAbove:!!e.props.renderAbove,openAsModal:r,selfPadded:e.props.selfPadded,flyoutSize:e.props.flyoutSize}),t?d.a.createElement("header",{className:Pe()("frameHeader",n.root)},r&&d.a.createElement(qr,{className:Pe()("frameHeader-leftSpacer",n.leftSpacer)}),r&&d.a.createElement(Fr,null,d.a.createElement(Pr,{title:t,className:Pe()("dropDown-title",o.title,i.title)})),!r&&d.a.createElement(Pr,{title:t,className:Pe()("dropDown-title",o.title,i.title)}),d.a.createElement(uo.a,{className:n.action,onClick:a.closeMenuHandler})):null,d.a.createElement("ul",{className:Pe()("dropDownItems",i.items)},e.props.children))})}},{key:"selectedText",get:function(){return this.state.selectedText}}]),t}(d.a.Component)),Wr=o(659);
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Gr(e){var t=Nr();return d.a.createElement("section",{className:Pe()("frame",e.className,t.root,e.canGrow&&Object(W.m)())},e.header&&d.a.createElement("div",{className:t.headerWrap}," ",e.header),d.a.createElement(Wr.TouchScrollable,null,d.a.createElement("div",{className:t.bodyWrap},e.body)),d.a.createElement("div",{className:t.footerWrap},e.footer))}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Vr=Object(S.c)(function(){var e=Rr(),t=Object(U.b)(),o=Object(S.b)("frameBody");return{root:o(Object(c.a)({position:"relative"},Object(W.r)({left:e.spacing.padding,right:e.spacing.padding}),{$nest:{"&.isSelfPadded":Object(c.a)({},Object(W.r)({left:0,right:0})),"& > .inputBlock":{$nest:{"&.isFirst":{marginTop:Object(W.B)(t.gutter.half)},"&.isLast":{marginBottom:Object(W.B)(t.gutter.half)}}}}})),noContentMessage:o("noContentMessage",Object(c.a)({},Object(W.r)({top:2*e.header.spacing,right:e.header.spacing,bottom:2*e.header.spacing,left:e.header.spacing}))),contents:o("contents",Object(c.a)({},Object(W.r)({top:e.spacing.padding,right:0,bottom:e.spacing.padding,left:0}),{minHeight:Object(W.B)(50)}))}}),Kr=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=Vr();return d.a.createElement("div",{className:Pe()("frameBody",this.props.className,e.root,{isSelfPadded:this.props.selfPadded})},this.props.children)}}]),t}(d.a.PureComponent),Yr=Object(S.c)(function(){var e=Object(U.b)(),t=Object(S.b)("frameFooter"),o=Rr(),n=t(Object(c.a)({display:"flex",minHeight:Object(W.B)(o.footer.minHeight),alignItems:"center",position:"relative",zIndex:1,borderTop:Object(W.v)(),flexWrap:"wrap",justifyContent:"space-between"},Object(W.r)({top:0,bottom:0,left:o.footer.spacing,right:o.footer.spacing}))),i=t("justifiedRight",{$nest:{"&&":{justifyContent:"flex-end"}}}),r=t("markRead",{$nest:{"&.buttonAsText":{fontWeight:e.fonts.weights.semiBold,color:Object(W.g)(e.mainColors.primary)}}}),a=t("actionButton",{marginLeft:Object(W.B)(24)});return{root:n,markRead:r,selfPadded:t({paddingLeft:Object(x.f)(0),paddingRight:Object(x.f)(0)}),actionButton:a,justifiedRight:i}}),Zr=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=Yr();return d.a.createElement("footer",{className:Pe()("frameFooter",this.props.className,e.root,this.props.justifyRight&&e.justifiedRight,this.props.selfPadded?e.selfPadded:"")},this.props.children)}}]),t}(d.a.PureComponent);
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(_.a)(Zr,"defaultProps",{validSelection:!1});
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var $r=Object(S.c)(function(){var e=Object(U.b)(),t=Q(),o=Object(S.b)("insertMedia"),n=o(Object(c.a)({display:"flex",alignItems:"center",justifyContent:"flex-end"},Object(W.r)({left:t.flyout.padding.horizontal,right:t.flyout.padding.horizontal,bottom:t.flyout.padding.vertical}))),i=o("help",{marginRight:"auto",fontSize:Object(W.B)(e.fonts.size.small)}),r=o("insert",{$nest:{"&&":{width:Object(x.g)(100),position:"relative",marginBottom:Object(x.h)(10)}}}),a=o("button",{position:"relative",marginLeft:"auto"});return{root:n,help:i,insert:r,footer:o("footer",{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:0}),button:a}}),Xr=N(Yt(function(e){function t(e){var o;return Object(g.a)(this,t),o=Object(v.a)(this,Object(j.a)(t).call(this,e)),Object(_.a)(Object(y.a)(o),"embedModule",void 0),Object(_.a)(Object(y.a)(o),"inputRef",d.a.createRef()),Object(_.a)(Object(y.a)(o),"clearInput",function(){o.setState({url:""})}),Object(_.a)(Object(y.a)(o),"buttonKeyDownHandler",function(e){dt.a.match(e.nativeEvent,"enter")&&(e.preventDefault(),e.stopPropagation(),o.state.isInputValid&&o.submitUrl())}),Object(_.a)(Object(y.a)(o),"buttonClickHandler",function(e){e.preventDefault(),o.submitUrl()}),Object(_.a)(Object(y.a)(o),"inputChangeHandler",function(e){var t=e.target.value,n=Object(Ce.i)(o.normalizeUrl(t));o.setState({url:t,isInputValid:n})}),o.embedModule=e.quill.getModule("embed/insertion"),o.state={id:Object(M.b)(e,"embedPopover"),url:"",isInputValid:!1},o}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=J(this.props.legacyMode),t=$r();return d.a.createElement(d.a.Fragment,null,d.a.createElement(Ur,{id:this.state.id,name:Object(Ce.m)("Insert Media"),buttonClassName:Pe()("richEditor-button","richEditor-embedButton",e.button),title:Object(Ce.m)("Insert Media"),paddedList:!0,onClose:this.clearInput,onVisibilityChange:A.c,disabled:this.props.disabled,buttonContents:d.a.createElement(ao,{icon:Qe()}),buttonBaseClass:_r.a.CUSTOM,renderAbove:!!this.props.renderAbove,renderLeft:!!this.props.renderLeft,selfPadded:!0,initialFocusElement:this.inputRef.current,flyoutSize:Br.MEDIUM,contentsClassName:this.props.legacyMode?"":e.flyoutOffset},d.a.createElement(Gr,{body:d.a.createElement(Kr,null,d.a.createElement("p",{className:Object(L.e)({marginTop:6,marginBottom:6})},Object(Ce.m)("Paste the URL of the media you want.")),d.a.createElement("input",{className:Pe()("InputBox",t.insert,{inputText:!this.props.legacyMode}),placeholder:"https://",value:this.state.url,onChange:this.inputChangeHandler,onKeyDown:this.buttonKeyDownHandler,"aria-labelledby":this.titleID,"aria-describedby":this.descriptionID,ref:this.inputRef})),footer:d.a.createElement(Zr,null,d.a.createElement(Jo.a,{className:Pe()("insertMedia-insert",t.button),baseClass:_r.a.TEXT_PRIMARY,disabled:!this.state.isInputValid,onClick:this.buttonClickHandler},Object(Ce.m)("Insert")))})))}},{key:"submitUrl",value:function(){this.clearInput(),this.embedModule.scrapeMedia(this.normalizeUrl(this.state.url))}},{key:"normalizeUrl",value:function(e){return e.match(/^https?:\/\//)?e:"http://"+e}},{key:"titleID",get:function(){return this.state.id+"-title"}},{key:"descriptionID",get:function(){return this.state.id+"-description"}}]),t}(d.a.PureComponent)));
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Qr(e){var t=f(),o=t.isMobile,n=t.isLoading,i=t.legacyMode;if(!t.quill)return null;var r=Object(Ce.g)("upload.allowedExtensions"),a=J(i);return d.a.createElement("div",{ref:e.contentRef,className:Pe()("richEditor-embedBar",e.className,a.embedBar)},d.a.createElement("ul",{className:Pe()("richEditor-menuItems","richEditor-inlineMenuItems",a.menuItems),role:"menubar","aria-label":Object(Ce.m)("Inline Level Formatting Menu")},o&&d.a.createElement("li",{className:Pe()("richEditor-menuItem",a.menuItem),role:"menuitem"},d.a.createElement(Go,{renderAbove:i,disabled:n,mobile:!0})),!o&&d.a.createElement("li",{className:Pe()("richEditor-menuItem","u-richEditorHiddenOnMobile",a.menuItem),role:"menuitem"},d.a.createElement(Tr,{disabled:n,renderAbove:i,legacyMode:i})),d.a.createElement($o,{permission:"uploads.add"},d.a.createElement("li",{className:Pe()("richEditor-menuItem",a.menuItem),role:"menuitem"},d.a.createElement(Xo,{disabled:n,type:"image",allowedMimeTypes:r}))),d.a.createElement("li",{className:Pe()("richEditor-menuItem",a.menuItem),role:"menuitem"},d.a.createElement(Xr,{disabled:n,renderAbove:i})),d.a.createElement($o,{permission:"uploads.add"},d.a.createElement("li",{className:Pe()("richEditor-menuItem",a.menuItem),role:"menuitem"},d.a.createElement(Xo,{disabled:n,type:"file",allowedMimeTypes:r})))))}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function Jr(e){var t=Object(l.a)(),o=J(!0);return Object(h.useEffect)(function(){return document.body.classList.add(Dt.a),function(){document.body.classList.remove(Dt.a)}},[]),d.a.createElement(jo.a,{store:t},d.a.createElement(R,null,d.a.createElement(H,{isPrimaryEditor:!0,legacyMode:!0,allowUpload:r("uploads.add"),isLoading:!1},d.a.createElement("div",{className:Pe()("richEditor-frame","InputBox",o.legacyFrame,o.root)},d.a.createElement(Vt,{legacyTextArea:e.legacyTextArea}),d.a.createElement(Vo,null),d.a.createElement(Lo,null),d.a.createElement(Qr,null)))))}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function ea(e){var t=Object(n.c)(e),o=t.closest("form").querySelector(".BodyBox");if(!o)throw new Error("Could not find the BodyBox to mount editor to.");var i=o.getAttribute("format")||"Rich";if("Rich"!==i)throw new Error("Unsupported initial editor format ".concat(i));Object(n.k)(d.a.createElement(Jr,{legacyTextArea:o}),t,function(){t.classList.remove("isDisabled")})}o.d(t,"default",function(){return ea})},,function(e,t,o){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=9)}([function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var o=this;return t="[Parchment] "+t,(o=e.call(this,t)||this).message=t,o.name=o.constructor.name,o}return i(t,e),t}(Error);t.ParchmentError=r;var a,s={},l={},c={},u={};function h(e,t){var o;if(void 0===t&&(t=a.ANY),"string"==typeof e)o=u[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)o=u.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?o=u.block:e&a.LEVEL&a.INLINE&&(o=u.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var i in n)if(o=l[n[i]])break;o=o||c[e.tagName]}return null==o?null:t&a.LEVEL&o.scope&&t&a.TYPE&o.scope?o:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var o=h(e);if(null==o)throw new r("Unable to create "+e+" blot");var n=o,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(i,t)},t.find=function e(o,n){return void 0===n&&(n=!1),null==o?null:null!=o[t.DATA_KEY]?o[t.DATA_KEY].blot:n?e(o.parentNode,n):null},t.query=h,t.register=function e(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(t.length>1)return t.map(function(t){return e(t)});var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new r("Invalid definition");if("abstract"===n.blotName)throw new r("Cannot register abstract class");u[n.blotName||n.attrName]=n,"string"==typeof n.keyName?s[n.keyName]=n:(null!=n.className&&(l[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(e){return e.toUpperCase()}):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(function(e){null!=c[e]&&null!=n.className||(c[e]=n)})));return n}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),i=function(){function e(e,t,o){void 0===o&&(o={}),this.attrName=e,this.keyName=t;var i=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=o.scope?this.scope=o.scope&n.Scope.LEVEL|i:this.scope=n.Scope.ATTRIBUTE,null!=o.whitelist&&(this.whitelist=o.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=i},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),a=o(5),s=o(0),l=function(e){function t(t){var o=e.call(this,t)||this;return o.build(),o}return i(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var o=c(t);e.insertBefore(o,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,o){e.deleteAt(t,o)})},t.prototype.descendant=function(e,o){var n=this.children.find(o),i=n[0],r=n[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,r]:i instanceof t?i.descendant(e,r):[null,-1]},t.prototype.descendants=function(e,o,n){void 0===o&&(o=0),void 0===n&&(n=Number.MAX_VALUE);var i=[],r=n;return this.children.forEachAt(o,n,function(o,n,a){(null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e)&&i.push(o),o instanceof t&&(i=i.concat(o.descendants(e,n,r))),r-=a}),i},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,o,n){this.children.forEachAt(e,t,function(e,t,i){e.formatAt(t,i,o,n)})},t.prototype.insertAt=function(e,t,o){var n=this.children.find(e),i=n[0],r=n[1];if(i)i.insertAt(r,t,o);else{var a=null==o?s.create("text",t):s.create(t,o);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(o){e.insertBefore(o,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var o=s.create(this.statics.defaultChild);this.appendChild(o),o.optimize(t)}else this.remove()},t.prototype.path=function(e,o){void 0===o&&(o=!1);var n=this.children.find(e,o),i=n[0],r=n[1],a=[[this,e]];return i instanceof t?a.concat(i.path(r,o)):(null!=i&&a.push([i,r]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(o){o instanceof t&&o.moveChildren(this),e.prototype.replace.call(this,o)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(e,this.length(),function(e,n,i){e=e.split(n,t),o.appendChild(e)}),o},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var o=this,n=[],i=[];e.forEach(function(e){e.target===o.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),i.push.apply(i,e.removedNodes))}),i.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==o.domNode||t.detach())}}),n.filter(function(e){return e.parentNode==o.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var n=c(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(o),o.insertBefore(n,t||void 0))})},t}(a.default);function c(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(o){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=o(6),s=o(2),l=o(0),c=function(e){function t(t){var o=e.call(this,t)||this;return o.attributes=new a.default(o.domNode),o}return i(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var o=l.query(e);o instanceof r.default?this.attributes.attribute(o,t):t&&(null==o||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,o){var n=e.prototype.replaceWith.call(this,t,o);return this.attributes.copy(n),n},t.prototype.update=function(t,o){var n=this;e.prototype.update.call(this,t,o),t.some(function(e){return e.target===n.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(o,n){var i=e.prototype.wrap.call(this,o,n);return i instanceof t&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},t}(s.default);t.default=c},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=o(5),a=o(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var o=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(o+=1),[this.parent.domNode,o]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),i=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,o,i){var r=this.isolate(e,t);if(null!=n.query(o,n.Scope.BLOT)&&i)r.wrap(o,i);else if(null!=n.query(o,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);r.wrap(a),a.format(o,i)}},e.prototype.insertAt=function(e,t,o){var i=null==o?n.create("text",t):n.create(t,o),r=this.split(e);this.parent.insertBefore(i,r)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var o=null;e.children.insertBefore(this,t),null!=t&&(o=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==o||e.domNode.insertBefore(this.domNode,o),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var o=this.split(e);return o.split(t),o},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var o="string"==typeof e?n.create(e,t):e;return o.replace(this),o},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var o="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(o,this.next),o.appendChild(this),o},e.blotName="abstract",e}();t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i=o(7),r=o(8),a=o(0),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),o=i.default.keys(this.domNode),s=r.default.keys(this.domNode);t.concat(o).concat(s).forEach(function(t){var o=a.query(t,a.Scope.ATTRIBUTE);o instanceof n.default&&(e.attributes[o.attrName]=o)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(o){var n=t.attributes[o].value(t.domNode);e.format(o,n)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,o){return t[o]=e.attributes[o].value(e.domNode),t},{})},e}();t.default=s},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function r(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){r(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(r(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(o(1).default);t.default=a},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function r(e){var t=e.split("-"),o=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+o}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[r(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[r(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[r(this.keyName)];return this.canAdd(e,t)?t:""},t}(o(1).default);t.default=a},function(e,t,o){e.exports=o(10)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(3),r=o(4),a=o(12),s=o(13),l=o(14),c=o(15),u=o(16),h=o(1),d=o(7),p=o(8),f=o(6),m=o(0),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:i.default,Leaf:r.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:h.default,Class:d.default,Style:p.default,Store:f.default}};t.default=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,o=this.iterator();t=o();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,o=this.head;null!=o;){if(o===e)return t;t+=o.length(),o=o.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var o,n=this.iterator();o=n();){var i=o.length();if(e<i||t&&e===i&&(null==o.next||0!==o.next.length()))return[o,e];e-=i}return[null,0]},e.prototype.forEach=function(e){for(var t,o=this.iterator();t=o();)e(t)},e.prototype.forEachAt=function(e,t,o){if(!(t<=0))for(var n,i=this.find(e),r=i[0],a=e-i[1],s=this.iterator(r);(n=s())&&a<e+t;){var l=n.length();e>a?o(n,e-a,Math.min(t,a+l-e)):o(n,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce(function(t,o){return t.push(e(o)),t},[])},e.prototype.reduce=function(e,t){for(var o,n=this.iterator();o=n();)t=e(t,o);return t},e}();t.default=n},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=o(0),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var o=e.call(this,t)||this;return o.scroll=o,o.observer=new MutationObserver(function(e){o.update(e)}),o.observer.observe(o.domNode,s),o.attach(),o}return i(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,o){this.update(),0===t&&o===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,o)},t.prototype.formatAt=function(t,o,n,i){this.update(),e.prototype.formatAt.call(this,t,o,n,i)},t.prototype.insertAt=function(t,o,n){this.update(),e.prototype.insertAt.call(this,t,o,n)},t.prototype.optimize=function(t,o){var n=this;void 0===t&&(t=[]),void 0===o&&(o={}),e.prototype.optimize.call(this,o);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof r.default&&e.children.forEach(l),e.optimize(o))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=a.find(e,!1);s(t,!1),t instanceof r.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(l),i=(c=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t,o){var n=this;void 0===o&&(o={}),(t=t||this.observer.takeRecords()).map(function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],o)}),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,o),this.optimize(t,o)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(r.default);t.default=l},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=o(3),a=o(0);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(o){if(o.tagName!==t.tagName)return e.formats.call(this,o)},t.prototype.format=function(o,n){var i=this;o!==this.statics.blotName||n?e.prototype.format.call(this,o,n):(this.children.forEach(function(e){e instanceof r.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,o,n,i){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,o).format(n,i):e.prototype.formatAt.call(this,t,o,n,i)},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(e[o]!==t[o])return!1;return!0}(n,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(r.default);t.default=s},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=o(3),a=o(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(o){var n=a.query(t.blotName).tagName;if(o.tagName!==n)return e.formats.call(this,o)},t.prototype.format=function(o,n){null!=a.query(o,a.Scope.BLOCK)&&(o!==this.statics.blotName||n?e.prototype.format.call(this,o,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,o,n,i){null!=a.query(n,a.Scope.BLOCK)?this.format(n,i):e.prototype.formatAt.call(this,t,o,n,i)},t.prototype.insertAt=function(t,o,n){if(null==n||null!=a.query(o,a.Scope.INLINE))e.prototype.insertAt.call(this,t,o,n);else{var i=this.split(t),r=a.create(o,n);i.parent.insertBefore(r,i)}},t.prototype.update=function(t,o){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,o)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(r.default);t.default=s},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(e){},t.prototype.format=function(t,o){e.prototype.formatAt.call(this,0,this.length(),t,o)},t.prototype.formatAt=function(t,o,n,i){0===t&&o===this.length()?this.format(n,i):e.prototype.formatAt.call(this,t,o,n,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(o(4).default);t.default=r},function(e,t,o){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=o(4),a=o(0),s=function(e){function t(t){var o=e.call(this,t)||this;return o.text=o.statics.value(o.domNode),o}return i(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,o,n){null==n?(this.text=this.text.slice(0,t)+o+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,o,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=a.create(this.domNode.splitText(e));return this.parent.insertBefore(o,this.next),this.text=this.statics.value(this.domNode),o},t.prototype.update=function(e,t){var o=this;e.some(function(e){return"characterData"===e.type&&e.target===o.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=s}])},e.exports=n()},function(e,t,o){"use strict";var n=o(10);function i(e,t,o){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(o):r.value}})(e,t,o||e)}o.d(t,"a",function(){return i})},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,o){"use strict";t.__esModule=!0;var n,i=o(663),r=(n=i)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}()},function(e,t){var o=e.exports={version:"2.6.4"};"number"==typeof __e&&(__e=o)},function(e,t,o){"use strict";var n=o(571),i=o.n(n),r=o(616),a=o(587),s=o(617),l=o(608),c=o(651),u=o(609),h=o(589),d=o(49),p=o(8),f=o(9),m=o(11),g=o(10),b=o(572),v=o(12),j=o(600),y=o(594);function O(e){return e instanceof a.c||e instanceof a.a}var _=function(e){function t(e,o){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(g.a)(t).call(this,e))).emitter=o.emitter,Array.isArray(o.whitelist)&&(n.whitelist=o.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),n.domNode.addEventListener("DOMNodeInserted",function(){}),n.optimize(),n.enable(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,o){var n=this.line(e),i=Object(d.a)(n,2),r=i[0],l=i[1],c=this.line(e+o),u=Object(d.a)(c,1)[0];if(Object(b.a)(Object(g.a)(t.prototype),"deleteAt",this).call(this,e,o),null!=u&&r!==u&&l>0){if(r instanceof a.a||u instanceof a.a)return void this.optimize();if(r instanceof y.b){var h=r.newlineIndex(r.length(),!0);if(h>-1&&(r=r.split(h+1))===u)return void this.optimize()}else if(u instanceof y.b){var p=u.newlineIndex(0);p>-1&&u.split(p+1)}var f=u.children.head instanceof s.a?null:u.children.head;r.moveChildren(u,f),r.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,o,n,i){(null==this.whitelist||this.whitelist[n])&&(Object(b.a)(Object(g.a)(t.prototype),"formatAt",this).call(this,e,o,n,i),this.optimize())}},{key:"insertAt",value:function(e,o,n){if(null==n||null==this.whitelist||this.whitelist[o]){if(e>=this.length())if(null==n||null==i.a.query(o,i.a.Scope.BLOCK)){var r=i.a.create(this.statics.defaultChild);this.appendChild(r),null==n&&o.endsWith("\n")&&(o=o.slice(0,-1)),r.insertAt(0,o,n)}else{var a=i.a.create(o,n);this.appendChild(a)}else Object(b.a)(Object(g.a)(t.prototype),"insertAt",this).call(this,e,o,n);this.optimize()}}},{key:"insertBefore",value:function(e,o){if(e.statics.scope===i.a.Scope.INLINE_BLOT){var n=i.a.create(this.statics.defaultChild);n.appendChild(e),e=n}Object(b.a)(Object(g.a)(t.prototype),"insertBefore",this).call(this,e,o)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(O,e)}},{key:"lines",value:function(){return function e(t,o,n){var r=[],a=n;return t.children.forEachAt(o,n,function(t,o,n){O(t)?r.push(t):t instanceof i.a.Container&&(r=r.concat(e(t,o,a))),a-=n}),r}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(Object(b.a)(Object(g.a)(t.prototype),"optimize",this).call(this,e,o),e.length>0&&this.emitter.emit(j.a.events.SCROLL_OPTIMIZE,e,o))}},{key:"path",value:function(e){return Object(b.a)(Object(g.a)(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var o=j.a.sources.USER;"string"==typeof e&&(o=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(j.a.events.SCROLL_BEFORE_UPDATE,o,e),Object(b.a)(Object(g.a)(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(j.a.events.SCROLL_UPDATE,o,e)}}}]),t}(i.a.Scroll);_.blotName="scroll",_.className="ql-editor",_.tagName="DIV",_.defaultChild="block",_.allowedChildren=[a.c,a.a,l.a];var C=_,w=o(595),S=o(681),x=o(653),E=o(601);r.a.register({"blots/block":a.c,"blots/block/embed":a.a,"blots/break":s.a,"blots/container":l.a,"blots/cursor":c.a,"blots/embed":u.a,"blots/inline":h.a,"blots/scroll":C,"blots/text":w.a,"modules/clipboard":S.a,"modules/history":x.a,"modules/keyboard":E.a}),i.a.register(a.c,s.a,c.a,h.a,C,w.a);t.a=r.a},function(e,t,o){e.exports={default:o(727),__esModule:!0}},function(e,t,o){"use strict";t.__esModule=!0;var n,i=o(664),r=(n=i)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,o){"use strict";t.__esModule=!0;var n=a(o(750)),i=a(o(754)),r=a(o(664));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,r.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,o){"use strict";o.d(t,"l",function(){return f}),o.d(t,"b",function(){return m}),o.d(t,"j",function(){return g}),o.d(t,"n",function(){return b}),o.d(t,"g",function(){return v}),o.d(t,"h",function(){return j}),o.d(t,"i",function(){return y}),o.d(t,"d",function(){return O}),o.d(t,"e",function(){return C}),o.d(t,"f",function(){return w}),o.d(t,"k",function(){return S}),o.d(t,"a",function(){return x}),o.d(t,"c",function(){return E}),o.d(t,"m",function(){return k});var n=o(6),i=o(49),r=o(600),a=o(576),s=o(583),l=o.n(s),c=o(16),u=(o(50),o(602)),h=o(587),d=o(588);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function p(e){if(e)return{start:e.index,end:e.index+e.length-1}}function f(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null===o&&(o=e.getSelection()),!!o&&(o.length>0?e.scroll.descendants(t,o.index,o.length).length>0:!!e.scroll.descendant(t,o.index)[0])}function m(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===o&&(o=e.getSelection());var n=e.scroll.descendants(t,o.index,o.length),i=n[0],a=n[n.length-1],s=function(e,t,o){var n=p(e),i=p(t),r=p(o);return n&&i&&i.start<n.start&&(n.start=i.start),n&&r&&r.end>n.end&&(n.end=r.end),function(e){if(e)return{index:e.start,length:e.end-e.start+1}}(n)}(o,i&&{index:i.offset(e.scroll),length:i.length()},a&&{index:a.offset(e.scroll),length:a.length()});s&&e.formatText(s.index,s.length,"link",!1,r.a.sources.USER)}function g(e,t){return function e(t,o){return!(!o.children||!o.children.head)&&(t===o.children.head||e(t,o.children.head))}(e,t.scroll)}function b(e){var t=e.getLine(0),o=Object(i.a)(t,1)[0],a=o.constructor.blotName,s=(new l.a).retain(o.length(),Object(n.a)({},a,!1));e.updateContents(s,r.a.sources.USER)}function v(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.getLine(t.index),a=Object(i.a)(n,2),s=a[0],c=a[1],u=new h.c(h.c.create("")),d=s.next;u.insertInto(e.scroll,d);var p=t.index+s.length()-c,f=(new l.a).retain(p-o).delete(o);e.updateContents(f,r.a.sources.USER),e.setSelection(p-o,r.a.sources.USER)}function j(e){var t=new h.c(h.c.create(""));e.scroll.appendChild(t),e.update(a.a.sources.USER),e.setSelection(e.scroll.length(),0)}function y(e){var t=new h.c(h.c.create(""));e.scroll.insertBefore(t,e.scroll.children.head),e.update(a.a.sources.USER),e.setSelection(0,0)}function O(e,t,o){var n=o?function(e){return e instanceof o}:function(e){return!0};return e.scroll.descendant(n,t)[0]}var _=1;function C(e,t){if(!e.hasFocus())return null;if(!t)return null;if(t.length>0)return null;if(f(e,d.a,t))return null;var o=e.getLeaf(t.index),n=Object(i.a)(o,1)[0].offset(e.scroll),r=t.index-n,a=e.getText(n,r),s=a.lastIndexOf("@");if(-1===s)return null;var l=n+s,u=a.substring(s);return u.length-1>=_&&Object(c.i)(u,!1,!1)?{index:l,length:u.length}:null}new Map;function w(e,t,o){var n=e.getLine(t)[0],i=n.offset(e.scroll),r=n.split(t-i);n.parent.insertBefore(o,r||void 0)}function S(e,t){return!!t&&!!O(e,t.index,u.a)}var x="[editor] force selection update";function E(){document.dispatchEvent(new CustomEvent(x))}function k(e,t){Object(c.f)("Setting existing content as contents of editor"),e.setContents(t),e.getModule("history").clear()}},function(e,t){var o=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},function(e,t,o){var n=o(635)("wks"),i=o(622),r=o(581).Symbol,a="function"==typeof r;(e.exports=function(e){return n[e]||(n[e]=a&&r[e]||(a?r:i)("Symbol."+e))}).store=n},function(e,t,o){var n=o(686),i=o(607),r=o(593),a=o(629),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var o={};return 0===e.length?this:(o.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(o.attributes=t),this.push(o))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var o={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(o.attributes=t),this.push(o)},l.prototype.push=function(e){var t=this.ops.length,o=this.ops[t-1];if(e=r(!0,{},e),"object"==typeof o){if("number"==typeof e.delete&&"number"==typeof o.delete)return this.ops[t-1]={delete:o.delete+e.delete},this;if("number"==typeof o.delete&&null!=e.insert&&(t-=1,"object"!=typeof(o=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,o.attributes)){if("string"==typeof e.insert&&"string"==typeof o.insert)return this.ops[t-1]={insert:o.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof o.retain)return this.ops[t-1]={retain:o.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],o=[];return this.forEach(function(n){(e(n)?t:o).push(n)}),[t,o]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+a.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var o=[],n=a.iterator(this.ops),i=0;i<t&&n.hasNext();){var r;i<e?r=n.next(e-i):(r=n.next(t-i),o.push(r)),i+=a.length(r)}return new l(o)},l.prototype.compose=function(e){for(var t=a.iterator(this.ops),o=a.iterator(e.ops),n=new l;t.hasNext()||o.hasNext();)if("insert"===o.peekType())n.push(o.next());else if("delete"===t.peekType())n.push(t.next());else{var i=Math.min(t.peekLength(),o.peekLength()),r=t.next(i),s=o.next(i);if("number"==typeof s.retain){var c={};"number"==typeof r.retain?c.retain=i:c.insert=r.insert;var u=a.attributes.compose(r.attributes,s.attributes,"number"==typeof r.retain);u&&(c.attributes=u),n.push(c)}else"number"==typeof s.delete&&"number"==typeof r.retain&&n.push(s)}return n.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var o=[this,e].map(function(t){return t.map(function(o){if(null!=o.insert)return"string"==typeof o.insert?o.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),r=new l,c=n(o[0],o[1],t),u=a.iterator(this.ops),h=a.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var o=0;switch(e[0]){case n.INSERT:o=Math.min(h.peekLength(),t),r.push(h.next(o));break;case n.DELETE:o=Math.min(t,u.peekLength()),u.next(o),r.delete(o);break;case n.EQUAL:o=Math.min(u.peekLength(),h.peekLength(),t);var s=u.next(o),l=h.next(o);i(s.insert,l.insert)?r.retain(o,a.attributes.diff(s.attributes,l.attributes)):r.push(l).delete(o)}t-=o}}),r.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var o=a.iterator(this.ops),n=new l,i=0;o.hasNext();){if("insert"!==o.peekType())return;var r=o.peek(),s=a.length(r)-o.peekLength(),c="string"==typeof r.insert?r.insert.indexOf(t,s)-s:-1;if(c<0)n.push(o.next());else if(c>0)n.push(o.next(c));else{if(!1===e(n,o.next(1).attributes||{},i))return;i+=1,n=new l}}n.length()>0&&e(n,{},i)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var o=a.iterator(this.ops),n=a.iterator(e.ops),i=new l;o.hasNext()||n.hasNext();)if("insert"!==o.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())i.push(n.next());else{var r=Math.min(o.peekLength(),n.peekLength()),s=o.next(r),c=n.next(r);if(s.delete)continue;c.delete?i.push(c):i.retain(r,a.attributes.transform(s.attributes,c.attributes,t))}else i.retain(a.length(o.next()));return i.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var o=a.iterator(this.ops),n=0;o.hasNext()&&n<=e;){var i=o.peekLength(),r=o.peekType();o.next(),"delete"!==r?("insert"===r&&(n<e||!t)&&(e+=i),n+=i):e-=Math.min(i,e-n)}return e},e.exports=l},function(e,t,o){var n=o(581),i=o(575),r=o(613),a=o(598),s=o(597),l=function(e,t,o){var c,u,h,d=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,b=e&l.W,v=p?i:i[t]||(i[t]={}),j=v.prototype,y=p?n:f?n[t]:(n[t]||{}).prototype;for(c in p&&(o=t),o)(u=!d&&y&&void 0!==y[c])&&s(v,c)||(h=u?y[c]:o[c],v[c]=p&&"function"!=typeof y[c]?o[c]:g&&u?r(h,n):b&&y[c]==h?function(e){var t=function(t,o,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o)}return new e(t,o,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):m&&"function"==typeof h?r(Function.call,h):h,m&&((v.virtual||(v.virtual={}))[c]=h,e&l.R&&j&&!j[c]&&a(j,c,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,o){var n=o(591);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,o){"use strict";t.__esModule=!0;var n,i=o(673),r=(n=i)&&n.__esModule?n:{default:n};t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}},function(e,t,o){"use strict";o.d(t,"b",function(){return y}),o.d(t,"a",function(){return v}),o.d(t,"c",function(){return j});var n=o(8),i=o(9),r=o(11),a=o(10),s=o(572),l=o(12),c=o(593),u=o.n(c),h=o(583),d=o.n(h),p=o(571),f=o.n(p),m=o(617),g=o(589),b=o(595),v=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"attach",value:function(){Object(s.a)(Object(a.a)(t.prototype),"attach",this).call(this),this.attributes=new f.a.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new d.a).insert(this.value(),u()(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var o=f.a.query(e,f.a.Scope.BLOCK_ATTRIBUTE);null!=o&&this.attributes.attribute(o,t)}},{key:"formatAt",value:function(e,t,o,n){this.format(o,n)}},{key:"insertAt",value:function(e,o,n){if("string"==typeof o&&o.endsWith("\n")){var i=f.a.create(j.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,o.slice(0,-1))}else Object(s.a)(Object(a.a)(t.prototype),"insertAt",this).call(this,e,o,n)}}]),t}(f.a.Embed);v.scope=f.a.Scope.BLOCK_BLOT;var j=function(e){function t(e){var o;return Object(n.a)(this,t),(o=Object(r.a)(this,Object(a.a)(t).call(this,e))).cache={},o}return Object(l.a)(t,e),Object(i.a)(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(f.a.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))},new d.a).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,o){Object(s.a)(Object(a.a)(t.prototype),"deleteAt",this).call(this,e,o),this.cache={}}},{key:"formatAt",value:function(e,o,n,i){o<=0||(f.a.query(n,f.a.Scope.BLOCK)?e+o===this.length()&&this.format(n,i):Object(s.a)(Object(a.a)(t.prototype),"formatAt",this).call(this,e,Math.min(o,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,o,n){if(null!=n)return Object(s.a)(Object(a.a)(t.prototype),"insertAt",this).call(this,e,o,n);if(0!==o.length){var i=o.split("\n"),r=i.shift();r.length>0&&(e<this.length()-1||null==this.children.tail?Object(s.a)(Object(a.a)(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});var l=this;i.reduce(function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length},e+r.length)}}},{key:"insertBefore",value:function(e,o){var n=this.children.head;Object(s.a)(Object(a.a)(t.prototype),"insertBefore",this).call(this,e,o),n instanceof m.a&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=Object(s.a)(Object(a.a)(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,o){Object(s.a)(Object(a.a)(t.prototype),"moveChildren",this).call(this,e,o),this.cache={}}},{key:"optimize",value:function(e){Object(s.a)(Object(a.a)(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return Object(s.a)(Object(a.a)(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){Object(s.a)(Object(a.a)(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=Object(s.a)(Object(a.a)(t.prototype),"split",this).call(this,e,o);return this.cache={},i}}]),t}(f.a.Block);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=u()(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}j.blotName="block",j.tagName="P",j.defaultChild="break",j.allowedChildren=[g.a,f.a.Embed,b.a]},function(e,t,o){"use strict";o.d(t,"a",function(){return d});var n=o(8),i=o(9),r=o(11),a=o(14),s=o(10),l=o(572),c=o(12),u=o(6),h=o(594),d=function(e){function t(){var e,o;Object(n.a)(this,t);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return o=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l))),Object(u.a)(Object(a.a)(o),"baseCodeBlockReplace",h.b.prototype.replaceWith.bind(Object(a.a)(o))),o}return Object(c.a)(t,e),Object(i.a)(t,[{key:"replaceWith",value:function(e,t){var o=this.baseCodeBlockReplace(e,t);return o.attach(),o.domNode.querySelectorAll("*").forEach(function(e){e.setAttribute("class","")}),o}}],[{key:"create",value:function(e){var o=Object(l.a)(Object(s.a)(t),"create",this).call(this,e);return o.setAttribute("spellcheck",!1),o.classList.add("code"),o.classList.add("codeBlock"),o}}]),t}(o(654).a)},function(e,t,o){"use strict";var n=o(8),i=o(9),r=o(11),a=o(10),s=o(572),l=o(12),c=o(595),u=o(571),h=o.n(u),d=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"formatAt",value:function(e,o,n,i){if(t.compare(this.statics.blotName,n)<0&&h.a.query(n,h.a.Scope.BLOT)){var r=this.isolate(e,o);i&&r.wrap(n,i)}else Object(s.a)(Object(a.a)(t.prototype),"formatAt",this).call(this,e,o,n,i)}},{key:"optimize",value:function(e){if(Object(s.a)(Object(a.a)(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var o=this.parent.isolate(this.offset(),this.length());this.moveChildren(o),o.wrap(this)}}}],[{key:"compare",value:function(e,o){var n=t.order.indexOf(e),i=t.order.indexOf(o);return n>=0||i>=0?n-i:e===o?0:e<o?-1:1}}]),t}(h.a.Inline);d.allowedChildren=[d,h.a.Embed,c.a],d.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.a=d},function(e,t,o){var n=o(585),i=o(662),r=o(638),a=Object.defineProperty;t.f=o(592)?Object.defineProperty:function(e,t,o){if(n(e),t=r(t,!0),n(o),i)try{return a(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,o){e.exports=!o(603)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,o){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},a=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,o=n.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!r)return!1;for(t in e);return void 0===t||n.call(e,t)};e.exports=function e(){var t,o,n,i,s,l,c=arguments[0],u=1,h=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},u=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});u<h;++u)if(null!=(t=arguments[u]))for(o in t)n=c[o],c!==(i=t[o])&&(d&&i&&(a(i)||(s=r(i)))?(s?(s=!1,l=n&&r(n)?n:[]):l=n&&a(n)?n:{},c[o]=e(d,l,i)):void 0!==i&&(c[o]=i));return c}},function(e,t,o){"use strict";o.d(t,"a",function(){return b}),o.d(t,"b",function(){return v});var n=o(49),i=o(9),r=o(572),a=o(8),s=o(11),l=o(10),c=o(12),u=o(583),h=o.n(u),d=o(571),p=o.n(d),f=o(587),m=o(589),g=o(595),b=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(m.a);b.blotName="code",b.tagName="CODE";var v=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,o){return t.insert(o).insert("\n",e.formats())},new h.a)}},{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o){var i=this.descendant(g.a,this.length()-1),a=Object(n.a)(i,1)[0];null!=a&&a.deleteAt(a.length()-1,1),Object(r.a)(Object(l.a)(t.prototype),"format",this).call(this,e,o)}}},{key:"formatAt",value:function(e,o,n,i){if(0!==o&&null!=p.a.query(n,p.a.Scope.BLOCK)&&(n!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var r=this.newlineIndex(e);if(!(r<0||r>=e+o)){var a=this.newlineIndex(e,!0)+1,s=r-a+1,l=this.isolate(a,s),c=l.next;l.format(n,i),c instanceof t&&c.formatAt(0,e-a+o-s,n,i)}}}},{key:"insertAt",value:function(e,t,o){if(null==o){var i=this.descendant(g.a,e),r=Object(n.a)(i,2),a=r[0],s=r[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(p.a.create("text","\n")),Object(r.a)(Object(l.a)(t.prototype),"optimize",this).call(this,e);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===o.statics.formats(o.domNode)&&(o.optimize(e),o.moveChildren(this),o.remove())}},{key:"replace",value:function(e){Object(r.a)(Object(l.a)(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=p.a.find(e);null==t?e.parentNode.removeChild(e):t instanceof p.a.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var o=Object(r.a)(Object(l.a)(t),"create",this).call(this,e);return o.setAttribute("spellcheck",!1),o}},{key:"formats",value:function(){return!0}}]),t}(f.c);v.blotName="code-block",v.tagName="PRE",v.TAB="  "},function(e,t,o){"use strict";var n=o(8),i=o(11),r=o(10),a=o(12),s=o(571),l=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(a.a)(t,e),t}(o.n(s).a.Text);t.a=l},function(e,t,o){"use strict";var n=o(8),i=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),this.quill=t,this.options=o};i.DEFAULTS={},t.a=i},function(e,t){var o={}.hasOwnProperty;e.exports=function(e,t){return o.call(e,t)}},function(e,t,o){var n=o(590),i=o(624);e.exports=o(592)?function(e,t,o){return n.f(e,t,i(1,o))}:function(e,t,o){return e[t]=o,e}},function(e,t,o){var n=o(668),i=o(633);e.exports=function(e){return n(i(e))}},function(e,t,o){"use strict";var n=o(8),i=o(9),r=o(11),a=o(10),s=o(572),l=o(12),c=o(684),u=o.n(c),h=o(606),d=Object(h.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var o;e.__quill&&e.__quill.emitter&&(o=e.__quill.emitter).handleDOM.apply(o,t)})})});var p=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(a.a)(t).call(this))).listeners={},e.on("error",d.error),e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"emit",value:function(){d.log.apply(d,arguments),Object(s.a)(Object(a.a)(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach(function(t){var n=t.node,i=t.handler;(e.target===n||n.contains(e.target))&&i.apply(void 0,[e].concat(o))})}},{key:"listenDOM",value:function(e,t,o){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:o})}}]),t}(u.a);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},t.a=p},function(e,t,o){"use strict";o.d(t,"a",function(){return k});var n=o(6),i=o(37),r=o(49),a=o(8),s=o(11),l=o(10),c=o(9),u=o(12),h=o(630),d=o.n(h),p=o(607),f=o.n(p),m=o(593),g=o.n(m),b=o(583),v=o.n(b),j=o(629),y=o.n(j),O=o(571),_=o.n(O),C=o(616),w=o(606),S=o(596),x=Object(w.a)("quill:keyboard"),E=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",k=function(e){function t(e,o){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e,o))).bindings={},Object.keys(n.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])}),n.addBinding({key:t.keys.ENTER,shiftKey:null},N),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},I),n.addBinding({key:t.keys.DELETE},{collapsed:!0},T)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},I),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},T)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},R),n.addBinding({key:t.keys.DELETE},{collapsed:!1},R),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},I),n.listen(),n}return Object(u.a)(t,e),Object(c.a)(t,null,[{key:"match",value:function(e,t){return t=z(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(o){return!!t[o]!==e[o]&&null!==t[o]})&&t.key===(e.which||e.keyCode)}}]),Object(c.a)(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=z(e);if(null==n||null==n.key)return x.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof o&&(o={handler:o}),n=g()(n,t,o),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(o){if(!o.defaultPrevented){var n=o.which||o.keyCode,a=(e.bindings[n]||[]).filter(function(e){return t.match(o,e)});if(0!==a.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var l=e.quill.getLine(s.index),c=Object(r.a)(l,2),u=c[0],h=c[1],d=e.quill.getLeaf(s.index),p=Object(r.a)(d,2),m=p[0],g=p[1],b=0===s.length?[m,g]:e.quill.getLeaf(s.index+s.length),v=Object(r.a)(b,2),j=v[0],y=v[1],O=m instanceof _.a.Text?m.value().slice(0,g):"",C=j instanceof _.a.Text?j.value().slice(y):"",w={collapsed:0===s.length,empty:0===s.length&&u.length()<=1,format:e.quill.getFormat(s),offset:h,prefix:O,suffix:C};a.some(function(t){if(null!=t.collapsed&&t.collapsed!==w.collapsed)return!1;if(null!=t.empty&&t.empty!==w.empty)return!1;if(null!=t.offset&&t.offset!==w.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==w.format[e]}))return!1}else if("object"===Object(i.a)(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=w.format[e]:!1===t.format[e]?null==w.format[e]:f()(t.format[e],w.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(w.prefix))&&(!(null!=t.suffix&&!t.suffix.test(w.suffix))&&!0!==t.handler.call(e,s,w))})&&o.preventDefault()}}}})}}]),t}(S.a);function L(e,t){var o,i=e===k.keys.LEFT?"prefix":"suffix";return o={key:e,shiftKey:t,altKey:null},Object(n.a)(o,i,/^$/),Object(n.a)(o,"handler",function(o){var n=o.index;e===k.keys.RIGHT&&(n+=o.length+1);var i=this.quill.getLeaf(n);return!(Object(r.a)(i,1)[0]instanceof _.a.Embed)||(e===k.keys.LEFT?t?this.quill.setSelection(o.index-1,o.length+1,C.a.sources.USER):this.quill.setSelection(o.index-1,C.a.sources.USER):t?this.quill.setSelection(o.index,o.length+1,C.a.sources.USER):this.quill.setSelection(o.index+o.length+1,C.a.sources.USER),!1)}),o}function I(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var o=this.quill.getLine(e.index),n=Object(r.a)(o,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=Object(r.a)(a,1)[0];if(null!=s&&s.length()>1){var l=n.formats(),c=this.quill.getFormat(e.index-1,1);i=y.a.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,C.a.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-u,u,i,C.a.sources.USER),this.quill.focus()}}function T(e,t){var o=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-o)){var n={},i=0,a=this.quill.getLine(e.index),s=Object(r.a)(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=Object(r.a)(l,1)[0];if(c){var u=s.formats(),h=this.quill.getFormat(e.index,1);n=y.a.attributes.diff(u,h)||{},i=c.length()}}this.quill.deleteText(e.index,o,C.a.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,o,n,C.a.sources.USER)}}function R(e){var t=this.quill.getLines(e),o={};if(t.length>1){var n=t[0].formats(),i=t[t.length-1].formats();o=y.a.attributes.diff(i,n)||{}}this.quill.deleteText(e,C.a.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index,1,o,C.a.sources.USER),this.quill.setSelection(e.index,C.a.sources.SILENT),this.quill.focus()}function N(e,t){var o=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce(function(e,o){return _.a.query(o,_.a.Scope.BLOCK)&&!Array.isArray(t.format[o])&&(e[o]=t.format[o]),e},{});this.quill.insertText(e.index,"\n",n,C.a.sources.USER),this.quill.setSelection(e.index+1,C.a.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&o.quill.format(e,t.format[e],C.a.sources.USER))})}function M(e){return{key:k.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var o=_.a.query("code-block"),n=t.index,i=t.length,a=this.quill.scroll.descendant(o,n),s=Object(r.a)(a,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,d=l.newlineIndex(u+c+i),p=l.domNode.textContent.slice(h,d).split("\n");c=0,p.forEach(function(t,r){e?(l.insertAt(h+c,o.TAB),c+=o.TAB.length,0===r?n+=o.TAB.length:i+=o.TAB.length):t.startsWith(o.TAB)&&(l.deleteAt(h+c,o.TAB.length),c-=o.TAB.length,0===r?n-=o.TAB.length:i-=o.TAB.length),c+=t.length+1}),this.quill.update(C.a.sources.USER),this.quill.setSelection(n,i,C.a.sources.SILENT)}}}}function A(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,o){this.quill.format(e,!o.format[e],C.a.sources.USER)}}}function z(e){if("string"==typeof e||"number"==typeof e)return z({key:e});if("object"===Object(i.a)(e)&&(e=d()(e,!1)),"string"==typeof e.key)if(null!=k.keys[e.key.toUpperCase()])e.key=k.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[E]=e.shortKey,delete e.shortKey),e}k.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},k.DEFAULTS={bindings:{bold:A("bold"),italic:A("italic"),underline:A("underline"),indent:{key:k.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",C.a.sources.USER)}},outdent:{key:k.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",C.a.sources.USER)}},"outdent backspace":{key:k.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",C.a.sources.USER):null!=t.format.list&&this.quill.format("list",!1,C.a.sources.USER)}},"indent code-block":M(!0),"outdent code-block":M(!1),"remove tab":{key:k.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,C.a.sources.USER)}},tab:{key:k.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new v.a).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,C.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,C.a.sources.SILENT)}},"list empty enter":{key:k.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,C.a.sources.USER),t.format.indent&&this.quill.format("indent",!1,C.a.sources.USER)}},"checklist enter":{key:k.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),o=Object(r.a)(t,2),n=o[0],i=o[1],a=g()({},n.formats(),{list:"checked"}),s=(new v.a).retain(e.index).insert("\n",a).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,C.a.sources.USER),this.quill.setSelection(e.index+1,C.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:k.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var o=this.quill.getLine(e.index),n=Object(r.a)(o,2),i=n[0],a=n[1],s=(new v.a).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,C.a.sources.USER),this.quill.setSelection(e.index+1,C.a.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var o,n=t.prefix.length,i=this.quill.getLine(e.index),a=Object(r.a)(i,2),s=a[0],l=a[1];if(l>n)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(e.index," ",C.a.sources.USER),this.quill.history.cutoff();var c=(new v.a).retain(e.index-l).delete(n+1).retain(s.length()-2-l).retain(1,{list:o});this.quill.updateContents(c,C.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,C.a.sources.SILENT)}},"code exit":{key:k.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),o=Object(r.a)(t,2),n=o[0],i=o[1],a=(new v.a).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,C.a.sources.USER)}},"embed left":L(k.keys.LEFT,!1),"embed left shift":L(k.keys.LEFT,!0),"embed right":L(k.keys.RIGHT,!1),"embed right shift":L(k.keys.RIGHT,!0)}}},function(e,t,o){"use strict";o.d(t,"a",function(){return b});var n=o(8),i=o(11),r=o(9),a=o(12),s=o(10),l=o(572),c=o(6),u=o(576),h=o(587),d=o(22),p=o(16),f=o(571),m=o.n(f),g=o(580),b=function(e){function t(e){var o;return Object(n.a)(this,t),(o=Object(i.a)(this,Object(s.a)(t).call(this,e))).focusableElement.setAttribute("tabindex",-1),o}return Object(a.a)(t,e),Object(r.a)(t,null,[{key:"create",value:function(e){var o=Object(l.a)(Object(s.a)(t),"create",this).call(this,e);return o.setAttribute("contenteditable",!1),o.classList.add(d.a),o}}]),Object(r.a)(t,[{key:"remove",value:function(){if(!this.quill)return Object(p.h)("Attempted to focus a an embed blot that has not been mounted yet.");var e=this.focusableElement===document.activeElement,o=this.offset(this.quill.scroll);if(Object(l.a)(Object(s.a)(t.prototype),"remove",this).call(this),this.quill.update(u.a.sources.USER),e){var n=Object(g.d)(this.quill,o,t);n?n.focus():this.quill.setSelection(o,0,u.a.sources.USER)}}},{key:"insertNewlineAfter",value:function(){if(!this.quill)return Object(p.h)("Attempted to focus a an embed blot that has not been mounted yet.");m.a.create("block","").insertInto(this.quill.scroll,this.next),this.quill.update(u.a.sources.USER),this.quill.setSelection(this.offset()+1,0,u.a.sources.USER)}},{key:"focus",value:function(){if(!this.quill)return Object(p.h)("Attempted to focus a an embed blot that has not been mounted yet.");var e=this.offset(this.scroll);this.quill.setSelection(e,0,u.a.sources.API),this.focusableElement.focus()}},{key:"focusableElement",get:function(){if(!(this.domNode instanceof HTMLElement))throw new Error("A focusable embed blot must be initialize with an HTMLElement.");if(this.domNode.classList.contains(d.a))return this.domNode;var e=this.domNode.querySelector("."+d.a);if(e instanceof HTMLElement)return e;throw new Error("Attempting to focus a DOM Node that either does not exist or is not an HTMLElement."+e)}},{key:"quill",get:function(){return this.scroll&&this.scroll.domNode.parentNode?u.a.find(this.scroll.domNode.parentNode):null}}]),t}(h.a);Object(c.a)(b,"tagName","div"),Object(c.a)(b,"className","js-embed"),Object(c.a)(b,"blotName","embed-focusable")},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,o){var n;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=i:void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,o){"use strict";var n=["error","warn","log","info"],i="warn";function r(e){if(n.indexOf(e)<=n.indexOf(i)){for(var t,o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];(t=console)[e].apply(t,r)}}function a(e){return n.reduce(function(t,o){return t[o]=r.bind(console,o,e),t},{})}r.level=a.level=function(e){i=e},t.a=a},function(e,t,o){var n=Array.prototype.slice,i=o(687),r=o(688),a=e.exports=function(e,t,o){return o||(o={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?o.strict?e===t:e==t:function(e,t,o){var c,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(r(e))return!!r(t)&&(e=n.call(e),t=n.call(t),a(e,t,o));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var h=i(e),d=i(t)}catch(e){return!1}if(h.length!=d.length)return!1;for(h.sort(),d.sort(),c=h.length-1;c>=0;c--)if(h[c]!=d[c])return!1;for(c=h.length-1;c>=0;c--)if(u=h[c],!a(e[u],t[u],o))return!1;return typeof e==typeof t}(e,t,o))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,o){"use strict";var n=o(8),i=o(11),r=o(10),a=o(12),s=o(571),l=o.n(s),c=o(587),u=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(a.a)(t,e),t}(l.a.Container);u.allowedChildren=[c.c,c.a,u],t.a=u},function(e,t,o){"use strict";var n=o(8),i=o(9),r=o(11),a=o(10),s=o(572),l=o(12),c=o(571),u=o.n(c),h=o(595),d="\ufeff",p=function(e){function t(e){var o;return Object(n.a)(this,t),(o=Object(r.a)(this,Object(a.a)(t).call(this,e))).contentNode=document.createElement("span"),o.contentNode.setAttribute("contenteditable",!1),[].slice.call(o.domNode.childNodes).forEach(function(e){o.contentNode.appendChild(e)}),o.leftGuard=document.createTextNode(d),o.rightGuard=document.createTextNode(d),o.domNode.appendChild(o.leftGuard),o.domNode.appendChild(o.contentNode),o.domNode.appendChild(o.rightGuard),o}return Object(l.a)(t,e),Object(i.a)(t,[{key:"index",value:function(e,o){return e===this.leftGuard?0:e===this.rightGuard?1:Object(s.a)(Object(a.a)(t.prototype),"index",this).call(this,e,o)}},{key:"restore",value:function(e){var t,o,n=e.data.split(d).join("");if(e===this.leftGuard)if(this.prev instanceof h.a){var i=this.prev.length();this.prev.insertAt(i,n),t={startNode:this.prev.domNode,startOffset:i+n.length}}else o=document.createTextNode(n),this.parent.insertBefore(u.a.create(o),this),t={startNode:o,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof h.a?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(o=document.createTextNode(n),this.parent.insertBefore(u.a.create(o),this.next),t={startNode:o,startOffset:n.length}));return e.data=d,t}},{key:"update",value:function(e,t){var o=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===o.leftGuard||e.target===o.rightGuard)){var n=o.restore(e.target);n&&(t.range=n)}})}}]),t}(u.a.Embed);t.a=p},function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o(8),i=o(11),r=o(10),a=o(12),s=function(e){function t(e){var o;return Object(n.a)(this,t),o=Object(i.a)(this,Object(r.a)(t).call(this,e)),e.classList.add("code"),e.classList.add("isInline"),e.classList.add("codeInline"),e.setAttribute("spellcheck",!1),o}return Object(a.a)(t,e),t}(o(594).a)},function(e,t,o){"use strict";o.d(t,"a",function(){return b});var n=o(8),i=o(9),r=o(11),a=o(10),s=o(12),l=o(6),c=o(0),u=o.n(c),h=o(17),d=o.n(h),p=o(4),f=o(31),m=o(94),g=o(632),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.title?this.props.title:Object(p.m)("Close"),t=d()("buttonClose","closeButton",this.props.className);return u.a.createElement(m.a,{disabled:this.props.disabled,type:"button",className:t,title:e,onClick:this.props.onClick,baseClass:this.props.baseClass},this.props.compact?Object(g.c)():Object(g.b)())}}]),t}(u.a.PureComponent);Object(l.a)(b,"defaultProps",{baseClass:f.a.CUSTOM,compact:!1})},function(e,t){e.exports=!0},function(e,t,o){var n=o(623);e.exports=function(e,t,o){if(n(e),void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,i){return e.call(t,o,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,o){var n=o(667),i=o(641);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},function(e,t,o){"use strict";var n=o(37),i=o(6),r=o(49),a=o(8),s=o(9),l=(o(685),o(583)),c=o.n(l),u=o(629),h=o.n(u),d=o(571),p=o.n(d),f=o(594),m=o(651),g=o(587),b=o(617),v=o(630),j=o.n(v),y=o(607),O=o.n(y),_=o(593),C=o.n(_),w=/^[ -~]*$/;function S(e,t){return Object.keys(t).reduce(function(o,n){return null==e[n]?o:(t[n]===e[n]?o[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(o[n]=t[n].concat([e[n]])):o[n]=[t[n],e[n]],o)},{})}var x=function(){function e(t){Object(a.a)(this,e),this.scroll=t,this.delta=this.getDelta()}return Object(s.a)(e,[{key:"applyDelta",value:function(e){var t=this,o=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var o=j()(t.attributes);return delete o.image,e.insert({image:t.attributes.image},o)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=j()(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)},new c.a)}(e)).reduce(function(e,a){var s=a.retain||a.delete||a.insert.length||1,l=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var c=a.insert;c.endsWith("\n")&&o&&(o=!1,c=c.slice(0,-1)),e>=i&&!c.endsWith("\n")&&(o=!0),t.scroll.insertAt(e,c);var u=t.scroll.line(e),d=Object(r.a)(u,2),f=d[0],m=d[1],b=C()({},Object(g.b)(f));if(f instanceof g.c){var v=f.descendant(p.a.Leaf,m),j=Object(r.a)(v,1)[0];b=C()(b,Object(g.b)(j))}l=h.a.attributes.diff(b,l)||{}}else if("object"===Object(n.a)(a.insert)){var y=Object.keys(a.insert)[0];if(null==y)return e;t.scroll.insertAt(e,y,a.insert[y])}i+=s}return Object.keys(l).forEach(function(o){t.scroll.formatAt(e,s,o,l[o])}),e+s},0),e.reduce(function(e,o){return"number"==typeof o.delete?(t.scroll.deleteAt(e,o.delete),e):e+(o.retain||o.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new c.a).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach(function(i){if(null==o.scroll.whitelist||o.scroll.whitelist[i]){var r=o.scroll.lines(e,Math.max(t,1)),a=t;r.forEach(function(t){var r=t.length();if(t instanceof f.b){var s=e-t.offset(o.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,i,n[i])}else t.format(i,n[i]);a-=r})}}),this.scroll.optimize(),this.update((new c.a).retain(e).retain(t,j()(n)))}},{key:"formatText",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach(function(i){o.scroll.formatAt(e,t,i,n[i])}),this.update((new c.a).retain(e).retain(t,j()(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new c.a)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[],n=[];0===t?this.scroll.path(e).forEach(function(e){var t=Object(r.a)(e,1)[0];t instanceof g.c?o.push(t):t instanceof p.a.Leaf&&n.push(t)}):(o=this.scroll.lines(e,t),n=this.scroll.descendants(p.a.Leaf,e,t));var i=[o,n].map(function(e){if(0===e.length)return{};for(var t=Object(g.b)(e.shift());Object.keys(t).length>0;){var o=e.shift();if(null==o)return t;t=S(Object(g.b)(o),t)}return t});return C.a.apply(C.a,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,o){return this.scroll.insertAt(e,t,o),this.update((new c.a).retain(e).insert(Object(i.a)({},t,o)))}},{key:"insertText",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach(function(i){o.scroll.formatAt(e,t.length,i,n[i])}),this.update((new c.a).retain(e).insert(t,j()(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===g.c.blotName&&(!(e.children.length>1)&&e.children.head instanceof b.a)}},{key:"removeFormat",value:function(e,t){var o=this.getText(e,t),n=this.scroll.line(e+t),i=Object(r.a)(n,2),a=i[0],s=i[1],l=0,u=new c.a;null!=a&&(l=a instanceof f.b?a.newlineIndex(s)-s+1:a.length()-s,u=a.delta().slice(s,s+l-1).insert("\n"));var h=this.getContents(e,t+l).diff((new c.a).insert(o).concat(u)),d=(new c.a).retain(e).concat(h);return this.applyDelta(d)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(w)&&p.a.find(t[0].target)){var i=p.a.find(t[0].target),r=Object(g.b)(i),a=i.offset(this.scroll),s=t[0].oldValue.replace(m.a.CONTENTS,""),l=(new c.a).insert(s),u=(new c.a).insert(i.value());e=(new c.a).retain(a).concat(l.diff(u,o)).reduce(function(e,t){return t.insert?e.insert(t.insert,r):e.push(t)},new c.a),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&O()(n.compose(e),this.delta)||(e=n.diff(this.delta,o));return e}}]),e}(),E=o(600),k=o(596),L=o(51),I=o(606),T=Object(I.a)("quill:selection"),R=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(a.a)(this,e),this.index=t,this.length=o},N=function(){function e(t,o){var n=this;Object(a.a)(this,e),this.emitter=o,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=p.a.create("cursor",this),this.lastRange=this.savedRange=new R(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){n.mouseDown||setTimeout(n.update.bind(n,E.a.sources.USER),1)}),this.emitter.on(E.a.events.EDITOR_CHANGE,function(e,t){e===E.a.events.TEXT_CHANGE&&t.length()>0&&n.update(E.a.sources.SILENT)}),this.emitter.on(E.a.events.SCROLL_BEFORE_UPDATE,function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(E.a.events.SCROLL_UPDATE,function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(E.a.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var o=t.range,i=o.startNode,r=o.startOffset,a=o.endNode,s=o.endOffset;n.setNativeRange(i,r,a,s)}}),this.update(E.a.sources.SILENT)}return Object(s.a)(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(E.a.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var o=this.getNativeRange();if(null!=o&&o.native.collapsed&&!p.a.query(e,p.a.Scope.BLOCK)){if(o.start.node!==this.cursor.textNode){var n=p.a.find(o.start.node,!1);if(null==n)return;if(n instanceof p.a.Leaf){var i=n.split(o.start.offset);n.parent.insertBefore(this.cursor,i)}else n.insertBefore(this.cursor,o.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.scroll.length();e=Math.min(e,o-1),t=Math.min(e+t,o-1)-e;var n,i=this.scroll.leaf(e),a=Object(r.a)(i,2),s=a[0],l=a[1];if(null==s)return null;var c=s.position(l,!0),u=Object(r.a)(c,2);n=u[0],l=u[1];var h=document.createRange();if(t>0){h.setStart(n,l);var d=this.scroll.leaf(e+t),p=Object(r.a)(d,2);if(s=p[0],l=p[1],null==s)return null;var f=s.position(l,!0),m=Object(r.a)(f,2);return n=m[0],l=m[1],h.setEnd(n,l),h.getBoundingClientRect()}var g,b="left";return n instanceof Text?(l<n.data.length?(h.setStart(n,l),h.setEnd(n,l+1)):(h.setStart(n,l-1),h.setEnd(n,l),b="right"),g=h.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(b="right")),{bottom:g.top+g.height,height:g.height,left:g[b],right:g[b],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var o=this.normalizeNative(t);return T.info("getNativeRange",o),o}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,o=[[e.start.node,e.start.offset]];e.native.collapsed||o.push([e.end.node,e.end.offset]);var n=o.map(function(e){var o=Object(r.a)(e,2),n=o[0],i=o[1],a=p.a.find(n,!0),s=a.offset(t.scroll);return 0===i?s:a instanceof p.a.Container?s+a.length():s+a.index(n,i)}),i=Math.min(Math.max.apply(Math,Object(L.a)(n)),this.scroll.length()-1),a=Math.min.apply(Math,[i].concat(Object(L.a)(n)));return new R(a,i-a)}},{key:"normalizeNative",value:function(e){if(!M(this.root,e.startContainer)||!e.collapsed&&!M(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,o=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>o)t=t.childNodes[o],o=0;else{if(t.childNodes.length!==o)break;o=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=o}),t}},{key:"rangeToNative",value:function(e){var t=this,o=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],i=this.scroll.length();return o.forEach(function(e,o){e=Math.min(i-1,e);var a,s=t.scroll.leaf(e),l=Object(r.a)(s,2),c=l[0],u=l[1],h=c.position(u,0!==o),d=Object(r.a)(h,2);a=d[0],u=d[1],n.push(a,u)}),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var o=this.getBounds(t.index,t.length);if(null!=o){var n=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,n)),a=Object(r.a)(i,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,n));s=Object(r.a)(l,1)[0]}if(null!=a&&null!=s){var c=e.getBoundingClientRect();o.top<c.top?e.scrollTop-=c.top-o.top:o.bottom>c.bottom&&(e.scrollTop+=o.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(T.info("setNativeRange",e,t,o,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=o.parentNode){var r=document.getSelection();if(null!=r)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||e!==a.startContainer||t!==a.startOffset||o!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==o.tagName&&(n=[].indexOf.call(o.parentNode.childNodes,o),o=o.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(o,n),r.removeAllRanges(),r.addRange(s)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.a.sources.API;if("string"==typeof t&&(o=t,t=!1),T.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,Object(L.a)(n).concat([t]))}else this.setNativeRange(null);this.update(o)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.a.sources.USER,t=this.lastRange,o=this.getRange(),n=Object(r.a)(o,2),i=n[0],a=n[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!O()(t,this.lastRange)){var s;!this.composing&&null!=a&&a.native.collapsed&&a.start.node!==this.cursor.textNode&&this.cursor.restore();var l,c=[E.a.events.SELECTION_CHANGE,j()(this.lastRange),j()(t),e];if((s=this.emitter).emit.apply(s,[E.a.events.EDITOR_CHANGE].concat(c)),e!==E.a.sources.SILENT)(l=this.emitter).emit.apply(l,c)}}}]),e}();function M(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}var A=o(652);o.d(t,"a",function(){return P});var z=Object(I.a)("quill"),P=function(){function e(t){var o=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(a.a)(this,e),this.options=function(e,t){if((t=C()(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==P.DEFAULTS.theme){if(t.theme=P.import("themes/".concat(t.theme)),null==t.theme)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"))}else t.theme=A.a;var o=C()(!0,{},t.theme.DEFAULTS);[o,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var n=Object.keys(o.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var o=P.import("modules/".concat(t));return null==o?z.error("Cannot load ".concat(t," module. Are you sure you registered it?")):e[t]=o.DEFAULTS||{},e},{});null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar});return t=C()(!0,{},P.DEFAULTS,{modules:n},o,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,o){return t.modules[o]&&(e[o]=t.modules[o]),e},{}),t}(t,n),this.container=this.options.container,null==this.container)return z.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new E.a,this.scroll=p.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new x(this.scroll),this.selection=new N(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(E.a.events.EDITOR_CHANGE,function(e){e===E.a.events.TEXT_CHANGE&&o.root.classList.toggle("ql-blank",o.editor.isBlank())}),this.emitter.on(E.a.events.SCROLL_UPDATE,function(e,t){var n=o.selection.lastRange,i=n&&0===n.length?n.index:void 0;B.call(o,function(){return o.editor.update(null,t,i)},e)});var r=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">".concat(i,"<p><br></p></div>"));this.setContents(r),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return Object(s.a)(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),I.a.level(e)}},{key:"find",value:function(e){return e.__quill||p.a.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&z.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach(function(n){o.register(n,e[n],t)})}else null==this.imports[e]||n||z.warn("Overwriting ".concat(e," with"),t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?p.a.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),Object(s.a)(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var o=e;(e=document.createElement("div")).classList.add(o)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,o){var n=this,i=D(e,t,o),a=Object(r.a)(i,4);return e=a[0],t=a[1],o=a[3],B.call(this,function(){return n.editor.deleteText(e,t)},o,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.a.sources.API;return B.call(this,function(){var n=o.getSelection(!0),r=new c.a;if(null==n)return r;if(p.a.query(e,p.a.Scope.BLOCK))r=o.editor.formatLine(n.index,n.length,Object(i.a)({},e,t));else{if(0===n.length)return o.selection.format(e,t),r;r=o.editor.formatText(n.index,n.length,Object(i.a)({},e,t))}return o.setSelection(n,E.a.sources.SILENT),r},n)}},{key:"formatLine",value:function(e,t,o,n,i){var a,s=this,l=D(e,t,o,n,i),c=Object(r.a)(l,4);return e=c[0],t=c[1],a=c[2],i=c[3],B.call(this,function(){return s.editor.formatLine(e,t,a)},i,e,0)}},{key:"formatText",value:function(e,t,o,n,i){var a,s=this,l=D(e,t,o,n,i),c=Object(r.a)(l,4);return e=c[0],t=c[1],a=c[2],i=c[3],B.call(this,function(){return s.editor.formatText(e,t,a)},i,e,0)}},{key:"getBounds",value:function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,o):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:t.bottom-n.top,height:t.height,left:t.left-n.left,right:t.right-n.left,top:t.top-n.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=D(e,t),n=Object(r.a)(o,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=D(e,t),n=Object(r.a)(o,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,o,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return B.call(this,function(){return i.editor.insertEmbed(t,o,n)},r,t)}},{key:"insertText",value:function(e,t,o,n,i){var a,s=this,l=D(e,0,o,n,i),c=Object(r.a)(l,4);return e=c[0],a=c[2],i=c[3],B.call(this,function(){return s.editor.insertText(e,t,a)},i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,o){this.clipboard.dangerouslyPasteHTML(e,t,o)}},{key:"removeFormat",value:function(e,t,o){var n=this,i=D(e,t,o),a=Object(r.a)(i,4);return e=a[0],t=a[1],o=a[3],B.call(this,function(){return n.editor.removeFormat(e,t)},o,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.a.sources.API;return B.call(this,function(){e=new c.a(e);var o=t.getLength(),n=t.editor.deleteText(0,o),i=t.editor.applyDelta(e),r=i.ops[i.ops.length-1];return null!=r&&"string"==typeof r.insert&&"\n"===r.insert[r.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),n.compose(i)},o)}},{key:"setSelection",value:function(t,o,n){if(null==t)this.selection.setRange(null,o||e.sources.API);else{var i=D(t,o,n),a=Object(r.a)(i,4);t=a[0],o=a[1],n=a[3],this.selection.setRange(new R(t,o),n),n!==E.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.a.sources.API,o=(new c.a).insert(e);return this.setContents(o,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.a.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.a.sources.API;return B.call(this,function(){return e=new c.a(e),t.editor.applyDelta(e,o)},o,!0)}}]),e}();function B(e,t,o,n){if(this.options.strict&&!this.isEnabled()&&t===E.a.sources.USER)return new c.a;var i=null==o?null:this.getSelection(),r=this.editor.delta,a=e();if(null!=i&&(!0===o&&(o=i.index),null==n?i=q(i,a,t):0!==n&&(i=q(i,o,n,t)),this.setSelection(i,E.a.sources.SILENT)),a.length()>0){var s,l,u=[E.a.events.TEXT_CHANGE,a,r,t];if((s=this.emitter).emit.apply(s,[E.a.events.EDITOR_CHANGE].concat(u)),t!==E.a.sources.SILENT)(l=this.emitter).emit.apply(l,u)}return a}function D(e,t,o,i,r){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(r=i,i=o,o=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(r=i,i=o,o=t,t=0),"object"===Object(n.a)(o)?(a=o,r=i):"string"==typeof o&&(null!=i?a[o]=i:r=o),[e,t,a,r=r||E.a.sources.API]}function q(e,t,o,n){if(null==e)return null;var i,a;if(t instanceof c.a){var s=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,n!==E.a.sources.USER)}),l=Object(r.a)(s,2);i=l[0],a=l[1]}else{var u=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&n===E.a.sources.USER?e:o>=0?e+o:Math.max(t,e+o)}),h=Object(r.a)(u,2);i=h[0],a=h[1]}return new R(i,a-i)}P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=E.a.events,P.sources=E.a.sources,P.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,P.imports={delta:c.a,parchment:p.a,"core/module":k.a,"core/theme":A.a}},function(e,t,o){"use strict";var n=o(8),i=o(9),r=o(11),a=o(10),s=o(572),l=o(12),c=o(571),u=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"insertInto",value:function(e,o){0===e.children.length?Object(s.a)(Object(a.a)(t.prototype),"insertInto",this).call(this,e,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(o.n(c).a.Embed);u.blotName="break",u.tagName="BR",t.a=u},function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o(8),i=o(9),r=o(6),a=o(694),s=o.n(a),l=o(16);o(0);var c=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(n.a)(this,e),this.excludedElements=i,this.excludedRoots=a,Object(r.a)(this,"tabbableElements",void 0),Object(r.a)(this,"createExcludeFilterWithExemption",function(e){return function(o){if(!(e===o||o.contains(e))){if(t.excludedElements.includes(o))return!1;var n=!0,i=!1,r=void 0;try{for(var a,s=t.excludedRoots[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l!==o&&l.contains(o))return!1}}catch(e){i=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}return!0}}),Object(r.a)(this,"filterAllExcluded",function(e){if(t.excludedElements.includes(e))return!1;var o=!0,n=!1,i=void 0;try{for(var r,a=t.excludedRoots[Symbol.iterator]();!(o=(r=a.next()).done);o=!0){var s=r.value;if(s!==e&&s.contains(e))return!1}}catch(e){n=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw i}}return!0}),this.tabbableElements=s()(o)}return Object(i.a)(e,[{key:"getNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(e instanceof HTMLElement))return Object(l.g)("Unable to tab to next element, `fromElement` given is not valid: ",e),null;var n=this.tabbableElements.filter(this.createExcludeFilterWithExemption(e)),i=n.indexOf(e);if(i<0)return null;var r=t?i-1:i+1;return o&&(r<0?r=n.length-1:r>=n.length&&(r=0)),n[r]||null}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;return e instanceof HTMLElement?this.tabbableElements.filter(this.createExcludeFilterWithExemption(e)):(Object(l.g)("Unable to tab to next element, `fromElement` given is not valid: ",e),null)}},{key:"getInitial",value:function(){var e=this.tabbableElements.filter(this.filterAllExcluded);return e.length>0?e[0]:null}},{key:"getLast",value:function(){var e=this.tabbableElements.filter(this.filterAllExcluded);return e.length>0?e[e.length-1]:null}}]),e}()},function(e,t,o){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(n=function(){return r}.call(t,o,t,e))||(e.exports=n)}()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=t.listenerOptions=void 0,t.preventTouchMove=function(e){return e.preventDefault(),!1},t.allowTouchMove=function(e){var t=e.currentTarget;if(t.scrollHeight>t.clientHeight)return e.stopPropagation(),!0;return e.preventDefault(),!1},t.preventInertiaScroll=function(){var e=this.scrollTop,t=this.scrollHeight,o=e+this.offsetHeight;0===e?this.scrollTop=1:o===t&&(this.scrollTop=e-1)},t.isTouchDevice=function(){return!!n.canUseDOM&&("ontouchstart"in window||navigator.maxTouchPoints)},t.camelToKebab=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.parse=function(e){return isNaN(e)?e:e+"px"},t.getPadding=function(){if(!n.canUseDOM)return 0;var e=parseInt(document.body.paddingRight,10)||0,t=document.body?document.body.clientWidth:0;return window.innerWidth-t+e||0},t.getWindowHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(n.canUseDOM)return window.innerHeight*e},t.getDocumentHeight=function(){if(n.canUseDOM)return document.body.clientHeight},t.makeStyleTag=function(){if(!n.canUseDOM)return;var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-react-scrolllock",""),e},t.injectStyles=function(e,t){if(!n.canUseDOM)return;e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))},t.insertStyleTag=function(e){if(!n.canUseDOM)return;(document.head||document.getElementsByTagName("head")[0]).appendChild(e)};var n=o(619);t.listenerOptions={capture:!1,passive:!1};var i=function(e,t){return function(){return t(e.apply(void 0,arguments))}};t.pipe=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(i)}},function(e,t,o){var n=o(633);e.exports=function(e){return Object(n(e))}},function(e,t){var o=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+n).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,o){"use strict";var n=o(733)(!0);o(665)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=n(t,o),this._i+=e.length,{value:e,done:!1})})},function(e,t,o){var n=o(590).f,i=o(597),r=o(582)("toStringTag");e.exports=function(e,t,o){e&&!i(e=o?e:e.prototype,r)&&n(e,r,{configurable:!0,value:t})}},function(e,t,o){o(738);for(var n=o(581),i=o(598),r=o(604),a=o(582)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],h=u&&u.prototype;h&&!h[a]&&i(h,a,c),r[c]=r.Array}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,o){var n=o(607),i=o(593),r={attributes:{compose:function(e,t,o){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=i(!0,{},t);for(var r in o||(n=Object.keys(n).reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{})),e)void 0!==e[r]&&void 0===t[r]&&(n[r]=e[r]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var o=Object.keys(e).concat(Object.keys(t)).reduce(function(o,i){return n(e[i],t[i])||(o[i]=void 0===t[i]?null:t[i]),o},{});return Object.keys(o).length>0?o:void 0},transform:function(e,t,o){if("object"!=typeof e)return t;if("object"==typeof t){if(!o)return t;var n=Object.keys(t).reduce(function(o,n){return void 0===e[n]&&(o[n]=t[n]),o},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var o=this.offset,n=r.length(t);if(e>=n-o?(e=n-o,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(o,e):i.insert=t.insert,i}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?r.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=r},function(e,t,o){(function(t){var o=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var o,n,i;try{o=Map}catch(e){o=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function r(a,l,c,u,h){"object"==typeof l&&(c=l.depth,u=l.prototype,h=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f=void 0!==t;return void 0===l&&(l=!0),void 0===c&&(c=1/0),function a(c,m){if(null===c)return null;if(0===m)return c;var g,b;if("object"!=typeof c)return c;if(e(c,o))g=new o;else if(e(c,n))g=new n;else if(e(c,i))g=new i(function(e,t){c.then(function(t){e(a(t,m-1))},function(e){t(a(e,m-1))})});else if(r.__isArray(c))g=[];else if(r.__isRegExp(c))g=new RegExp(c.source,s(c)),c.lastIndex&&(g.lastIndex=c.lastIndex);else if(r.__isDate(c))g=new Date(c.getTime());else{if(f&&t.isBuffer(c))return g=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(g),g;e(c,Error)?g=Object.create(c):void 0===u?(b=Object.getPrototypeOf(c),g=Object.create(b)):(g=Object.create(u),b=u)}if(l){var v=d.indexOf(c);if(-1!=v)return p[v];d.push(c),p.push(g)}for(var j in e(c,o)&&c.forEach(function(e,t){var o=a(t,m-1),n=a(e,m-1);g.set(o,n)}),e(c,n)&&c.forEach(function(e){var t=a(e,m-1);g.add(t)}),c){var y;b&&(y=Object.getOwnPropertyDescriptor(b,j)),y&&null==y.set||(g[j]=a(c[j],m-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(c);for(j=0;j<O.length;j++){var _=O[j];(!(w=Object.getOwnPropertyDescriptor(c,_))||w.enumerable||h)&&(g[_]=a(c[_],m-1),w.enumerable||Object.defineProperty(g,_,{enumerable:!1}))}}if(h){var C=Object.getOwnPropertyNames(c);for(j=0;j<C.length;j++){var w,S=C[j];(w=Object.getOwnPropertyDescriptor(c,S))&&w.enumerable||(g[S]=a(c[S],m-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(a,c)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=a,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},r.__getRegExpFlags=s,r}();e.exports&&(e.exports=o)}).call(this,o(689).Buffer)},function(e,t,o){"use strict";(function(e){o.d(t,"a",function(){return j});var n=o(8),i=o(11),r=o(10),a=o(9),s=o(12),l=o(6),c=o(24),u=o(50),h=o.n(u),d=o(22),p=o(4),f=o(16),m=o(602),g=o(682),b=o(683),v=o(580),j=function(t){function o(e,t){var a,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(n.a)(this,o),a=Object(i.a)(this,Object(r.a)(o).call(this,e)),s&&a.replaceLoaderWithFinalForm(t),a}return Object(s.a)(o,t),Object(a.a)(o,null,[{key:"create",value:function(e){return b.a.create(e)}},{key:"value",value:function(e){if(e.classList.contains(b.a.className))return b.a.value(e);var t=Object(c.f)(e,"__embed-data__",!1);return t}},{key:"createEmbedWarningFallback",value:function(e){var t=document.createElement("div");t.classList.add("embedExternal"),t.classList.add("embedLinkLoader"),t.classList.add("embedLinkLoader-error");var o,n=Object(c.e)(e),i=Object(p.m)("This embed could not be loaded in your browser.");return t.innerHTML='<a href="#" class="embedLinkLoader-link '.concat(d.a,'" tabindex="-1">').concat(n,"&nbsp;").concat('\n<svg class="embedLinkLoader-failIcon" title="'.concat(o=i,'" aria-label="').concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n    <title>').concat(o,'</title>\n    <circle cx="8" cy="8" r="8" style="fill: #f5af15"/>\n    <circle cx="8" cy="8" r="7.5" style="fill: none;stroke: #000;stroke-opacity: 0.122"/>\n    <path d="M11,10.4V8h2v2.4L12.8,13H11.3Zm0,4h2v2H11Z" transform="translate(-4 -4)" style="fill: #fff"/>\n</svg>'),"</a>"),t}},{key:"createEmbedFromData",value:function(t,n){var i=m.a.create(t);i.classList.add("js-embed"),i.classList.add("embedResponsive"),i.classList.remove(d.a);var r=document.createElement("span");r.innerHTML=Object(p.m)("richEditor.externalEmbed.description"),r.classList.add("sr-only"),r.id=h()("richEditor-embed-description-");var a=document.createElement("div");a.classList.add("embedExternal"),a.classList.add("embed"+Object(f.a)(t.type));var s=document.createElement("div");return s.classList.add(d.a),s.setAttribute("aria-label","External embed content - "+t.type),s.setAttribute("aria-describedby",r.id),s.classList.add("embedExternal-content"),s.tabIndex=-1,n&&i.appendChild(n),i.appendChild(a),i.appendChild(r),a.appendChild(s),e(function(){Object(d.d)({root:a,content:s},t).then(function(){Object(v.c)(),n&&n.remove()}).catch(function(e){Object(v.c)(),Object(f.g)(e);var s=o.createEmbedWarningFallback(t.url);a.remove(),r.remove(),n&&n.remove(),i.appendChild(s)})}),i}}]),Object(a.a)(o,[{key:"replaceLoaderWithFinalForm",value:function(e){var t,n=this,i=this.resolveDataFromValue(e);if(!(i instanceof Promise)){var r=this.quill;return this.remove(),void(r&&r.update())}i.then(function(i){if(document.contains(n.domNode)){var r={data:i,loaderData:e.loaderData},a=n.domNode.querySelector(".embedLinkLoader"),s=o.createEmbedFromData(i,a);Object(c.m)(s,"__embed-data__",r),t=new o(s,r,!1),n.replaceWith(t)}}).catch(function(t){if(Object(f.g)(t),document.contains(n.domNode)){var o={error:t,type:"file"===e.loaderData.type?g.a.FILE:g.a.STANDARD,file:e.loaderData.file};n.replaceWith(new g.b(g.b.create(o),o))}})}},{key:"resolveDataFromValue",value:function(e){return"data"in e?Promise.resolve(e.data):e.dataPromise}}]),o}(m.a);Object(l.a)(j,"blotName","embed-external"),Object(l.a)(j,"className","embed-external"),Object(l.a)(j,"tagName","div"),Object(l.a)(j,"LOADING_VALUE",{loading:!0})}).call(this,o(267).setImmediate)},function(e,t,o){"use strict";o.d(t,"b",function(){return l}),o.d(t,"c",function(){return c}),o.d(t,"a",function(){return u}),o.d(t,"d",function(){return h});var n=o(0),i=o.n(n),r=o(17),a=o.n(r),s=o(4);function l(e){var t=Object(s.m)("Close");return i.a.createElement("svg",{className:a()("icon","icon-close",e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10","aria-hidden":"true"},i.a.createElement("title",null,t),i.a.createElement("path",{fill:"currentColor",d:"M3.553,4.984.386,1.841A1.041,1.041,0,0,1,.241.375L.248.366.264.353h0A1.116,1.116,0,0,1,1.8.353h0L4.957,3.5,8.124.353a1.061,1.061,0,0,1,1.49-.09h0l.062.059h0a1.043,1.043,0,0,1,0,1.467h0L6.509,4.928,9.676,8.075a1.045,1.045,0,0,1,.036,1.476l-.006.006a1.062,1.062,0,0,1-1.424.09L5.115,6.5,1.948,9.647A1.115,1.115,0,0,1,.4,9.72,1.043,1.043,0,0,1,.224,8.256l.007-.008h0C.25,8.225.269,8.2.29,8.181h0Z"}))}function c(e){return l(a()(e,"icon-closeCompact"))}function u(e){return i.a.createElement("svg",{className:a()("icon","icon-check",e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true"},i.a.createElement("title",null,"✓"),i.a.createElement("polygon",{fill:"currentColor",points:"5,12.7 3.6,14.1 9,19.5 20.4,7.9 19,6.5 9,16.8"}))}function h(e){return i.a.createElement("svg",{className:a()("icon","icon-dropDownMenu",e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true"},i.a.createElement("title",null,"…"),i.a.createElement("circle",{cx:"5.7",cy:"12",r:"2",fill:"currentColor"}),i.a.createElement("circle",{cx:"18.3",cy:"12",r:"2",fill:"currentColor"}),i.a.createElement("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,o){var n=o(635)("keys"),i=o(622);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,o){var n=o(575),i=o(581),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:o(612)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,o){var n=o(584),i=o(575),r=o(603);e.exports=function(e,t){var o=(i.Object||{})[e]||Object[e],a={};a[e]=t(o),n(n.S+n.F*r(function(){o(1)}),"Object",a)}},function(e,t,o){var n=o(591),i=o(581).document,r=n(i)&&n(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,o){var n=o(591);e.exports=function(e,t){if(!n(e))return e;var o,i;if(t&&"function"==typeof(o=e.toString)&&!n(i=o.call(e)))return i;if("function"==typeof(o=e.valueOf)&&!n(i=o.call(e)))return i;if(!t&&"function"==typeof(o=e.toString)&&!n(i=o.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var o=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:o)(e)}},function(e,t,o){var n=o(585),i=o(735),r=o(641),a=o(634)("IE_PROTO"),s=function(){},l=function(){var e,t=o(637)("iframe"),n=r.length;for(t.style.display="none",o(670).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[r[n]];return l()};e.exports=Object.create||function(e,t){var o;return null!==e?(s.prototype=n(e),o=new s,s.prototype=null,o[a]=e):o=l(),void 0===t?o:i(o,t)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,o){t.f=o(582)},function(e,t,o){var n=o(581),i=o(575),r=o(612),a=o(642),s=o(590).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=r?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,o){var n=o(628),i=o(624),r=o(599),a=o(638),s=o(597),l=o(662),c=Object.getOwnPropertyDescriptor;t.f=o(592)?c:function(e,t){if(e=r(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}},function(e,t,o){e.exports={default:o(760),__esModule:!0}},function(e,t,o){var n=o(615),i=o(582)("toStringTag"),r="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,o,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?o:r?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,o){"use strict";var n=o(623);function i(e){var t,o;this.promise=new e(function(e,n){if(void 0!==t||void 0!==o)throw TypeError("Bad Promise constructor");t=e,o=n}),this.resolve=n(t),this.reject=n(o)}e.exports.f=function(e){return new i(e)}},function(e,t,o){var n=o(53),i=o(39),r="Expected a function";e.exports=function(e,t,o){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(r);return i(o)&&(a="leading"in o?!!o.leading:a,s="trailing"in o?!!o.trailing:s),n(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,o){"use strict";var n=o(49),i=o(8),r=o(11),a=o(10),s=o(572),l=o(9),c=o(12),u=o(571),h=o.n(u),d=o(595),p=function(e){function t(e,o){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this,e))).selection=o,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return Object(c.a)(t,e),Object(l.a)(t,null,[{key:"value",value:function(){}}]),Object(l.a)(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,o){if(0!==this._length)return Object(s.a)(Object(a.a)(t.prototype),"format",this).call(this,e,o);for(var n=this,i=0;null!=n&&n.statics.scope!==h.a.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(i,t.CONTENTS.length,e,o),this._length=0)}},{key:"index",value:function(e,o){return e===this.textNode?0:Object(s.a)(Object(a.a)(t.prototype),"index",this).call(this,e,o)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){Object(s.a)(Object(a.a)(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e,o,i,r=this.textNode,a=this.selection.getNativeRange();if(null!=a&&a.start.node===r&&a.end.node===r){var s=[r,a.start.offset,a.end.offset];e=s[0],o=s[1],i=s[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var l=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof d.a?(e=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=t.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(h.a.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var c=[o,i].map(function(t){return Math.max(0,Math.min(e.data.length,t-1))}),u=Object(n.a)(c,2);return o=u[0],i=u[1],{startNode:e,startOffset:o,endNode:e,endOffset:i}}}}},{key:"update",value:function(e,t){var o=this;if(e.some(function(e){return"characterData"===e.type&&e.target===o.textNode})){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(h.a.Embed);p.blotName="cursor",p.className="ql-cursor",p.tagName="span",p.CONTENTS="\ufeff",t.a=p},function(e,t,o){"use strict";var n=o(8),i=o(9),r=function(){function e(t,o){Object(n.a)(this,e),this.quill=t,this.options=o,this.modules={}}return Object(i.a)(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.a=r},function(e,t,o){"use strict";o.d(t,"a",function(){return d});var n=o(8),i=o(9),r=o(11),a=o(10),s=o(14),l=o(12),c=o(571),u=o.n(c),h=o(616),d=function(e){function t(e,o){var i;return Object(n.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this,e,o))).lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(h.a.events.EDITOR_CHANGE,function(e,t,o,n){e!==h.a.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&n!==h.a.sources.USER?i.transform(t):i.record(t,o))}),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(Object(s.a)(i))),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(Object(s.a)(i))),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(Object(s.a)(i))),i}return Object(l.a)(t,e),Object(i.a)(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var o=this.stack[e].pop();this.stack[t].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(o[e],h.a.sources.USER),this.ignoreChange=!1;var n=function(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),o=e.length()-t;(function(e){var t=e.ops[e.ops.length-1];if(null==t)return!1;if(null!=t.insert)return"string"==typeof t.insert&&t.insert.endsWith("\n");if(null!=t.attributes)return Object.keys(t.attributes).some(function(e){return null!=u.a.query(e,u.a.Scope.BLOCK)});return!1})(e)&&(o-=1);return o}(o[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var o=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var i=this.stack.undo.pop();o=o.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(596).a);d.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},function(e,t,o){"use strict";o.d(t,"a",function(){return p}),o.d(t,"b",function(){return m});var n=o(8),i=o(9),r=o(11),a=o(10),s=o(572),l=o(12),c=o(571),u=o.n(c),h=o(616),d=o(596),p=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),Object(s.a)(Object(a.a)(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(o(594).b);p.className="ql-syntax";var f=new u.a.Attributor.Class("token","hljs",{scope:u.a.Scope.INLINE}),m=function(e){function t(e,o){var i;if(Object(n.a)(this,t),"function"!=typeof(i=Object(r.a)(this,Object(a.a)(t).call(this,e,o))).options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var s=null;return i.quill.on(h.a.events.SCROLL_OPTIMIZE,function(){clearTimeout(s),s=setTimeout(function(){i.highlight(),s=null},i.options.interval)}),i.highlight(),i}return Object(l.a)(t,e),Object(i.a)(t,null,[{key:"register",value:function(){h.a.register(f,!0),h.a.register(p,!0)}}]),Object(i.a)(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(h.a.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(h.a.sources.SILENT),null!=t&&this.quill.setSelection(t,h.a.sources.SILENT)}}}]),t}(d.a);m.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3}},function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o(8),i=o(6),r=function e(){var t=this;Object(n.a)(this,e),Object(i.a)(this,"listeners",[]),Object(i.a)(this,"emit",function(e){t.listeners.forEach(function(t){t(e)})}),Object(i.a)(this,"addEventListener",function(e){t.listeners.push(e)}),Object(i.a)(this,"removeEventListener",function(e){t.listeners=t.listeners.filter(function(t){return e!==t})})}},function(e,t,o){"use strict";(function(e){o.d(t,"a",function(){return v}),o.d(t,"b",function(){return j});var n=o(8),i=o(11),r=o(10),a=o(14),s=o(9),l=o(12),c=o(6),u=o(681),h=o(583),d=o.n(h),p=o(576),f=o(580),m=o(588),g=o(610),b=o(631),v="js-richEditorScrollContainer",j=function(t){function o(e,t){var s;return Object(n.a)(this,o),s=Object(i.a)(this,Object(r.a)(o).call(this,e,t)),Object(c.a)(Object(a.a)(s),"imageMatcher",function(e,t){var o=e.getAttribute("src"),n=e.getAttribute("alt");if(o){var i={loaderData:{type:"image"},data:{type:"image",url:o,name:n,attributes:{}}};return(new d.a).insert(Object(c.a)({},b.a.blotName,i))}return t}),Object(c.a)(Object(a.a)(s),"linkMatcher",function(e,t){var n=e.textContent;if(e.nodeType===Node.TEXT_NODE&&null!=n&&!s.inCodeFormat){var i=o.splitLinkOperationsOutOfText(n);i&&(t.ops=i)}return t}),s.addMatcher(Node.TEXT_NODE,s.linkMatcher),s.addMatcher("img",s.imageMatcher),s.addMatcher(".sr-only",function(){return new d.a}),s}return Object(l.a)(o,t),Object(s.a)(o,null,[{key:"splitLinkOperationsOutOfText",value:function(e){var t=e.match(/https?:\/\/[^\s]+/g);if(t&&t.length>0){var o=[];return t.forEach(function(t){var n=e.split(t),i=n.shift();""!==i&&o.push({insert:i}),o.push({insert:t,attributes:{link:t}}),e=n.join(t)}),""!==e&&o.push({insert:e}),o}return null}}]),Object(s.a)(o,[{key:"onPaste",value:function(t){var o=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=this.quill.root.closest(".".concat(v)),r=document.documentElement.scrollTop||document.body.scrollTop,a=i?i.scrollTop:0;this.container.focus(),this.quill.selection.update(p.a.sources.SILENT),n.length&&this.quill.deleteText(n.index,n.length,p.a.sources.SILENT),e(function(){var e=(new d.a).retain(n.index).concat(o.convert());o.quill.updateContents(e,p.a.sources.USER),o.quill.setSelection(e.length(),0,p.a.sources.SILENT),document.documentElement.scrollTop=document.body.scrollTop=r,i&&(i.scrollTop=a),o.quill.focus()})}}},{key:"inCodeFormat",get:function(){var e=this.quill.getLastGoodSelection();return Object(f.l)(this.quill,m.a,e)||Object(f.l)(this.quill,g.a,e)}}]),o}(u.a)}).call(this,o(267).setImmediate)},function(e,t,o){var n=o(698),i=o(701),r=o(702),a=1,s=2;e.exports=function(e,t,o,l,c,u){var h=o&a,d=e.length,p=t.length;if(d!=p&&!(h&&p>d))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,g=!0,b=o&s?new n:void 0;for(u.set(e,t),u.set(t,e);++m<d;){var v=e[m],j=t[m];if(l)var y=h?l(j,v,m,t,e,u):l(v,j,m,e,t,u);if(void 0!==y){if(y)continue;g=!1;break}if(b){if(!i(t,function(e,t){if(!r(b,t)&&(v===e||c(v,e,o,l,u)))return b.push(t)})){g=!1;break}}else if(v!==j&&!c(v,j,o,l,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,o){"use strict";
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var n;!function(e){e.FULL_SCREEN="full screen",e.MODAL_AS_SIDE_PANEL="render as full screen side panel",e.MODAL_AS_DROP_DOWN="render as drop down",e.LARGE="large",e.MEDIUM="medium",e.SMALL="small"}(n||(n={})),t.a=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(722);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}});var i=o(660);Object.defineProperty(t,"TouchScrollable",{enumerable:!0,get:function(){return i.TouchScrollable}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchScrollable=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),a=u(r),s=o(619),l=u(o(723)),c=o(620);function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TouchScrollable=function(e){function t(){var e,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.getScrollableArea=function(e){n.scrollableArea=e},h(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),i(t,[{key:"componentDidMount",value:function(){s.canUseEventListeners&&(this.scrollableArea.addEventListener("touchstart",c.preventInertiaScroll,c.listenerOptions),this.scrollableArea.addEventListener("touchmove",c.allowTouchMove,c.listenerOptions))}},{key:"componentWillUnmount",value:function(){s.canUseEventListeners&&(this.scrollableArea.removeEventListener("touchstart",c.preventInertiaScroll,c.listenerOptions),this.scrollableArea.removeEventListener("touchmove",c.allowTouchMove,c.listenerOptions))}},{key:"render",value:function(){return a.default.createElement(l.default,n({innerRef:this.getScrollableArea},this.props))}}]),t}()},function(e,t,o){var n=o(597),i=o(621),r=o(634)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,o){e.exports=!o(592)&&!o(603)(function(){return 7!=Object.defineProperty(o(637)("div"),"a",{get:function(){return 7}}).a})},function(e,t,o){e.exports={default:o(729),__esModule:!0}},function(e,t,o){"use strict";t.__esModule=!0;var n=a(o(731)),i=a(o(741)),r="function"==typeof i.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===r(n.default)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":r(e)}},function(e,t,o){"use strict";var n=o(612),i=o(584),r=o(666),a=o(598),s=o(604),l=o(734),c=o(626),u=o(661),h=o(582)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,o,f,m,g,b){l(o,t,f);var v,j,y,O=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new o(this,e)}}return function(){return new o(this,e)}},_=t+" Iterator",C="values"==m,w=!1,S=e.prototype,x=S[h]||S["@@iterator"]||m&&S[m],E=x||O(m),k=m?C?O("entries"):E:void 0,L="Array"==t&&S.entries||x;if(L&&(y=u(L.call(new e)))!==Object.prototype&&y.next&&(c(y,_,!0),n||"function"==typeof y[h]||a(y,h,p)),C&&x&&"values"!==x.name&&(w=!0,E=function(){return x.call(this)}),n&&!b||!d&&!w&&S[h]||a(S,h,E),s[t]=E,s[_]=p,m)if(v={values:C?E:O("values"),keys:g?E:O("keys"),entries:k},b)for(j in v)j in S||r(S,j,v[j]);else i(i.P+i.F*(d||w),t,v);return v}},function(e,t,o){e.exports=o(598)},function(e,t,o){var n=o(597),i=o(599),r=o(736)(!1),a=o(634)("IE_PROTO");e.exports=function(e,t){var o,s=i(e),l=0,c=[];for(o in s)o!=a&&n(s,o)&&c.push(o);for(;t.length>l;)n(s,o=t[l++])&&(~r(c,o)||c.push(o));return c}},function(e,t,o){var n=o(615);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,o){var n=o(639),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,o){var n=o(581).document;e.exports=n&&n.documentElement},function(e,t,o){var n=o(667),i=o(641).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t){},function(e,t,o){e.exports={default:o(757),__esModule:!0}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((!a&&0!==a||e)&&r.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),a=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return a};var n,i=o(762),r=(n=i)&&n.__esModule?n:{default:n};var a=void 0;e.exports=t.default},function(e,t,o){var n=o(648),i=o(582)("iterator"),r=o(604);e.exports=o(575).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[n(e)]}},function(e,t,o){var n=o(585),i=o(623),r=o(582)("species");e.exports=function(e,t){var o,a=n(e).constructor;return void 0===a||null==(o=n(a)[r])?t:i(o)}},function(e,t,o){var n,i,r,a=o(613),s=o(770),l=o(670),c=o(637),u=o(581),h=u.process,d=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,b={},v=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},j=function(e){v.call(e.data)};d&&p||(d=function(e){for(var t=[],o=1;arguments.length>o;)t.push(arguments[o++]);return b[++g]=function(){s("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete b[e]},"process"==o(615)(h)?n=function(e){h.nextTick(a(v,e,1))}:m&&m.now?n=function(e){m.now(a(v,e,1))}:f?(r=(i=new f).port2,i.port1.onmessage=j,n=a(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",j,!1)):n="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,o){var n=o(585),i=o(591),r=o(649);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var o=r.f(e);return(0,o.resolve)(t),o.promise}},function(e,t,o){"use strict";(function(e){function n(t){var o;o="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var n,i,r="undefined"!=typeof document&&document.attachEvent;if(!r){var a=(i=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(e){return o.setTimeout(e,20)},function(e){return i(e)}),s=(n=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.clearTimeout,function(e){return n(e)}),l=function(e){var t=e.__resizeTriggers__,o=t.firstElementChild,n=t.lastElementChild,i=o.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=o.offsetWidth+1+"px",i.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},c=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(o){o.call(t,e)}))})}},u=!1,h="",d="animationstart",p="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(u=!0),!1===u)for(var g=0;g<p.length;g++)if(void 0!==m.style[p[g]+"AnimationName"]){h="-"+p[g].toLowerCase()+"-",d=f[g],u=!0;break}var b="resizeanim",v="@"+h+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",j=h+"animation: 1ms "+b+"; "}return{addResizeListener:function(e,n){if(r)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var i=e.ownerDocument,a=o.getComputedStyle(e);a&&"static"==a.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var o=(v||"")+".resize-triggers { "+(j||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=o:i.appendChild(e.createTextNode(o)),n.appendChild(i)}}(i),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=i.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",c,!0),d&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==b&&l(e)},e.__resizeTriggers__.addEventListener(d,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(r)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(d,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}o.d(t,"a",function(){return n})}).call(this,o(46))},function(e,t,o){"use strict";var n=o(37),i=o(6),r=o(49),a=o(8),s=o(9),l=o(11),c=o(10),u=o(14),h=o(12),d=o(593),p=o.n(d),f=o(583),m=o.n(f),g=o(571),b=o.n(g),v=o(616),j=o(606),y=o(596),O={scope:b.a.Scope.BLOCK,whitelist:["right","center","justify"]},_=new b.a.Attributor.Attribute("align","align",O),C=(new b.a.Attributor.Class("align","ql-align",O),new b.a.Attributor.Style("align","text-align",O)),w=o(572),S=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"value",value:function(e){var o=Object(w.a)(Object(c.a)(t.prototype),"value",this).call(this,e);return o.startsWith("rgb(")?(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+o.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):o}}]),t}(b.a.Attributor.Style),x=(new b.a.Attributor.Class("color","ql-color",{scope:b.a.Scope.INLINE}),new S("color","color",{scope:b.a.Scope.INLINE})),E=(new b.a.Attributor.Class("background","ql-bg",{scope:b.a.Scope.INLINE}),new S("background","background-color",{scope:b.a.Scope.INLINE})),k=o(594),L={scope:b.a.Scope.BLOCK,whitelist:["rtl"]},I=new b.a.Attributor.Attribute("direction","dir",L),T=(new b.a.Attributor.Class("direction","ql-direction",L),new b.a.Attributor.Style("direction","direction",L)),R={scope:b.a.Scope.INLINE,whitelist:["serif","monospace"]},N=(new b.a.Attributor.Class("font","ql-font",R),new(function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"value",value:function(e){return Object(w.a)(Object(c.a)(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(b.a.Attributor.Style))("font","font-family",R)),M=(new b.a.Attributor.Class("size","ql-size",{scope:b.a.Scope.INLINE,whitelist:["small","large","huge"]}),new b.a.Attributor.Style("size","font-size",{scope:b.a.Scope.INLINE,whitelist:["10px","18px","32px"]}));o.d(t,"a",function(){return q});var A=Object(j.a)("quill:clipboard"),z="__ql-matcher",P=[[Node.TEXT_NODE,function(e,t){var o=e.data;if("O:P"===e.parentNode.tagName)return t.insert(o.trim());if(0===o.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!F(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};o=(o=o.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&W(e.parentNode)||null!=e.previousSibling&&W(e.previousSibling))&&(o=o.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&W(e.parentNode)||null!=e.nextSibling&&W(e.nextSibling))&&(o=o.replace(/\s+$/,n.bind(n,!1)))}return t.insert(o)}],[Node.TEXT_NODE,V],["br",function(e,t){U(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,function(e,t){var o=b.a.query(e);if(null==o)return t;if(o.prototype instanceof b.a.Embed){var n={},i=o.value(e);null!=i&&(n[o.blotName]=i,t=(new m.a).insert(n,o.formats(e)))}else"function"==typeof o.formats&&(t=H(t,o.blotName,o.formats(e)));return t}],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,function(e,t){var o=b.a.Attributor.Attribute.keys(e),n=b.a.Attributor.Class.keys(e),i=b.a.Attributor.Style.keys(e),r={};o.concat(n).concat(i).forEach(function(t){var o=b.a.query(t,b.a.Scope.ATTRIBUTE);null!=o&&(r[o.attrName]=o.value(e),r[o.attrName])||(null==(o=B[t])||o.attrName!==t&&o.keyName!==t||(r[o.attrName]=o.value(e)||void 0),null==(o=D[t])||o.attrName!==t&&o.keyName!==t||(o=D[t],r[o.attrName]=o.value(e)||void 0))}),Object.keys(r).length>0&&(t=H(t,r));return t}],[Node.ELEMENT_NODE,function(e,t){var o={},n=e.style||{};n.fontStyle&&"italic"===F(e).fontStyle&&(o.italic=!0);n.fontWeight&&(F(e).fontWeight.startsWith("bold")||parseInt(F(e).fontWeight)>=700)&&(o.bold=!0);Object.keys(o).length>0&&(t=H(t,o));parseFloat(n.textIndent||0)>0&&(t=(new m.a).insert("\t").concat(t));return t}],["li",function(e,t){var o=b.a.query(e);if(null==o||"list-item"!==o.blotName||!U(t,"\n"))return t;var n=-1,i=e.parentNode;for(;!i.classList.contains("ql-clipboard");)"list"===(b.a.query(i)||{}).blotName&&(n+=1),i=i.parentNode;return n<=0?t:t.compose((new m.a).retain(t.length()-1).retain(1,{indent:n}))}],["b",G.bind(G,"bold")],["i",G.bind(G,"italic")],["style",function(){return new m.a}]],B=[_,I].reduce(function(e,t){return e[t.keyName]=t,e},{}),D=[C,E,x,T,N,M].reduce(function(e,t){return e[t.keyName]=t,e},{}),q=function(e){function t(e,o){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e,o))).quill.root.addEventListener("paste",n.onPaste.bind(Object(u.a)(n))),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],P.concat(n.options.matchers).forEach(function(e){var t=Object(r.a)(e,2),i=t[0],a=t[1];(o.matchVisual||a!==K)&&n.addMatcher(i,a)}),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[k.b.blotName]){var o=this.container.innerText;return this.container.innerHTML="",(new m.a).insert(o,Object(i.a)({},k.b.blotName,t[k.b.blotName]))}var n=this.prepareMatching(),a=Object(r.a)(n,2),s=a[0],l=a[1],c=function e(t,o,n){return t.nodeType===t.TEXT_NODE?n.reduce(function(e,o){return o(t,e)},new m.a):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(i,r){var a=e(r,o,n);return r.nodeType===t.ELEMENT_NODE&&(a=o.reduce(function(e,t){return t(r,e)},a),a=(r[z]||[]).reduce(function(e,t){return t(r,e)},a)),i.concat(a)},new m.a):new m.a}(this.container,s,l);return U(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new m.a).retain(c.length()-1).delete(1))),A.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.a.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,v.a.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new m.a).retain(e).concat(n),o),this.quill.setSelection(e+n.length(),v.a.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var o=this.quill.getSelection(),n=(new m.a).retain(o.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.a.sources.SILENT),setTimeout(function(){n=n.concat(t.convert()).delete(o.length),t.quill.updateContents(n,v.a.sources.USER),t.quill.setSelection(n.length()-o.length,v.a.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],o=[];return this.matchers.forEach(function(n){var i=Object(r.a)(n,2),a=i[0],s=i[1];switch(a){case Node.TEXT_NODE:o.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),function(e){e[z]=e[z]||[],e[z].push(s)})}}),[t,o]}}]),t}(y.a);function H(e,t,o){return"object"===Object(n.a)(t)?Object.keys(t).reduce(function(e,o){return H(e,o,t[o])},e):e.reduce(function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,p()({},Object(i.a)({},t,o),n.attributes))},new m.a)}function F(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function U(e,t){for(var o="",n=e.ops.length-1;n>=0&&o.length<t.length;--n){var i=e.ops[n];if("string"!=typeof i.insert)break;o=i.insert+o}return o.slice(-1*t.length)===t}function W(e){if(0===e.childNodes.length)return!1;var t=F(e);return["block","list-item"].indexOf(t.display)>-1}function G(e,t,o){return H(o,e,!0)}function V(e,t){return U(t,"\n")||(W(e)||t.length()>0&&e.nextSibling&&W(e.nextSibling))&&t.insert("\n"),t}function K(e,t){if(W(e)&&null!=e.nextElementSibling&&!U(t,"\n\n")){var o=e.offsetHeight+parseFloat(F(e).marginTop)+parseFloat(F(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*o&&t.insert("\n")}return t}q.DEFAULTS={matchers:[],matchVisual:!0}},function(e,t,o){"use strict";var n=o(8),i=o(11),r=o(14),a=o(9),s=o(12),l=o(10),c=o(572),u=o(6),h=o(0),d=o.n(h),p=o(34),f=o.n(p),m=o(602),g=o(50),b=o.n(g),v=o(22),j=o(17),y=o.n(j),O=o(4);var _,C=o(611),w=function(e){function t(){var e,o;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s))),Object(u.a)(Object(r.a)(o),"handleDismissClick",function(e){e.preventDefault(),e.stopPropagation(),o.props.onDismissClick()}),o}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e,t,o=this.props.id+"-description";return d.a.createElement("div",{className:y()("embedLoader-error",v.a),"aria-describedby":o,"aria-label":Object(O.m)("Error"),role:"alert","aria-live":"assertive"},(e="embedLoader-icon embedLoader-warningIcon",t=Object(O.m)("Warning"),d.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",className:y()("icon","icon-userWaning",e),"aria-hidden":"true"},d.a.createElement("title",null,t),d.a.createElement("rect",{width:"40",height:"40",fill:"#d0021b",opacity:"0.31"}),d.a.createElement("path",{d:"M32.707,25.862a2.167,2.167,0,0,1-1.876,3.249H9.169a2.168,2.168,0,0,1-1.877-3.249L18.123,7.083a2.168,2.168,0,0,1,3.754,0Z",fill:"#d0021b"}),d.a.createElement("path",{d:"M20,20.979a2.077,2.077,0,1,0,2.076,2.077A2.076,2.076,0,0,0,20,20.979Zm-1.971-7.463.335,6.139a.541.541,0,0,0,.54.512H21.1a.543.543,0,0,0,.541-.512l.334-6.139a.542.542,0,0,0-.54-.572H18.569A.542.542,0,0,0,18.029,13.516Z",fill:"#fff"}))),d.a.createElement("span",{id:o,className:"embedLoader-errorMessage"},this.props.children),d.a.createElement(C.a,{title:Object(O.m)("Remove"),onClick:this.handleDismissClick}))}}]),t}(d.a.Component),S=o(118),x=o(101),E=o(26),k=o(66),L=o(102),I=o(44),T=function(e){function t(){var e,o;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s))),Object(u.a)(Object(r.a)(o),"descrID",Object(E.c)("attachmentError")),o}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,o=e.name,n=t||o,i=this.props.message.split("\n"),r=Object(S.a)(i),a=r[0],s=r.slice(1),l=n&&0===s.length,c=Object(x.a)(),u=Object(L.a)(),h=Object(k.a)();return d.a.createElement("div",{className:y()("attachment","hasError",c.root,this.props.className,v.a),tabIndex:0,"aria-describedby":this.descrID,"aria-label":Object(O.m)("Error"),role:"alert","aria-live":"assertive"},d.a.createElement("div",{className:y()("attachment-box",c.box)},d.a.createElement("div",{className:y()("attachment-format",c.format)},Object(I.f)(u.error)),d.a.createElement("div",{className:y()("attachment-main",c.main)},d.a.createElement("div",{id:this.descrID,className:y()("attachment-title",c.title)},a),d.a.createElement("div",{className:y()("attachment-body")},s.map(function(e,t){return d.a.createElement(d.a.Fragment,null,e,t!==s.length-1?d.a.createElement("br",null):null)})),l&&d.a.createElement("div",{className:y()("attachment-metas","metas",c.metas)},d.a.createElement("span",{className:h.meta},n))),d.a.createElement(C.a,{title:Object(O.m)("Cancel"),className:y()("attachment-close",c.close),onClick:this.props.deleteAttachment})))}}]),t}(d.a.Component);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */o.d(t,"a",function(){return _}),o.d(t,"b",function(){return R}),function(e){e.FILE="file",e.STANDARD="standard"}(_||(_={}));var R=function(e){function t(e,o){var a;Object(n.a)(this,t),a=Object(i.a)(this,Object(l.a)(t).call(this,e)),Object(u.a)(Object(r.a)(a),"data",void 0),Object(u.a)(Object(r.a)(a),"handleRemoveClick",function(){return a.remove()}),a.data=o;var s=b()("embedLoader");if(!o.error)return Object(i.a)(a);if(o.type===_.FILE){var c=new Date,h=o.file;e.classList.remove(v.a),f.a.render(d.a.createElement(T,{message:o.error.message,name:h.name,dateUploaded:c.toISOString(),deleteAttachment:a.handleRemoveClick}),e)}else f.a.render(d.a.createElement(w,{onDismissClick:a.handleRemoveClick,id:s},o.error.message),e);return a}return Object(s.a)(t,e),Object(a.a)(t,[{key:"attach",value:function(){Object(c.a)(Object(l.a)(t.prototype),"attach",this).call(this),this.data.error||(this.remove(),this.quill&&this.quill.update())}}],[{key:"create",value:function(e){var o=Object(c.a)(Object(l.a)(t),"create",this).call(this,e);return o.classList.add("js-embed"),o}}]),t}(m.a);Object(u.a)(R,"blotName","embed-error"),Object(u.a)(R,"className","embed-error"),Object(u.a)(R,"tagName","div")},function(e,t,o){"use strict";var n=o(8),i=o(9),r=o(11),a=o(10),s=o(572),l=o(12),c=o(6),u=o(0),h=o.n(u),d=o(34),p=o.n(d),f=o(4),m=o(22),g=o(24),b=o(602),v=o(14),j=o(655),y=o(72),O=o(101),_=o(66),C=o(102),w=o(17),S=o.n(w),x=function(e){function t(){var e,o;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return o=Object(r.a)(this,(e=Object(a.a)(t)).call.apply(e,[this].concat(s))),Object(c.a)(Object(v.a)(o),"state",{progress:0}),Object(c.a)(Object(v.a)(o),"onProgressEvent",function(e){var t=e.loaded/e.total,n=Math.round(100*t);o.setState({progress:n})}),o}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,o=e.name,n=e.type,i=t||o,r=Object(O.a)(),a=Object(C.a)(),s=Object(_.a)();return u.createElement("div",{className:S()("attachment","isLoading",this.props.className,m.a,r.root),tabIndex:0,"aria-label":Object(f.m)("Uploading...")},u.createElement("div",{className:S()("attachment-box","attachment-loadingContent",r.loadingContent,r.box)},u.createElement("div",{className:S()("attachment-format",r.format)},Object(y.a)(n,a.root)),u.createElement("div",{className:S()("attachment-main",r.main)},u.createElement("div",{className:S()("attachment-title",r.title)},i||Object(f.m)("Uploading...")),i&&u.createElement("div",{className:S()("attachment-metas","metas",r.metas)},u.createElement("span",{className:s.meta},Object(f.m)("Uploading..."))))),u.createElement("div",{className:r.loadingProgress,style:{width:"".concat(Math.min(this.state.progress,100),"%")}}))}},{key:"componentDidMount",value:function(){var e=this.props.progressEventEmitter;e instanceof j.a&&e.addEventListener(this.onProgressEvent)}},{key:"componentWillUnmount",value:function(){var e=this.props.progressEventEmitter;e instanceof j.a&&e.removeEventListener(this.onProgressEvent)}}]),t}(u.Component);o.d(t,"a",function(){return E});
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var E=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,null,[{key:"create",value:function(e){var t;switch(e.loaderData.type){case"link":t=this.createLinkLoader(e.loaderData.link||"");break;case"image":t=this.createImageLoader();break;case"file":t=this.createFileLoader(e);break;default:throw new Error("Could not determine loader type for embed blot.")}return Object(g.m)(t,"loadingDataKey",e),t}},{key:"value",value:function(e){var t=Object(g.f)(e,"loadingDataKey",null);if(!t)throw new Error("A loading blot should have data set");return t}},{key:"createFileLoader",value:function(e){var o=Object(s.a)(Object(a.a)(t),"create",this).call(this),n=e.loaderData.file,i=Object(y.b)(n.type),r=new Date;return p.a.render(h.a.createElement(x,{type:i,size:n.size,dateUploaded:r.toISOString(),name:n.name,progressEventEmitter:e.loaderData.progressEventEmitter}),o,function(){return o.classList.remove(m.a)}),o}},{key:"createImageLoader",value:function(){var e=Object(s.a)(Object(a.a)(t),"create",this).call(this);return e.classList.remove(m.a),e.classList.add("js-embed"),e.classList.add("embedLinkLoader"),e.innerHTML="<div class='embedLoader'>\n                            <div class='embedLoader-box ".concat(m.a,"' aria-label='").concat(Object(f.m)("Loading..."),"'><div class='embedLoader-loader'></div>\n                            </div>\n                        </div>"),e}},{key:"createLinkLoader",value:function(e){var o=Object(s.a)(Object(a.a)(t),"create",this).call(this);o.classList.remove(m.a),o.classList.add("js-embed"),o.classList.add("embedLinkLoader");var n=Object(g.e)(e);return o.innerHTML='<a href="#" class="embedLinkLoader-link '.concat(m.a,'">').concat(n,"&nbsp;<span aria-hidden=\"true\" class='embedLinkLoader-loader'></span></a>"),o}}]),t}(b.a);Object(c.a)(E,"blotName","embed-loading"),Object(c.a)(E,"className","js-embedLoader"),Object(c.a)(E,"tagName","div")},function(e,t,o){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function a(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),s.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)n.call(e,t)&&o.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e,t){var o=i?i+e:e,n=this._events[o];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,s=new Array(a);r<a;r++)s[r]=n[r].fn;return s},s.prototype.emit=function(e,t,o,n,r,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,o),!0;case 4:return u.fn.call(u.context,t,o,n),!0;case 5:return u.fn.call(u.context,t,o,n,r),!0;case 6:return u.fn.call(u.context,t,o,n,r,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,o);break;case 4:u[c].fn.call(u[c].context,t,o,n);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,o){var n=new a(t,o||this),r=i?i+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):(this._events[r]=n,this._eventsCount++),this},s.prototype.once=function(e,t,o){var n=new a(t,o||this,!0),r=i?i+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):(this._events[r]=n,this._eventsCount++),this},s.prototype.removeListener=function(e,t,o,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||n&&!s.once||o&&s.context!==o||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||n&&!s[l].once||o&&s[l].context!==o)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,e.exports=s},function(e,t){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:n.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var o=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>o.length)&&(t=o.length),t-=e.length;var n=o.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,o=Object(this),n=o.length>>>0,i=arguments[1],r=0;r<n;r++)if(t=o[r],e.call(i,t,r,o))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var o=-1,n=1,i=0;function r(e,t,c){if(e==t)return e?[[i,e]]:[];(c<0||e.length<c)&&(c=null);var h=s(e,t),d=e.substring(0,h);h=l(e=e.substring(h),t=t.substring(h));var p=e.substring(e.length-h),f=function(e,t){var c;if(!e)return[[n,t]];if(!t)return[[o,e]];var u=e.length>t.length?e:t,h=e.length>t.length?t:e,d=u.indexOf(h);if(-1!=d)return c=[[n,u.substring(0,d)],[i,h],[n,u.substring(d+h.length)]],e.length>t.length&&(c[0][0]=c[2][0]=o),c;if(1==h.length)return[[o,e],[n,t]];var p=function(e,t){var o=e.length>t.length?e:t,n=e.length>t.length?t:e;if(o.length<4||2*n.length<o.length)return null;function i(e,t,o){for(var n,i,r,a,c=e.substring(o,o+Math.floor(e.length/4)),u=-1,h="";-1!=(u=t.indexOf(c,u+1));){var d=s(e.substring(o),t.substring(u)),p=l(e.substring(0,o),t.substring(0,u));h.length<p+d&&(h=t.substring(u-p,u)+t.substring(u,u+d),n=e.substring(0,o-p),i=e.substring(o+d),r=t.substring(0,u-p),a=t.substring(u+d))}return 2*h.length>=e.length?[n,i,r,a,h]:null}var r,a,c,u,h,d=i(o,n,Math.ceil(o.length/4)),p=i(o,n,Math.ceil(o.length/2));if(!d&&!p)return null;r=p?d&&d[4].length>p[4].length?d:p:d;e.length>t.length?(a=r[0],c=r[1],u=r[2],h=r[3]):(u=r[0],h=r[1],a=r[2],c=r[3]);var f=r[4];return[a,c,u,h,f]}(e,t);if(p){var f=p[0],m=p[1],g=p[2],b=p[3],v=p[4],j=r(f,g),y=r(m,b);return j.concat([[i,v]],y)}return function(e,t){for(var i=e.length,r=t.length,s=Math.ceil((i+r)/2),l=s,c=2*s,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var p=i-r,f=p%2!=0,m=0,g=0,b=0,v=0,j=0;j<s;j++){for(var y=-j+m;y<=j-g;y+=2){for(var O=l+y,_=(E=y==-j||y!=j&&u[O-1]<u[O+1]?u[O+1]:u[O-1]+1)-y;E<i&&_<r&&e.charAt(E)==t.charAt(_);)E++,_++;if(u[O]=E,E>i)g+=2;else if(_>r)m+=2;else if(f){var C=l+p-y;if(C>=0&&C<c&&-1!=h[C]){var w=i-h[C];if(E>=w)return a(e,t,E,_)}}}for(var S=-j+b;S<=j-v;S+=2){for(var C=l+S,x=(w=S==-j||S!=j&&h[C-1]<h[C+1]?h[C+1]:h[C-1]+1)-S;w<i&&x<r&&e.charAt(i-w-1)==t.charAt(r-x-1);)w++,x++;if(h[C]=w,w>i)v+=2;else if(x>r)b+=2;else if(!f){var O=l+p-S;if(O>=0&&O<c&&-1!=u[O]){var E=u[O],_=l+E-O;if(E>=(w=i-w))return a(e,t,E,_)}}}}return[[o,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-h),t=t.substring(0,t.length-h));return d&&f.unshift([i,d]),p&&f.push([i,p]),function e(t){t.push([i,""]);var r=0;var a=0;var c=0;var u="";var h="";var d;for(;r<t.length;)switch(t[r][0]){case n:c++,h+=t[r][1],r++;break;case o:a++,u+=t[r][1],r++;break;case i:a+c>1?(0!==a&&0!==c&&(0!==(d=s(h,u))&&(r-a-c>0&&t[r-a-c-1][0]==i?t[r-a-c-1][1]+=h.substring(0,d):(t.splice(0,0,[i,h.substring(0,d)]),r++),h=h.substring(d),u=u.substring(d)),0!==(d=l(h,u))&&(t[r][1]=h.substring(h.length-d)+t[r][1],h=h.substring(0,h.length-d),u=u.substring(0,u.length-d))),0===a?t.splice(r-c,a+c,[n,h]):0===c?t.splice(r-a,a+c,[o,u]):t.splice(r-a-c,a+c,[o,u],[n,h]),r=r-a-c+(a?1:0)+(c?1:0)+1):0!==r&&t[r-1][0]==i?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,c=0,a=0,u="",h=""}""===t[t.length-1][1]&&t.pop();var p=!1;r=1;for(;r<t.length-1;)t[r-1][0]==i&&t[r+1][0]==i&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),p=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),p=!0)),r++;p&&e(t)}(f),null!=c&&(f=function(e,t){var n=function(e,t){if(0===t)return[i,e];for(var n=0,r=0;r<e.length;r++){var a=e[r];if(a[0]===o||a[0]===i){var s=n+a[1].length;if(t===s)return[r+1,e];if(t<s){e=e.slice();var l=t-n,c=[a[0],a[1].slice(0,l)],u=[a[0],a[1].slice(l)];return e.splice(r,1,c,u),[r+1,e]}n=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=n[1],a=n[0],s=r[a],l=r[a+1];if(null==s)return e;if(s[0]!==i)return e;if(null!=l&&s[1]+l[1]===l[1]+s[1])return r.splice(a,2,l,s),u(r,a,2);if(null!=l&&0===l[1].indexOf(s[1])){r.splice(a,2,[l[0],s[1]],[0,s[1]]);var c=l[1].slice(s[1].length);return c.length>0&&r.splice(a+2,0,[l[0],c]),u(r,a,3)}return e}(f,c)),f=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)e[a-2][0]===i&&((s=e[a-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319)&&e[a-1][0]===o&&r(e[a-1][1])&&e[a][0]===n&&r(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var s;if(!t)return e;for(var l=[],a=0;a<e.length;a+=1)e[a][1].length>0&&l.push(e[a]);return l}(f)}function a(e,t,o,n){var i=e.substring(0,o),a=t.substring(0,n),s=e.substring(o),l=t.substring(n),c=r(i,a),u=r(s,l);return c.concat(u)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var o=0,n=Math.min(e.length,t.length),i=n,r=0;o<i;)e.substring(r,i)==t.substring(r,i)?r=o=i:n=i,i=Math.floor((n-o)/2+o);return i}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var o=0,n=Math.min(e.length,t.length),i=n,r=0;o<i;)e.substring(e.length-i,e.length-r)==t.substring(t.length-i,t.length-r)?r=o=i:n=i,i=Math.floor((n-o)/2+o);return i}var c=r;function u(e,t,o){for(var n=t+o-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var i=e[n],r=e[n+1];i[0]===r[1]&&e.splice(n,2,[i[0],i[1]+r[1]])}return e}c.INSERT=n,c.DELETE=o,c.EQUAL=i,e.exports=c},function(e,t){function o(e){var t=[];for(var o in e)t.push(o);return t}(e.exports="function"==typeof Object.keys?Object.keys:o).shim=o},function(e,t){var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=o?n:i).supported=n,t.unsupported=i},function(e,t,o){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=o(690),i=o(691),r=o(692);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,o){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,o)}function c(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,o,n){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===o&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,o,n):"string"==typeof t?function(e,t,o){"string"==typeof o&&""!==o||(o="utf8");if(!l.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,o),i=(e=s(e,n)).write(t,o);i!==n&&(e=e.slice(0,i));return e}(e,t,o):function(e,t){if(l.isBuffer(t)){var o=0|p(t.length);return 0===(e=s(e,o)).length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):d(e,t);if("Buffer"===t.type&&r(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function d(e,t){var o=t.length<0?0:0|p(t.length);e=s(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return H(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function g(e,t,o,n,i){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=i?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(i)return-1;o=e.length-1}else if(o<0){if(!i)return-1;o=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,o,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):b(e,[t],o,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,o,n,i){var r,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,o/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(r=o;r<s;r++)if(c(e,r)===c(t,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(o+l>s&&(o=s-l),r=o;r>=0;r--){for(var h=!0,d=0;d<l;d++)if(c(e,r+d)!==c(t,d)){h=!1;break}if(h)return r}return-1}function v(e,t,o,n){o=Number(o)||0;var i=e.length-o;n?(n=Number(n))>i&&(n=i):n=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function j(e,t,o,n){return F(q(t,e.length-o),e,o,n)}function y(e,t,o,n){return F(function(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}(t),e,o,n)}function O(e,t,o,n){return y(e,t,o,n)}function _(e,t,o,n){return F(H(t),e,o,n)}function C(e,t,o,n){return F(function(e,t){for(var o,n,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)o=e.charCodeAt(a),n=o>>8,i=o%256,r.push(i),r.push(n);return r}(t,e.length-o),e,o,n)}function w(e,t,o){return 0===t&&o===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,o))}function S(e,t,o){o=Math.min(e.length,o);for(var n=[],i=t;i<o;){var r,a,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=o)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(r=e[i+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=e[i+1],a=e[i+2],128==(192&r)&&128==(192&a)&&(l=(15&c)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=e[i+1],a=e[i+2],s=e[i+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var o="",n=0;for(;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=x));return o}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,o){return c(null,e,t,o)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,o){return function(e,t,o,n){return u(t),t<=0?s(e,t):void 0!==o?"string"==typeof n?s(e,t).fill(o,n):s(e,t).fill(o):s(e,t)}(null,e,t,o)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,i=0,r=Math.min(o,n);i<r;++i)if(e[i]!==t[i]){o=e[i],n=t[i];break}return o<n?-1:n<o?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=l.allocUnsafe(t),i=0;for(o=0;o<e.length;++o){var a=e[o];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):function(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,o);case"utf8":case"utf-8":return S(this,t,o);case"ascii":return E(this,t,o);case"latin1":case"binary":return k(this,t,o);case"base64":return w(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,o,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||o>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=o)return 0;if(n>=i)return-1;if(t>=o)return 1;if(this===e)return 0;for(var r=(i>>>=0)-(n>>>=0),a=(o>>>=0)-(t>>>=0),s=Math.min(r,a),c=this.slice(n,i),u=e.slice(t,o),h=0;h<s;++h)if(c[h]!==u[h]){r=c[h],a=u[h];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},l.prototype.indexOf=function(e,t,o){return g(this,e,t,o,!0)},l.prototype.lastIndexOf=function(e,t,o){return g(this,e,t,o,!1)},l.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var i=this.length-t;if((void 0===o||o>i)&&(o=i),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return v(this,e,t,o);case"utf8":case"utf-8":return j(this,e,t,o);case"ascii":return y(this,e,t,o);case"latin1":case"binary":return O(this,e,t,o);case"base64":return _(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,o);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function E(e,t,o){var n="";o=Math.min(e.length,o);for(var i=t;i<o;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,o){var n="";o=Math.min(e.length,o);for(var i=t;i<o;++i)n+=String.fromCharCode(e[i]);return n}function L(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var i="",r=t;r<o;++r)i+=D(e[r]);return i}function I(e,t,o){for(var n=e.slice(t,o),i="",r=0;r<n.length;r+=2)i+=String.fromCharCode(n[r]+256*n[r+1]);return i}function T(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,o,n,i,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function N(e,t,o,n){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-o,2);i<r;++i)e[o+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function M(e,t,o,n){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-o,4);i<r;++i)e[o+i]=t>>>8*(n?i:3-i)&255}function A(e,t,o,n,i,r){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function z(e,t,o,n,r){return r||A(e,0,o,4),i.write(e,t,o,n,23,4),o+4}function P(e,t,o,n,r){return r||A(e,0,o,8),i.write(e,t,o,n,52,8),o+8}l.prototype.slice=function(e,t){var o,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;o=new l(i,void 0);for(var r=0;r<i;++r)o[r]=this[r+e]}return o},l.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n},l.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=t,i=1,r=this[e+--n];n>0&&(i*=256);)r+=this[e+--n]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||R(this,e,t,o,Math.pow(2,8*o)-1,0);var i=1,r=0;for(this[t]=255&e;++r<o&&(i*=256);)this[t+r]=e/i&255;return t+o},l.prototype.writeUIntBE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||R(this,e,t,o,Math.pow(2,8*o)-1,0);var i=o-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+o},l.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*o-1);R(this,e,t,o,i-1,-i)}var r=0,a=1,s=0;for(this[t]=255&e;++r<o&&(a*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+o},l.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*o-1);R(this,e,t,o,i-1,-i)}var r=o-1,a=1,s=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+o},l.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,o){return z(this,e,t,!0,o)},l.prototype.writeFloatBE=function(e,t,o){return z(this,e,t,!1,o)},l.prototype.writeDoubleLE=function(e,t,o){return P(this,e,t,!0,o)},l.prototype.writeDoubleBE=function(e,t,o){return P(this,e,t,!1,o)},l.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var i,r=n-o;if(this===e&&o<t&&t<n)for(i=r-1;i>=0;--i)e[i+t]=this[i+o];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+r),t);return r},l.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var r;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(r=t;r<o;++r)this[r]=e;else{var a=l.isBuffer(e)?e:q(new l(e,n).toString()),s=a.length;for(r=0;r<o-t;++r)this[r+t]=a[r%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var o;t=t||1/0;for(var n=e.length,i=null,r=[],a=0;a<n;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!i){if(o>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&r.push(239,191,189);continue}i=o;continue}if(o<56320){(t-=3)>-1&&r.push(239,191,189),i=o;continue}o=65536+(i-55296<<10|o-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,o<128){if((t-=1)<0)break;r.push(o)}else if(o<2048){if((t-=2)<0)break;r.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;r.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return r}function H(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,o,n){for(var i=0;i<n&&!(i+o>=t.length||i>=e.length);++i)t[i+o]=e[i];return i}}).call(this,o(46))},function(e,t,o){"use strict";t.byteLength=function(e){var t=c(e),o=t[0],n=t[1];return 3*(o+n)/4-n},t.toByteArray=function(e){for(var t,o=c(e),n=o[0],a=o[1],s=new r(function(e,t,o){return 3*(t+o)/4-o}(0,n,a)),l=0,u=a>0?n-4:n,h=0;h<u;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[l++]=255&t);1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,o=e.length,i=o%3,r=[],a=0,s=o-i;a<s;a+=16383)r.push(u(e,a,a+16383>s?s:a+16383));1===i?(t=e[o-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[o-2]<<8)+e[o-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return r.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function u(e,t,o){for(var i,r,a=[],s=t;s<o;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(r=i)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,o,n,i){var r,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=o?i-1:0,d=o?-1:1,p=e[t+h];for(h+=d,r=p&(1<<-u)-1,p>>=-u,u+=s;u>0;r=256*r+e[t+h],h+=d,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=n;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),r-=c}return(p?-1:1)*a*Math.pow(2,r-n)},t.write=function(e,t,o,n,i,r){var a,s,l,c=8*r-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[o+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[o+p]=255&a,p+=f,a/=256,c-=8);e[o+p-f]|=128*m}},function(e,t){var o={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},function(e,t,o){"use strict";(function(e){var o=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var o=-1;return e.some(function(e,n){return e[0]===t&&(o=n,!0)}),o}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var o=e(this.__entries__,t),n=this.__entries__[o];return n&&n[1]},t.prototype.set=function(t,o){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=o:this.__entries__.push([t,o])},t.prototype.delete=function(t){var o=this.__entries__,n=e(o,t);~n&&o.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var o=0,n=this.__entries__;o<n.length;o++){var i=n[o];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2;var s=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var o=!1,n=!1,i=0;function s(){o&&(o=!1,e()),n&&c()}function l(){r(s)}function c(){var e=Date.now();if(o){if(e-i<a)return;n=!0}else o=!0,n=!1,setTimeout(l,t);i=e}return c}(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,o=t.indexOf(e);~o&&t.splice(o,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,o=void 0===t?"":t;l.some(function(e){return!!~o.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),h=function(e,t){for(var o=0,n=Object.keys(t);o<n.length;o++){var i=n[o];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=j(0,0,0,0);function f(e){return parseFloat(e)||0}function m(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return t.reduce(function(t,o){return t+f(e["border-"+o+"-width"])},0)}function g(e){var t=e.clientWidth,o=e.clientHeight;if(!t&&!o)return p;var n=d(e).getComputedStyle(e),i=function(e){for(var t={},o=0,n=["top","right","bottom","left"];o<n.length;o++){var i=n[o],r=e["padding-"+i];t[i]=f(r)}return t}(n),r=i.left+i.right,a=i.top+i.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+r)!==t&&(s-=m(n,"left","right")+r),Math.round(l+a)!==o&&(l-=m(n,"top","bottom")+a)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(s+r)-t,u=Math.round(l+a)-o;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return j(i.left,i.top,s,l)}var b="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return n?b(e)?function(e){var t=e.getBBox();return j(0,0,t.width,t.height)}(e):g(e):p}function j(e,t,o,n){return{x:e,y:t,width:o,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=j(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),O=function(){return function(e,t){var o,n,i,r,a,s,l,c=(n=(o=t).x,i=o.y,r=o.width,a=o.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),h(l,{x:n,y:i,width:r,height:a,top:i,right:n+r,bottom:a+i,left:n}),l);h(this,{target:e,contentRect:c})}}(),_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new o,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new O(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!=typeof WeakMap?new WeakMap:new o,w=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=u.getInstance(),n=new _(t,o,this);C.set(this,n)}}();["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}});var S=void 0!==i.ResizeObserver?i.ResizeObserver:w;t.a=S}).call(this,o(46))},function(e,t){var o=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],n=o.join(","),i="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function r(e,t){t=t||{};var o,r,s,l=[],h=[],p=new d(e.ownerDocument||e),f=e.querySelectorAll(n);for(t.includeContainer&&i.call(e,n)&&(f=Array.prototype.slice.apply(f)).unshift(e),o=0;o<f.length;o++)a(r=f[o],p)&&(0===(s=c(r))?l.push(r):h.push({documentOrder:o,tabIndex:s,node:r}));return h.sort(u).map(function(e){return e.node}).concat(l)}function a(e,t){return!(!s(e,t)||function(e){return function(e){return h(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||c(e)<0)}function s(e,t){return t=t||new d(e.ownerDocument||e),!(e.disabled||function(e){return h(e)&&"hidden"===e.type}(e)||t.isUntouchable(e))}r.isTabbable=function(e,t){if(!e)throw new Error("No node provided");return!1!==i.call(e,n)&&a(e,t)},r.isFocusable=function(e,t){if(!e)throw new Error("No node provided");return!1!==i.call(e,l)&&s(e,t)};var l=o.concat("iframe").join(",");function c(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function u(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function h(e){return"INPUT"===e.tagName}function d(e){this.doc=e,this.cache=[]}d.prototype.hasDisplayNone=function(e,t){if(e===this.doc.documentElement)return!1;var o=function(e,t){for(var o=0,n=e.length;o<n;o++)if(t(e[o]))return e[o]}(this.cache,function(t){return t===e});if(o)return o[1];var n=!1;return"none"===(t=t||this.doc.defaultView.getComputedStyle(e)).display?n=!0:e.parentNode&&(n=this.hasDisplayNone(e.parentNode)),this.cache.push([e,n]),n},d.prototype.isUntouchable=function(e){if(e===this.doc.documentElement)return!1;var t=this.doc.defaultView.getComputedStyle(e);return!!this.hasDisplayNone(e,t)||"hidden"===t.visibility},e.exports=r},function(e,t,o){var n=o(696);e.exports=function(e,t){return n(e,t)}},function(e,t,o){var n=o(697),i=o(52);e.exports=function e(t,o,r,a,s){return t===o||(null==t||null==o||!i(t)&&!i(o)?t!=t&&o!=o:n(t,o,r,a,e,s))}},function(e,t,o){var n=o(269),i=o(657),r=o(703),a=o(706),s=o(716),l=o(82),c=o(98),u=o(99),h=1,d="[object Arguments]",p="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,g,b,v){var j=l(e),y=l(t),O=j?p:s(e),_=y?p:s(t),C=(O=O==d?f:O)==f,w=(_=_==d?f:_)==f,S=O==_;if(S&&c(e)){if(!c(t))return!1;j=!0,C=!1}if(S&&!C)return v||(v=new n),j||u(e)?i(e,t,o,g,b,v):r(e,t,O,o,g,b,v);if(!(o&h)){var x=C&&m.call(e,"__wrapped__"),E=w&&m.call(t,"__wrapped__");if(x||E){var k=x?e.value():e,L=E?t.value():t;return v||(v=new n),b(k,L,o,g,v)}}return!!S&&(v||(v=new n),a(e,t,o,g,b,v))}},function(e,t,o){var n=o(95),i=o(699),r=o(700);function a(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=r,e.exports=a},function(e,t){var o="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,o),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,o){var n=o(84),i=o(270),r=o(63),a=o(657),s=o(704),l=o(705),c=1,u=2,h="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",b="[object Set]",v="[object String]",j="[object Symbol]",y="[object ArrayBuffer]",O="[object DataView]",_=n?n.prototype:void 0,C=_?_.valueOf:void 0;e.exports=function(e,t,o,n,_,w,S){switch(o){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!w(new i(e),new i(t)));case h:case d:case m:return r(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case f:var x=s;case b:var E=n&c;if(x||(x=l),e.size!=t.size&&!E)return!1;var k=S.get(e);if(k)return k==t;n|=u,S.set(e,t);var L=a(x(e),x(t),n,_,w,S);return S.delete(e),L;case j:if(C)return C.call(e)==C.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o}},function(e,t){e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}},function(e,t,o){var n=o(707),i=1,r=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,a,s,l){var c=o&i,u=n(e),h=u.length;if(h!=n(t).length&&!c)return!1;for(var d=h;d--;){var p=u[d];if(!(c?p in t:r.call(t,p)))return!1}var f=l.get(e);if(f&&l.get(t))return f==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=c;++d<h;){var b=e[p=u[d]],v=t[p];if(a)var j=c?a(v,b,p,t,e,l):a(b,v,p,e,t,l);if(!(void 0===j?b===v||s(b,v,o,a,l):j)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var y=e.constructor,O=t.constructor;y!=O&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof O&&O instanceof O)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t,o){var n=o(708),i=o(710),r=o(713);e.exports=function(e){return n(e,r,i)}},function(e,t,o){var n=o(709),i=o(82);e.exports=function(e,t,o){var r=t(e);return i(e)?r:n(r,o(e))}},function(e,t){e.exports=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e}},function(e,t,o){var n=o(711),i=o(712),r=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),function(t){return r.call(e,t)}))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=0,r=[];++o<n;){var a=e[o];t(a,o,e)&&(r[i++]=a)}return r}},function(e,t){e.exports=function(){return[]}},function(e,t,o){var n=o(272),i=o(714),r=o(85);e.exports=function(e){return r(e)?n(e):i(e)}},function(e,t,o){var n=o(97),i=o(715),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var o in Object(e))r.call(e,o)&&"constructor"!=o&&t.push(o);return t}},function(e,t,o){var n=o(271)(Object.keys,Object);e.exports=n},function(e,t,o){var n=o(717),i=o(96),r=o(718),a=o(719),s=o(720),l=o(59),c=o(268),u=c(n),h=c(i),d=c(r),p=c(a),f=c(s),m=l;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||r&&"[object Promise]"!=m(r.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),o="[object Object]"==t?e.constructor:void 0,n=o?c(o):"";if(n)switch(n){case u:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,o){var n=o(81)(o(45),"DataView");e.exports=n},function(e,t,o){var n=o(81)(o(45),"Promise");e.exports=n},function(e,t,o){var n=o(81)(o(45),"Set");e.exports=n},function(e,t,o){var n=o(81)(o(45),"WeakMap");e.exports=n},function(e,t,o){"use strict";(function(e){o.d(t,"a",function(){return v});var n=o(8),i=o(9),r=o(11),a=o(10),s=o(14),l=o(12),c=o(6),u=o(34),h=o.n(u),d=o(0),p=o.n(d),f=o(618),m=o(16),g=o(789),b="modals";var v=function(t){function o(){var e,t;Object(n.a)(this,o);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return t=Object(r.a)(this,(e=Object(a.a)(o)).call.apply(e,[this].concat(l))),Object(c.a)(Object(s.a)(t),"selfRef",p.a.createRef()),Object(c.a)(Object(s.a)(t),"state",{exitElementSet:!1}),Object(c.a)(Object(s.a)(t),"handleTabbing",function(e){e.shiftKey&&9===e.keyCode?t.handleShiftTab(e):e.shiftKey||9!==e.keyCode||t.handleTab(e)}),Object(c.a)(Object(s.a)(t),"handleDocumentEscapePress",function(e){var n=o.stack[o.stack.length-1];if("keyCode"in e&&27===e.keyCode){if(e.preventDefault(),e.stopPropagation(),1===o.stack.length&&t.props.isWholePage)return;n.props.exitHandler&&n.props.exitHandler(e)}}),Object(c.a)(Object(s.a)(t),"handleModalClick",function(e){e.stopPropagation()}),Object(c.a)(Object(s.a)(t),"handleScrimClick",function(e){e.preventDefault(),t.props.exitHandler&&t.props.exitHandler(e)}),t}return Object(l.a)(o,t),Object(i.a)(o,[{key:"render",value:function(){return h.a.createPortal(p.a.createElement(g.a,{scrollable:this.props.scrollable,onKeyDown:this.handleTabbing,onModalClick:this.handleModalClick,onOverlayClick:this.handleScrimClick,description:this.props.description,size:this.props.size,modalRef:this.selfRef,titleID:"titleID"in this.props?this.props.titleID:void 0,label:"label"in this.props?this.props.label:void 0},this.props.children),this.getModalContainer())}},{key:"componentDidMount",value:function(){var e=this.getPageContainer();e||Object(m.h)('\nA modal was mounted, but the page container could not be found.\nPlease wrap your primary content area with the ID "'.concat("page",'" so it can be hidden to screenreaders.\n            ')),this.focusInitialElement(),e&&e.setAttribute("aria-hidden",!0),0===o.stack.length&&document.addEventListener("keydown",this.handleDocumentEscapePress),o.stack.push(this),this.forceUpdate()}},{key:"componentDidUpdate",value:function(e){e.elementToFocus!==this.props.elementToFocus&&this.focusInitialElement(),this.setCloseFocusElement()}},{key:"componentWillUnmount",value:function(){var t=this.getPageContainer();o.stack.pop(),0===o.stack.length?(t&&t.removeAttribute("aria-hidden"),document.removeEventListener("keydown",this.handleDocumentEscapePress)):t&&t.setAttribute("aria-hidden",!0);var n=o.focusHistory.pop()||document.body;n.focus(),e(function(){n.focus()})}},{key:"getModalContainer",value:function(){var e=document.getElementById(b);return null===e&&((e=document.createElement("div")).id=b,document.body.appendChild(e)),e}},{key:"getPageContainer",value:function(){return document.getElementById("page")}},{key:"focusInitialElement",value:function(){var e=this.props.elementToFocus?this.props.elementToFocus:this.tabHandler.getInitial();e&&e.focus()}},{key:"setCloseFocusElement",value:function(){this.props.elementToFocusOnExit&&!this.state.exitElementSet&&(o.focusHistory.push(this.props.elementToFocusOnExit),this.setState({exitElementSet:!0}))}},{key:"handleShiftTab",value:function(e){var t=this.tabHandler.getNext(void 0,!0);t&&(e.preventDefault(),e.stopPropagation(),t.focus())}},{key:"handleTab",value:function(e){var t=this.tabHandler.getNext();t&&(e.preventDefault(),e.stopPropagation(),t.focus())}},{key:"tabHandler",get:function(){return new f.a(this.selfRef.current)}}]),o}(p.a.Component);Object(c.a)(v,"defaultProps",{isWholePage:!1}),Object(c.a)(v,"focusHistory",[]),Object(c.a)(v,"stack",[])}).call(this,o(267).setImmediate)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(0),r=h(i),a=o(619),s=o(660),l=h(o(725)),c=h(o(726)),u=o(620);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),n(t,[{key:"componentDidMount",value:function(){a.canUseDOM&&(this.initialHeight=window.innerHeight)}},{key:"componentWillUnmount",value:function(){var e=window.innerHeight-this.initialHeight;e&&window.scrollTo(0,window.pageYOffset+e),this.initialHeight=window.innerHeight}},{key:"render",value:function(){var e=this.props.children;return e?r.default.createElement(s.TouchScrollable,null,e):null}}]),t}(),p=(0,u.pipe)(c.default,l.default)(d),f=function(e){return e.isActive?r.default.createElement(p,e):e.children};f.defaultProps={accountForScrollbars:!0,children:null,isActive:!0},t.default=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(724);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(0),r=o(34);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),n(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,r.findDOMNode)(this))}},{key:"componentDidUpdate",value:function(e){e.children!==this.props.children&&this.props.innerRef((0,r.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}();t.default=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.default=function(e){return function(t){function o(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(r))),t=n,n.addSheet=function(){var e=n.getStyles(),t=(0,s.makeStyleTag)();t&&((0,s.injectStyles)(t,e),(0,s.insertStyleTag)(t),n.sheet=t)},n.getStyles=function(){var e=n.props.accountForScrollbars,t=(0,s.getDocumentHeight)(),o=e?(0,s.getPadding)():null,i="body {\n        box-sizing: border-box !important;\n        overflow: hidden !important;\n        position: relative !important;\n        "+(t?"height: "+t+"px !important;":"")+"\n        "+(o?"padding-right: "+o+"px !important;":"")+"\n      }";return i},l(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),n(o,[{key:"componentDidMount",value:function(){this.addSheet()}},{key:"removeSheet",value:function(){this.sheet&&(this.sheet.parentNode.removeChild(this.sheet),this.sheet=null)}},{key:"componentWillUnmount",value:function(){this.removeSheet()}},{key:"render",value:function(){return a.default.createElement(e,this.props)}}]),o}(r.PureComponent)};var i,r=o(0),a=(i=r)&&i.__esModule?i:{default:i},s=o(620);function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();t.default=function(e){return function(t){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),n(o,[{key:"componentDidMount",value:function(){s.canUseDOM&&(0,l.isTouchDevice)()&&document.addEventListener("touchmove",l.preventTouchMove,l.listenerOptions)}},{key:"componentWillUnmount",value:function(){s.canUseDOM&&(0,l.isTouchDevice)()&&document.removeEventListener("touchmove",l.preventTouchMove,l.listenerOptions)}},{key:"render",value:function(){return a.default.createElement(e,this.props)}}]),o}(r.PureComponent)};var i,r=o(0),a=(i=r)&&i.__esModule?i:{default:i},s=o(619),l=o(620)},function(e,t,o){o(728),e.exports=o(575).Object.getPrototypeOf},function(e,t,o){var n=o(621),i=o(661);o(636)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,o){o(730);var n=o(575).Object;e.exports=function(e,t,o){return n.defineProperty(e,t,o)}},function(e,t,o){var n=o(584);n(n.S+n.F*!o(592),"Object",{defineProperty:o(590).f})},function(e,t,o){e.exports={default:o(732),__esModule:!0}},function(e,t,o){o(625),o(627),e.exports=o(642).f("iterator")},function(e,t,o){var n=o(639),i=o(633);e.exports=function(e){return function(t,o){var r,a,s=String(i(t)),l=n(o),c=s.length;return l<0||l>=c?e?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):r:e?s.slice(l,l+2):a-56320+(r-55296<<10)+65536}}},function(e,t,o){"use strict";var n=o(640),i=o(624),r=o(626),a={};o(598)(a,o(582)("iterator"),function(){return this}),e.exports=function(e,t,o){e.prototype=n(a,{next:i(1,o)}),r(e,t+" Iterator")}},function(e,t,o){var n=o(590),i=o(585),r=o(614);e.exports=o(592)?Object.defineProperties:function(e,t){i(e);for(var o,a=r(t),s=a.length,l=0;s>l;)n.f(e,o=a[l++],t[o]);return e}},function(e,t,o){var n=o(599),i=o(669),r=o(737);e.exports=function(e){return function(t,o,a){var s,l=n(t),c=i(l.length),u=r(a,c);if(e&&o!=o){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===o)return e||u||0;return!e&&-1}}},function(e,t,o){var n=o(639),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):r(e,t)}},function(e,t,o){"use strict";var n=o(739),i=o(740),r=o(604),a=o(599);e.exports=o(665)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?o:"values"==t?e[o]:[o,e[o]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,o){e.exports={default:o(742),__esModule:!0}},function(e,t,o){o(743),o(672),o(748),o(749),e.exports=o(575).Symbol},function(e,t,o){"use strict";var n=o(581),i=o(597),r=o(592),a=o(584),s=o(666),l=o(744).KEY,c=o(603),u=o(635),h=o(626),d=o(622),p=o(582),f=o(642),m=o(643),g=o(745),b=o(746),v=o(585),j=o(591),y=o(599),O=o(638),_=o(624),C=o(640),w=o(747),S=o(645),x=o(590),E=o(614),k=S.f,L=x.f,I=w.f,T=n.Symbol,R=n.JSON,N=R&&R.stringify,M=p("_hidden"),A=p("toPrimitive"),z={}.propertyIsEnumerable,P=u("symbol-registry"),B=u("symbols"),D=u("op-symbols"),q=Object.prototype,H="function"==typeof T,F=n.QObject,U=!F||!F.prototype||!F.prototype.findChild,W=r&&c(function(){return 7!=C(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,o){var n=k(q,t);n&&delete q[t],L(e,t,o),n&&e!==q&&L(q,t,n)}:L,G=function(e){var t=B[e]=C(T.prototype);return t._k=e,t},V=H&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},K=function(e,t,o){return e===q&&K(D,t,o),v(e),t=O(t,!0),v(o),i(B,t)?(o.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),o=C(o,{enumerable:_(0,!1)})):(i(e,M)||L(e,M,_(1,{})),e[M][t]=!0),W(e,t,o)):L(e,t,o)},Y=function(e,t){v(e);for(var o,n=g(t=y(t)),i=0,r=n.length;r>i;)K(e,o=n[i++],t[o]);return e},Z=function(e){var t=z.call(this,e=O(e,!0));return!(this===q&&i(B,e)&&!i(D,e))&&(!(t||!i(this,e)||!i(B,e)||i(this,M)&&this[M][e])||t)},$=function(e,t){if(e=y(e),t=O(t,!0),e!==q||!i(B,t)||i(D,t)){var o=k(e,t);return!o||!i(B,t)||i(e,M)&&e[M][t]||(o.enumerable=!0),o}},X=function(e){for(var t,o=I(y(e)),n=[],r=0;o.length>r;)i(B,t=o[r++])||t==M||t==l||n.push(t);return n},Q=function(e){for(var t,o=e===q,n=I(o?D:y(e)),r=[],a=0;n.length>a;)!i(B,t=n[a++])||o&&!i(q,t)||r.push(B[t]);return r};H||(s((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(o){this===q&&t.call(D,o),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),W(this,e,_(1,o))};return r&&U&&W(q,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),S.f=$,x.f=K,o(671).f=w.f=X,o(628).f=Z,o(644).f=Q,r&&!o(612)&&s(q,"propertyIsEnumerable",Z,!0),f.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:T});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)p(J[ee++]);for(var te=E(p.store),oe=0;te.length>oe;)m(te[oe++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(P,e+="")?P[e]:P[e]=T(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in P)if(P[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?C(e):Y(C(e),t)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:X,getOwnPropertySymbols:Q}),R&&a(a.S+a.F*(!H||c(function(){var e=T();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,o,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(o=t=n[1],(j(t)||void 0!==e)&&!V(e))return b(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!V(t))return t}),n[1]=t,N.apply(R,n)}}),T.prototype[A]||o(598)(T.prototype,A,T.prototype.valueOf),h(T,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(e,t,o){var n=o(622)("meta"),i=o(591),r=o(597),a=o(590).f,s=0,l=Object.isExtensible||function(){return!0},c=!o(603)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!r(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!r(e,n)&&u(e),e}}},function(e,t,o){var n=o(614),i=o(644),r=o(628);e.exports=function(e){var t=n(e),o=i.f;if(o)for(var a,s=o(e),l=r.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,o){var n=o(615);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,o){var n=o(599),i=o(671).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==r.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,o){o(643)("asyncIterator")},function(e,t,o){o(643)("observable")},function(e,t,o){e.exports={default:o(751),__esModule:!0}},function(e,t,o){o(752),e.exports=o(575).Object.setPrototypeOf},function(e,t,o){var n=o(584);n(n.S,"Object",{setPrototypeOf:o(753).set})},function(e,t,o){var n=o(591),i=o(585),r=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=o(613)(Function.call,o(645).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,o){return r(e,o),t?e.__proto__=o:n(e,o),e}}({},!1):void 0),check:r}},function(e,t,o){e.exports={default:o(755),__esModule:!0}},function(e,t,o){o(756);var n=o(575).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,o){var n=o(584);n(n.S,"Object",{create:o(640)})},function(e,t,o){o(758),e.exports=o(575).Object.assign},function(e,t,o){var n=o(584);n(n.S+n.F,"Object",{assign:o(759)})},function(e,t,o){"use strict";var n=o(614),i=o(644),r=o(628),a=o(621),s=o(668),l=Object.assign;e.exports=!l||o(603)(function(){var e={},t={},o=Symbol(),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[o]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var o=a(e),l=arguments.length,c=1,u=i.f,h=r.f;l>c;)for(var d,p=s(arguments[c++]),f=u?n(p).concat(u(p)):n(p),m=f.length,g=0;m>g;)h.call(p,d=f[g++])&&(o[d]=p[d]);return o}:l},function(e,t,o){o(761),e.exports=o(575).Object.keys},function(e,t,o){var n=o(621),i=o(614);o(636)("keys",function(){return function(e){return i(n(e))}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,o){e.exports={default:o(764),__esModule:!0}},function(e,t,o){o(672),o(625),o(627),o(765),o(776),o(777),e.exports=o(575).Promise},function(e,t,o){"use strict";var n,i,r,a,s=o(612),l=o(581),c=o(613),u=o(648),h=o(584),d=o(591),p=o(623),f=o(766),m=o(767),g=o(676),b=o(677).set,v=o(771)(),j=o(649),y=o(678),O=o(772),_=o(679),C=l.TypeError,w=l.process,S=w&&w.versions,x=S&&S.v8||"",E=l.Promise,k="process"==u(w),L=function(){},I=i=j.f,T=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[o(582)("species")]=function(e){e(L,L)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==x.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var o=e._c;v(function(){for(var n=e._v,i=1==e._s,r=0,a=function(t){var o,r,a,s=i?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(i||(2==e._h&&z(e),e._h=1),!0===s?o=n:(u&&u.enter(),o=s(n),u&&(u.exit(),a=!0)),o===t.promise?c(C("Promise-chain cycle")):(r=R(o))?r.call(o,l,c):l(o)):c(n)}catch(e){u&&!a&&u.exit(),c(e)}};o.length>r;)a(o[r++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){b.call(l,function(){var t,o,n,i=e._v,r=A(e);if(r&&(t=y(function(){k?w.emit("unhandledRejection",i,e):(o=l.onunhandledrejection)?o({promise:e,reason:i}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=k||A(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},z=function(e){b.call(l,function(){var t;k?w.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},P=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},B=function(e){var t,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===e)throw C("Promise can't be resolved itself");(t=R(e))?v(function(){var n={_w:o,_d:!1};try{t.call(e,c(B,n,1),c(P,n,1))}catch(e){P.call(n,e)}}):(o._v=e,o._s=1,N(o,!1))}catch(e){P.call({_w:o,_d:!1},e)}}};T||(E=function(e){f(this,E,"Promise","_h"),p(e),n.call(this);try{e(c(B,this,1),c(P,this,1))}catch(e){P.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=o(773)(E.prototype,{then:function(e,t){var o=I(g(this,E));return o.ok="function"!=typeof e||e,o.fail="function"==typeof t&&t,o.domain=k?w.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&N(this,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new n;this.promise=e,this.resolve=c(B,e,1),this.reject=c(P,e,1)},j.f=I=function(e){return e===E||e===a?new r(e):i(e)}),h(h.G+h.W+h.F*!T,{Promise:E}),o(626)(E,"Promise"),o(774)("Promise"),a=o(575).Promise,h(h.S+h.F*!T,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!T),"Promise",{resolve:function(e){return _(s&&this===a?E:this,e)}}),h(h.S+h.F*!(T&&o(775)(function(e){E.all(e).catch(L)})),"Promise",{all:function(e){var t=this,o=I(t),n=o.resolve,i=o.reject,r=y(function(){var o=[],r=0,a=1;m(e,!1,function(e){var s=r++,l=!1;o.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,o[s]=e,--a||n(o))},i)}),--a||n(o)});return r.e&&i(r.v),o.promise},race:function(e){var t=this,o=I(t),n=o.reject,i=y(function(){m(e,!1,function(e){t.resolve(e).then(o.resolve,n)})});return i.e&&n(i.v),o.promise}})},function(e,t){e.exports=function(e,t,o,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(o+": incorrect invocation!");return e}},function(e,t,o){var n=o(613),i=o(768),r=o(769),a=o(585),s=o(669),l=o(675),c={},u={};(t=e.exports=function(e,t,o,h,d){var p,f,m,g,b=d?function(){return e}:l(e),v=n(o,h,t?2:1),j=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(r(b)){for(p=s(e.length);p>j;j++)if((g=t?v(a(f=e[j])[0],f[1]):v(e[j]))===c||g===u)return g}else for(m=b.call(e);!(f=m.next()).done;)if((g=i(m,v,f.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t,o){var n=o(585);e.exports=function(e,t,o,i){try{return i?t(n(o)[0],o[1]):t(o)}catch(t){var r=e.return;throw void 0!==r&&n(r.call(e)),t}}},function(e,t,o){var n=o(604),i=o(582)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||r[i]===e)}},function(e,t){e.exports=function(e,t,o){var n=void 0===o;switch(t.length){case 0:return n?e():e.call(o);case 1:return n?e(t[0]):e.call(o,t[0]);case 2:return n?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},function(e,t,o){var n=o(581),i=o(677).set,r=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==o(615)(a);e.exports=function(){var e,t,o,c=function(){var n,i;for(l&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?o():t=void 0,n}}t=void 0,n&&n.enter()};if(l)o=function(){a.nextTick(c)};else if(!r||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);o=function(){u.then(c)}}else o=function(){i.call(n,c)};else{var h=!0,d=document.createTextNode("");new r(c).observe(d,{characterData:!0}),o=function(){d.data=h=!h}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,o()),t=i}}},function(e,t,o){var n=o(581).navigator;e.exports=n&&n.userAgent||""},function(e,t,o){var n=o(598);e.exports=function(e,t,o){for(var i in t)o&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t,o){"use strict";var n=o(581),i=o(575),r=o(590),a=o(592),s=o(582)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,o){var n=o(582)("iterator"),i=!1;try{var r=[7][n]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var o=!1;try{var r=[7],a=r[n]();a.next=function(){return{done:o=!0}},r[n]=function(){return a},e(r)}catch(e){}return o}},function(e,t,o){"use strict";var n=o(584),i=o(575),r=o(581),a=o(676),s=o(679);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||r.Promise),o="function"==typeof e;return this.then(o?function(o){return s(t,e()).then(function(){return o})}:e,o?function(o){return s(t,e()).then(function(){throw o})}:e)}})},function(e,t,o){"use strict";var n=o(584),i=o(649),r=o(678);n(n.S,"Promise",{try:function(e){var t=i.f(this),o=r(e);return(o.e?t.reject:t.resolve)(o.v),t.promise}})},function(e,t,o){e.exports={default:o(779),__esModule:!0}},function(e,t,o){o(780);var n=o(575).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,o){var n=o(599),i=o(645).f;o(636)("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},function(e,t,o){"use strict";t.__esModule=!0;var n,i=o(663),r=(n=i)&&n.__esModule?n:{default:n};t.default=function(e,t,o){return t in e?(0,r.default)(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(e,t,o){"use strict";t.__esModule=!0;var n=r(o(783)),i=r(o(786));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var s,l=(0,i.default)(e);!(n=(s=l.next()).done)&&(o.push(s.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,o){e.exports={default:o(784),__esModule:!0}},function(e,t,o){o(627),o(625),e.exports=o(785)},function(e,t,o){var n=o(648),i=o(582)("iterator"),r=o(604);e.exports=o(575).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||r.hasOwnProperty(n(t))}},function(e,t,o){e.exports={default:o(787),__esModule:!0}},function(e,t,o){o(627),o(625),e.exports=o(788)},function(e,t,o){var n=o(585),i=o(675);e.exports=o(575).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,o){"use strict";var n=o(658),i=o(3),r=o(255),a=o(47),s=o(13),l=o(83),c=o(1),u=o(7),h=o(2),d=Object(u.c)(function(){var e=Object(s.b)(),t=Object(u.d)("modal"),o=e.elementaryColors,n=t("colors",{fg:e.mainColors.fg,bg:e.mainColors.bg,overlayBg:e.mainColors.fg.lightness()>.5?o.white.fade(.4):o.black.fade(.4)}),i=t("sizing",{large:720,medium:516,small:375}),r=t("spacing",{horizontalMargin:16}),a=t("border",{radius:e.border.radius}),l=t("dropDown",{padding:e.spacer.size}),h=t("header",{minHeight:60,verticalPadding:12,boxShadow:"0 1px 2px 0 ".concat(Object(c.g)(e.overlay.bg))});return{colors:n,sizing:i,spacing:r,border:a,dropDown:l,header:h,footer:t("footer",{minHeight:h.minHeight,verticalPadding:h.verticalPadding,boxShadow:"0 -1px 2px 0 ".concat(Object(c.g)(e.overlay.bg))})}}),p=Object(u.c)(function(){var e=Object(s.b)(),t=d(),o=Object(u.b)("modal"),n=Object(a.a)().mediaQueries(),p=Object(l.a)(),f=Object(r.a)(),m=o("overlay",{position:"fixed",height:Object(h.m)(100),width:Object(h.g)(100),top:0,left:0,right:0,bottom:0,background:Object(c.g)(t.colors.overlayBg),zIndex:10});return{root:o(Object(i.a)({display:"flex",flexDirection:"column",width:Object(h.g)(100),maxWidth:Object(h.g)(100),maxHeight:Object(h.m)(80),zIndex:1,backgroundColor:Object(c.g)(t.colors.bg),position:"fixed",top:Object(h.g)(50),left:Object(h.g)(50),bottom:"initial",overflow:"hidden",borderRadius:Object(c.B)(t.border.radius),transform:Object(h.j)("-50%","-50%")},Object(c.o)({all:"auto"}),{$nest:{"&&.isFullScreen":{width:Object(h.g)(100),height:Object(h.g)(100),maxHeight:Object(h.g)(100),maxWidth:Object(h.g)(100),borderRadius:0,border:"none",top:0,bottom:0,transform:"none",left:0,right:0},"&.isLarge":{width:Object(c.B)(t.sizing.large),maxWidth:Object(h.b)("100% - ".concat(Object(c.B)(2*t.spacing.horizontalMargin)))},"&.isMedium":{width:Object(c.B)(t.sizing.medium),maxWidth:Object(h.b)("100% - ".concat(Object(c.B)(2*t.spacing.horizontalMargin)))},"&.isSmall":{width:Object(c.B)(t.sizing.small),maxWidth:Object(h.b)("100% - ".concat(Object(c.B)(2*t.spacing.horizontalMargin)))},"&&&.isSidePanel":{left:Object(c.B)(t.dropDown.padding),width:Object(h.b)("100% - ".concat(Object(c.B)(t.dropDown.padding))),display:"flex",flexDirection:"column",top:0,bottom:0,right:0,transform:"none",borderTopRightRadius:0,borderBottomRightRadius:0},"&&.isDropDown":{top:0,left:0,right:0,bottom:e.gutter.size,width:Object(h.g)(100),marginBottom:"auto",transform:"none",maxHeight:Object(h.g)(100),borderTopLeftRadius:0,borderTopRightRadius:0},"&.isShadowed":Object(i.a)({},p.dropDown(),Object(c.e)())}})),scroll:o("scroll",{width:Object(h.g)(100),maxHeight:Object(h.g)(100),overflow:"auto"}),content:o("content",p.modal()),pageHeader:o("pageHeader",Object(c.z)(),Object(i.a)({},p.embed(),{top:0,display:"flex",alignItems:"center",justifyContent:"center",height:Object(c.B)(f.sizing.height),minHeight:Object(c.B)(f.sizing.height),zIndex:2,background:Object(c.g)(t.colors.bg),$nest:{"&.noShadow":{boxShadow:"none"}}}),n.oneColumnDown({minHeight:Object(c.B)(f.sizing.mobile.height)})),overlay:m}}),f=o(26),m=o(17),g=o.n(m),b=o(0),v=o.n(b),j=o(659),y=o.n(j),O=o(27);
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function _(e){var t=Object(b.useMemo)(function(){return Object(f.c)("modal")},[])+"-description",o=Object(b.useRef)(null),i=e.modalRef||o,r=e.titleID,a=e.label,s=e.size,l=p(),c=v.a.createElement(v.a.Fragment,null,e.description&&v.a.createElement("div",{id:t,className:"sr-only"},e.description),e.children);return e.scrollable&&(c=v.a.createElement(j.TouchScrollable,null,v.a.createElement("div",{className:l.scroll},c))),Object(O.b)(),v.a.createElement(y.a,null,v.a.createElement("div",{className:l.overlay,onClick:e.onOverlayClick},v.a.createElement("div",{role:"dialog","aria-modal":!0,className:g()(l.root,{isFullScreen:s===n.a.FULL_SCREEN||s===n.a.MODAL_AS_SIDE_PANEL,isSidePanel:s===n.a.MODAL_AS_SIDE_PANEL,isDropDown:s===n.a.MODAL_AS_DROP_DOWN,isLarge:s===n.a.LARGE,isMedium:s===n.a.MEDIUM,isSmall:s===n.a.SMALL,isShadowed:s===n.a.LARGE||n.a.MEDIUM||n.a.SMALL},e.className),ref:i,onKeyDown:e.onKeyDown,onClick:e.onModalClick,"aria-label":a,"aria-labelledby":r,"aria-describedby":e.description?t:void 0},c)))}o.d(t,"a",function(){return _})}])]);
//# sourceMappingURL=async~mountEditor.min.js.map?5997a7caf9dad52f703b